/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 4);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./platform/core/media/resources/assets/js/App/Config/MediaConfig.js":
/*!***************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Config/MediaConfig.js ***!
  \***************************************************************************/
/*! exports provided: MediaConfig, RecentItems */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaConfig\", function() { return MediaConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RecentItems\", function() { return RecentItems; });\nvar MediaConfig = $.parseJSON(localStorage.getItem('MediaConfig')) || {};\nvar defaultConfig = {\n  app_key: '483a0xyzytz1242c0d520426e8ba366c530c3d9d3xs',\n  request_params: {\n    view_type: 'tiles',\n    filter: 'everything',\n    view_in: 'all_media',\n    search: '',\n    sort_by: 'created_at-desc',\n    folder_id: 0\n  },\n  hide_details_pane: false,\n  icons: {\n    folder: 'fa fa-folder'\n  },\n  actions_list: {\n    basic: [{\n      icon: 'fa fa-eye',\n      name: 'Preview',\n      action: 'preview',\n      order: 0,\n      \"class\": 'rv-action-preview'\n    }],\n    file: [{\n      icon: 'fa fa-link',\n      name: 'Copy link',\n      action: 'copy_link',\n      order: 0,\n      \"class\": 'rv-action-copy-link'\n    }, {\n      icon: 'far fa-edit',\n      name: 'Rename',\n      action: 'rename',\n      order: 1,\n      \"class\": 'rv-action-rename'\n    }, {\n      icon: 'fa fa-copy',\n      name: 'Make a copy',\n      action: 'make_copy',\n      order: 2,\n      \"class\": 'rv-action-make-copy'\n    }],\n    user: [{\n      icon: 'fa fa-star',\n      name: 'Favorite',\n      action: 'favorite',\n      order: 2,\n      \"class\": 'rv-action-favorite'\n    }, {\n      icon: 'fa fa-star',\n      name: 'Remove favorite',\n      action: 'remove_favorite',\n      order: 3,\n      \"class\": 'rv-action-favorite'\n    }],\n    other: [{\n      icon: 'fa fa-download',\n      name: 'Download',\n      action: 'download',\n      order: 0,\n      \"class\": 'rv-action-download'\n    }, {\n      icon: 'fa fa-trash',\n      name: 'Move to trash',\n      action: 'trash',\n      order: 1,\n      \"class\": 'rv-action-trash'\n    }, {\n      icon: 'fa fa-eraser',\n      name: 'Delete permanently',\n      action: 'delete',\n      order: 2,\n      \"class\": 'rv-action-delete'\n    }, {\n      icon: 'fa fa-undo',\n      name: 'Restore',\n      action: 'restore',\n      order: 3,\n      \"class\": 'rv-action-restore'\n    }]\n  }\n};\n\nif (!MediaConfig.app_key || MediaConfig.app_key !== defaultConfig.app_key) {\n  MediaConfig = defaultConfig;\n}\n\nvar RecentItems = $.parseJSON(localStorage.getItem('RecentItems')) || [];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL0NvbmZpZy9NZWRpYUNvbmZpZy5qcz9mYWQyIl0sIm5hbWVzIjpbIk1lZGlhQ29uZmlnIiwiJCIsInBhcnNlSlNPTiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkZWZhdWx0Q29uZmlnIiwiYXBwX2tleSIsInJlcXVlc3RfcGFyYW1zIiwidmlld190eXBlIiwiZmlsdGVyIiwidmlld19pbiIsInNlYXJjaCIsInNvcnRfYnkiLCJmb2xkZXJfaWQiLCJoaWRlX2RldGFpbHNfcGFuZSIsImljb25zIiwiZm9sZGVyIiwiYWN0aW9uc19saXN0IiwiYmFzaWMiLCJpY29uIiwibmFtZSIsImFjdGlvbiIsIm9yZGVyIiwiZmlsZSIsInVzZXIiLCJvdGhlciIsIlJlY2VudEl0ZW1zIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFJQSxXQUFXLEdBQUdDLENBQUMsQ0FBQ0MsU0FBRixDQUFZQyxZQUFZLENBQUNDLE9BQWIsQ0FBcUIsYUFBckIsQ0FBWixLQUFvRCxFQUF0RTtBQUVBLElBQUlDLGFBQWEsR0FBRztBQUNoQkMsU0FBTyxFQUFFLDZDQURPO0FBRWhCQyxnQkFBYyxFQUFFO0FBQ1pDLGFBQVMsRUFBRSxPQURDO0FBRVpDLFVBQU0sRUFBRSxZQUZJO0FBR1pDLFdBQU8sRUFBRSxXQUhHO0FBSVpDLFVBQU0sRUFBRSxFQUpJO0FBS1pDLFdBQU8sRUFBRSxpQkFMRztBQU1aQyxhQUFTLEVBQUU7QUFOQyxHQUZBO0FBVWhCQyxtQkFBaUIsRUFBRSxLQVZIO0FBV2hCQyxPQUFLLEVBQUU7QUFDSEMsVUFBTSxFQUFFO0FBREwsR0FYUztBQWNoQkMsY0FBWSxFQUFFO0FBQ1ZDLFNBQUssRUFBRSxDQUNIO0FBQ0lDLFVBQUksRUFBRSxXQURWO0FBRUlDLFVBQUksRUFBRSxTQUZWO0FBR0lDLFlBQU0sRUFBRSxTQUhaO0FBSUlDLFdBQUssRUFBRSxDQUpYO0FBS0ksZUFBTztBQUxYLEtBREcsQ0FERztBQVVWQyxRQUFJLEVBQUUsQ0FDRjtBQUNJSixVQUFJLEVBQUUsWUFEVjtBQUVJQyxVQUFJLEVBQUUsV0FGVjtBQUdJQyxZQUFNLEVBQUUsV0FIWjtBQUlJQyxXQUFLLEVBQUUsQ0FKWDtBQUtJLGVBQU87QUFMWCxLQURFLEVBUUY7QUFDSUgsVUFBSSxFQUFFLGFBRFY7QUFFSUMsVUFBSSxFQUFFLFFBRlY7QUFHSUMsWUFBTSxFQUFFLFFBSFo7QUFJSUMsV0FBSyxFQUFFLENBSlg7QUFLSSxlQUFPO0FBTFgsS0FSRSxFQWVGO0FBQ0lILFVBQUksRUFBRSxZQURWO0FBRUlDLFVBQUksRUFBRSxhQUZWO0FBR0lDLFlBQU0sRUFBRSxXQUhaO0FBSUlDLFdBQUssRUFBRSxDQUpYO0FBS0ksZUFBTztBQUxYLEtBZkUsQ0FWSTtBQWlDVkUsUUFBSSxFQUFFLENBQ0Y7QUFDSUwsVUFBSSxFQUFFLFlBRFY7QUFFSUMsVUFBSSxFQUFFLFVBRlY7QUFHSUMsWUFBTSxFQUFFLFVBSFo7QUFJSUMsV0FBSyxFQUFFLENBSlg7QUFLSSxlQUFPO0FBTFgsS0FERSxFQVFGO0FBQ0lILFVBQUksRUFBRSxZQURWO0FBRUlDLFVBQUksRUFBRSxpQkFGVjtBQUdJQyxZQUFNLEVBQUUsaUJBSFo7QUFJSUMsV0FBSyxFQUFFLENBSlg7QUFLSSxlQUFPO0FBTFgsS0FSRSxDQWpDSTtBQWlEVkcsU0FBSyxFQUFFLENBQ0g7QUFDSU4sVUFBSSxFQUFFLGdCQURWO0FBRUlDLFVBQUksRUFBRSxVQUZWO0FBR0lDLFlBQU0sRUFBRSxVQUhaO0FBSUlDLFdBQUssRUFBRSxDQUpYO0FBS0ksZUFBTztBQUxYLEtBREcsRUFRSDtBQUNJSCxVQUFJLEVBQUUsYUFEVjtBQUVJQyxVQUFJLEVBQUUsZUFGVjtBQUdJQyxZQUFNLEVBQUUsT0FIWjtBQUlJQyxXQUFLLEVBQUUsQ0FKWDtBQUtJLGVBQU87QUFMWCxLQVJHLEVBZUg7QUFDSUgsVUFBSSxFQUFFLGNBRFY7QUFFSUMsVUFBSSxFQUFFLG9CQUZWO0FBR0lDLFlBQU0sRUFBRSxRQUhaO0FBSUlDLFdBQUssRUFBRSxDQUpYO0FBS0ksZUFBTztBQUxYLEtBZkcsRUFzQkg7QUFDSUgsVUFBSSxFQUFFLFlBRFY7QUFFSUMsVUFBSSxFQUFFLFNBRlY7QUFHSUMsWUFBTSxFQUFFLFNBSFo7QUFJSUMsV0FBSyxFQUFFLENBSlg7QUFLSSxlQUFPO0FBTFgsS0F0Qkc7QUFqREc7QUFkRSxDQUFwQjs7QUFnR0EsSUFBSSxDQUFDdEIsV0FBVyxDQUFDTSxPQUFiLElBQXdCTixXQUFXLENBQUNNLE9BQVosS0FBd0JELGFBQWEsQ0FBQ0MsT0FBbEUsRUFBMkU7QUFDdkVOLGFBQVcsR0FBR0ssYUFBZDtBQUNIOztBQUVELElBQUlxQixXQUFXLEdBQUd6QixDQUFDLENBQUNDLFNBQUYsQ0FBWUMsWUFBWSxDQUFDQyxPQUFiLENBQXFCLGFBQXJCLENBQVosS0FBb0QsRUFBdEUiLCJmaWxlIjoiLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL0NvbmZpZy9NZWRpYUNvbmZpZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBNZWRpYUNvbmZpZyA9ICQucGFyc2VKU09OKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdNZWRpYUNvbmZpZycpKSB8fCB7fTtcclxuXHJcbmxldCBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgYXBwX2tleTogJzQ4M2EweHl6eXR6MTI0MmMwZDUyMDQyNmU4YmEzNjZjNTMwYzNkOWQzeHMnLFxyXG4gICAgcmVxdWVzdF9wYXJhbXM6IHtcclxuICAgICAgICB2aWV3X3R5cGU6ICd0aWxlcycsXHJcbiAgICAgICAgZmlsdGVyOiAnZXZlcnl0aGluZycsXHJcbiAgICAgICAgdmlld19pbjogJ2FsbF9tZWRpYScsXHJcbiAgICAgICAgc2VhcmNoOiAnJyxcclxuICAgICAgICBzb3J0X2J5OiAnY3JlYXRlZF9hdC1kZXNjJyxcclxuICAgICAgICBmb2xkZXJfaWQ6IDAsXHJcbiAgICB9LFxyXG4gICAgaGlkZV9kZXRhaWxzX3BhbmU6IGZhbHNlLFxyXG4gICAgaWNvbnM6IHtcclxuICAgICAgICBmb2xkZXI6ICdmYSBmYS1mb2xkZXInLFxyXG4gICAgfSxcclxuICAgIGFjdGlvbnNfbGlzdDoge1xyXG4gICAgICAgIGJhc2ljOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1leWUnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ1ByZXZpZXcnLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAncHJldmlldycsXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogMCxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAncnYtYWN0aW9uLXByZXZpZXcnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgZmlsZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtbGluaycsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnQ29weSBsaW5rJyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogJ2NvcHlfbGluaycsXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogMCxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAncnYtYWN0aW9uLWNvcHktbGluaycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGljb246ICdmYXIgZmEtZWRpdCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnUmVuYW1lJyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3JlbmFtZScsXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogMSxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAncnYtYWN0aW9uLXJlbmFtZScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1jb3B5JyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdNYWtlIGEgY29weScsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdtYWtlX2NvcHknLFxyXG4gICAgICAgICAgICAgICAgb3JkZXI6IDIsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogJ3J2LWFjdGlvbi1tYWtlLWNvcHknLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgdXNlcjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtc3RhcicsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnRmF2b3JpdGUnLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnZmF2b3JpdGUnLFxyXG4gICAgICAgICAgICAgICAgb3JkZXI6IDIsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogJ3J2LWFjdGlvbi1mYXZvcml0ZScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1zdGFyJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdSZW1vdmUgZmF2b3JpdGUnLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlX2Zhdm9yaXRlJyxcclxuICAgICAgICAgICAgICAgIG9yZGVyOiAzLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdydi1hY3Rpb24tZmF2b3JpdGUnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgb3RoZXI6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWRvd25sb2FkJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdEb3dubG9hZCcsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdkb3dubG9hZCcsXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogMCxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAncnYtYWN0aW9uLWRvd25sb2FkJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXRyYXNoJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdNb3ZlIHRvIHRyYXNoJyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3RyYXNoJyxcclxuICAgICAgICAgICAgICAgIG9yZGVyOiAxLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdydi1hY3Rpb24tdHJhc2gnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtZXJhc2VyJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdEZWxldGUgcGVybWFuZW50bHknLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnZGVsZXRlJyxcclxuICAgICAgICAgICAgICAgIG9yZGVyOiAyLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdydi1hY3Rpb24tZGVsZXRlJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXVuZG8nLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ1Jlc3RvcmUnLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAncmVzdG9yZScsXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogMyxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAncnYtYWN0aW9uLXJlc3RvcmUnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9XHJcbn07XHJcblxyXG5pZiAoIU1lZGlhQ29uZmlnLmFwcF9rZXkgfHwgTWVkaWFDb25maWcuYXBwX2tleSAhPT0gZGVmYXVsdENvbmZpZy5hcHBfa2V5KSB7XHJcbiAgICBNZWRpYUNvbmZpZyA9IGRlZmF1bHRDb25maWc7XHJcbn1cclxuXHJcbmxldCBSZWNlbnRJdGVtcyA9ICQucGFyc2VKU09OKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdSZWNlbnRJdGVtcycpKSB8fCBbXTtcclxuXHJcbmV4cG9ydCB7TWVkaWFDb25maWcsIFJlY2VudEl0ZW1zfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Config/MediaConfig.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Helpers/Helpers.js":
/*!************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Helpers/Helpers.js ***!
  \************************************************************************/
/*! exports provided: Helpers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Helpers\", function() { return Helpers; });\n/* harmony import */ var _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Config/MediaConfig */ \"./platform/core/media/resources/assets/js/App/Config/MediaConfig.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar Helpers = /*#__PURE__*/function () {\n  function Helpers() {\n    _classCallCheck(this, Helpers);\n  }\n\n  _createClass(Helpers, null, [{\n    key: \"getUrlParam\",\n    value: function getUrlParam(paramName) {\n      var url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (!url) {\n        url = window.location.search;\n      }\n\n      var reParam = new RegExp('(?:[\\?&]|&)' + paramName + '=([^&]+)', 'i');\n      var match = url.match(reParam);\n      return match && match.length > 1 ? match[1] : null;\n    }\n  }, {\n    key: \"asset\",\n    value: function asset(url) {\n      if (url.substring(0, 2) === '//' || url.substring(0, 7) === 'http://' || url.substring(0, 8) === 'https://') {\n        return url;\n      }\n\n      var baseUrl = RV_MEDIA_URL.base_url.substr(-1, 1) !== '/' ? RV_MEDIA_URL.base_url + '/' : RV_MEDIA_URL.base_url;\n\n      if (url.substring(0, 1) === '/') {\n        return baseUrl + url.substring(1);\n      }\n\n      return baseUrl + url;\n    }\n  }, {\n    key: \"showAjaxLoading\",\n    value: function showAjaxLoading() {\n      var $element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : $('.rv-media-main');\n      $element.addClass('on-loading').append($('#rv_media_loading').html());\n    }\n  }, {\n    key: \"hideAjaxLoading\",\n    value: function hideAjaxLoading() {\n      var $element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : $('.rv-media-main');\n      $element.removeClass('on-loading').find('.loading-wrapper').remove();\n    }\n  }, {\n    key: \"isOnAjaxLoading\",\n    value: function isOnAjaxLoading() {\n      var $element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : $('.rv-media-items');\n      return $element.hasClass('on-loading');\n    }\n  }, {\n    key: \"jsonEncode\",\n    value: function jsonEncode(object) {\n      if (typeof object === 'undefined') {\n        object = null;\n      }\n\n      return JSON.stringify(object);\n    }\n  }, {\n    key: \"jsonDecode\",\n    value: function jsonDecode(jsonString, defaultValue) {\n      if (!jsonString) {\n        return defaultValue;\n      }\n\n      if (typeof jsonString === 'string') {\n        var result;\n\n        try {\n          result = $.parseJSON(jsonString);\n        } catch (err) {\n          result = defaultValue;\n        }\n\n        return result;\n      }\n\n      return jsonString;\n    }\n  }, {\n    key: \"getRequestParams\",\n    value: function getRequestParams() {\n      if (window.rvMedia.options && window.rvMedia.options.open_in === 'modal') {\n        return $.extend(true, _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params, window.rvMedia.options || {});\n      }\n\n      return _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params;\n    }\n  }, {\n    key: \"setSelectedFile\",\n    value: function setSelectedFile(fileId) {\n      if (typeof window.rvMedia.options !== 'undefined') {\n        window.rvMedia.options.selected_file_id = fileId;\n      } else {\n        _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params.selected_file_id = fileId;\n      }\n    }\n  }, {\n    key: \"getConfigs\",\n    value: function getConfigs() {\n      return _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"];\n    }\n  }, {\n    key: \"storeConfig\",\n    value: function storeConfig() {\n      localStorage.setItem('MediaConfig', Helpers.jsonEncode(_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"]));\n    }\n  }, {\n    key: \"storeRecentItems\",\n    value: function storeRecentItems() {\n      localStorage.setItem('RecentItems', Helpers.jsonEncode(_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"RecentItems\"]));\n    }\n  }, {\n    key: \"addToRecent\",\n    value: function addToRecent(id) {\n      if (id instanceof Array) {\n        _.each(id, function (value) {\n          _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"RecentItems\"].push(value);\n        });\n      } else {\n        _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"RecentItems\"].push(id);\n        this.storeRecentItems();\n      }\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems() {\n      var items = [];\n      $('.js-media-list-title').each(function (index, el) {\n        var $box = $(el);\n        var data = $box.data() || {};\n        data.index_key = $box.index();\n        items.push(data);\n      });\n      return items;\n    }\n  }, {\n    key: \"getSelectedItems\",\n    value: function getSelectedItems() {\n      var selected = [];\n      $('.js-media-list-title input[type=checkbox]:checked').each(function (index, el) {\n        var $box = $(el).closest('.js-media-list-title');\n        var data = $box.data() || {};\n        data.index_key = $box.index();\n        selected.push(data);\n      });\n      return selected;\n    }\n  }, {\n    key: \"getSelectedFiles\",\n    value: function getSelectedFiles() {\n      var selected = [];\n      $('.js-media-list-title[data-context=file] input[type=checkbox]:checked').each(function (index, el) {\n        var $box = $(el).closest('.js-media-list-title');\n        var data = $box.data() || {};\n        data.index_key = $box.index();\n        selected.push(data);\n      });\n      return selected;\n    }\n  }, {\n    key: \"getSelectedFolder\",\n    value: function getSelectedFolder() {\n      var selected = [];\n      $('.js-media-list-title[data-context=folder] input[type=checkbox]:checked').each(function (index, el) {\n        var $box = $(el).closest('.js-media-list-title');\n        var data = $box.data() || {};\n        data.index_key = $box.index();\n        selected.push(data);\n      });\n      return selected;\n    }\n  }, {\n    key: \"isUseInModal\",\n    value: function isUseInModal() {\n      return Helpers.getUrlParam('media-action') === 'select-files' || window.rvMedia && window.rvMedia.options && window.rvMedia.options.open_in === 'modal';\n    }\n  }, {\n    key: \"resetPagination\",\n    value: function resetPagination() {\n      RV_MEDIA_CONFIG.pagination = {\n        paged: 1,\n        posts_per_page: 40,\n        in_process_get_media: false,\n        has_more: true\n      };\n    }\n  }]);\n\n  return Helpers;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL0hlbHBlcnMvSGVscGVycy5qcz8wMzdkIl0sIm5hbWVzIjpbIkhlbHBlcnMiLCJwYXJhbU5hbWUiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsInJlUGFyYW0iLCJSZWdFeHAiLCJtYXRjaCIsImxlbmd0aCIsInN1YnN0cmluZyIsImJhc2VVcmwiLCJSVl9NRURJQV9VUkwiLCJiYXNlX3VybCIsInN1YnN0ciIsIiRlbGVtZW50IiwiJCIsImFkZENsYXNzIiwiYXBwZW5kIiwiaHRtbCIsInJlbW92ZUNsYXNzIiwiZmluZCIsInJlbW92ZSIsImhhc0NsYXNzIiwib2JqZWN0IiwiSlNPTiIsInN0cmluZ2lmeSIsImpzb25TdHJpbmciLCJkZWZhdWx0VmFsdWUiLCJyZXN1bHQiLCJwYXJzZUpTT04iLCJlcnIiLCJydk1lZGlhIiwib3B0aW9ucyIsIm9wZW5faW4iLCJleHRlbmQiLCJNZWRpYUNvbmZpZyIsInJlcXVlc3RfcGFyYW1zIiwiZmlsZUlkIiwic2VsZWN0ZWRfZmlsZV9pZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJqc29uRW5jb2RlIiwiUmVjZW50SXRlbXMiLCJpZCIsIkFycmF5IiwiXyIsImVhY2giLCJ2YWx1ZSIsInB1c2giLCJzdG9yZVJlY2VudEl0ZW1zIiwiaXRlbXMiLCJpbmRleCIsImVsIiwiJGJveCIsImRhdGEiLCJpbmRleF9rZXkiLCJzZWxlY3RlZCIsImNsb3Nlc3QiLCJnZXRVcmxQYXJhbSIsIlJWX01FRElBX0NPTkZJRyIsInBhZ2luYXRpb24iLCJwYWdlZCIsInBvc3RzX3Blcl9wYWdlIiwiaW5fcHJvY2Vzc19nZXRfbWVkaWEiLCJoYXNfbW9yZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFFTyxJQUFNQSxPQUFiO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQSxnQ0FDdUJDLFNBRHZC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QUFBO0FBQUEsc0NBcUo2QjtBQUNyQjBCLHFCQUFlLENBQUNDLFVBQWhCLEdBQTZCO0FBQUNDLGFBQUssRUFBRSxDQUFSO0FBQVdDLHNCQUFjLEVBQUUsRUFBM0I7QUFBK0JDLDRCQUFvQixFQUFFLEtBQXJEO0FBQTREQyxnQkFBUSxFQUFFO0FBQXRFLE9BQTdCO0FBQ0g7QUF2Skw7O0FBQUE7QUFBQSIsImZpbGUiOiIuL3BsYXRmb3JtL2NvcmUvbWVkaWEvcmVzb3VyY2VzL2Fzc2V0cy9qcy9BcHAvSGVscGVycy9IZWxwZXJzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNZWRpYUNvbmZpZywgUmVjZW50SXRlbXN9IGZyb20gJy4uL0NvbmZpZy9NZWRpYUNvbmZpZyc7XHJcblxyXG5leHBvcnQgY2xhc3MgSGVscGVycyB7XHJcbiAgICBzdGF0aWMgZ2V0VXJsUGFyYW0ocGFyYW1OYW1lLCB1cmwgPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKCF1cmwpIHtcclxuICAgICAgICAgICAgdXJsID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlUGFyYW0gPSBuZXcgUmVnRXhwKCcoPzpbXFw/Jl18JiknICsgcGFyYW1OYW1lICsgJz0oW14mXSspJywgJ2knKTtcclxuICAgICAgICBsZXQgbWF0Y2ggPSB1cmwubWF0Y2gocmVQYXJhbSk7XHJcbiAgICAgICAgcmV0dXJuIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxKSA/IG1hdGNoWzFdIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXNzZXQodXJsKSB7XHJcbiAgICAgICAgaWYgKHVybC5zdWJzdHJpbmcoMCwgMikgPT09ICcvLycgfHwgdXJsLnN1YnN0cmluZygwLCA3KSA9PT0gJ2h0dHA6Ly8nIHx8IHVybC5zdWJzdHJpbmcoMCwgOCkgPT09ICdodHRwczovLycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBiYXNlVXJsID0gUlZfTUVESUFfVVJMLmJhc2VfdXJsLnN1YnN0cigtMSwgMSkgIT09ICcvJyA/IFJWX01FRElBX1VSTC5iYXNlX3VybCArICcvJyA6IFJWX01FRElBX1VSTC5iYXNlX3VybDtcclxuXHJcbiAgICAgICAgaWYgKHVybC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJykge1xyXG4gICAgICAgICAgICByZXR1cm4gYmFzZVVybCArIHVybC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYmFzZVVybCArIHVybDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2hvd0FqYXhMb2FkaW5nKCRlbGVtZW50ID0gJCgnLnJ2LW1lZGlhLW1haW4nKSkge1xyXG4gICAgICAgICRlbGVtZW50XHJcbiAgICAgICAgICAgIC5hZGRDbGFzcygnb24tbG9hZGluZycpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJCgnI3J2X21lZGlhX2xvYWRpbmcnKS5odG1sKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBoaWRlQWpheExvYWRpbmcoJGVsZW1lbnQgPSAkKCcucnYtbWVkaWEtbWFpbicpKSB7XHJcbiAgICAgICAgJGVsZW1lbnRcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdvbi1sb2FkaW5nJylcclxuICAgICAgICAgICAgLmZpbmQoJy5sb2FkaW5nLXdyYXBwZXInKS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNPbkFqYXhMb2FkaW5nKCRlbGVtZW50ID0gJCgnLnJ2LW1lZGlhLWl0ZW1zJykpIHtcclxuICAgICAgICByZXR1cm4gJGVsZW1lbnQuaGFzQ2xhc3MoJ29uLWxvYWRpbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMganNvbkVuY29kZShvYmplY3QpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgb2JqZWN0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iamVjdCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBqc29uRGVjb2RlKGpzb25TdHJpbmcsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgICAgIGlmICghanNvblN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGpzb25TdHJpbmcgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAkLnBhcnNlSlNPTihqc29uU3RyaW5nKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGpzb25TdHJpbmc7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBnZXRSZXF1ZXN0UGFyYW1zKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cucnZNZWRpYS5vcHRpb25zICYmIHdpbmRvdy5ydk1lZGlhLm9wdGlvbnMub3Blbl9pbiA9PT0gJ21vZGFsJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwgTWVkaWFDb25maWcucmVxdWVzdF9wYXJhbXMsIHdpbmRvdy5ydk1lZGlhLm9wdGlvbnMgfHwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWVkaWFDb25maWcucmVxdWVzdF9wYXJhbXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldFNlbGVjdGVkRmlsZShmaWxlSWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5ydk1lZGlhLm9wdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5ydk1lZGlhLm9wdGlvbnMuc2VsZWN0ZWRfZmlsZV9pZCA9IGZpbGVJZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBNZWRpYUNvbmZpZy5yZXF1ZXN0X3BhcmFtcy5zZWxlY3RlZF9maWxlX2lkID0gZmlsZUlkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0Q29uZmlncygpIHtcclxuICAgICAgICByZXR1cm4gTWVkaWFDb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHN0b3JlQ29uZmlnKCkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdNZWRpYUNvbmZpZycsIEhlbHBlcnMuanNvbkVuY29kZShNZWRpYUNvbmZpZykpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzdG9yZVJlY2VudEl0ZW1zKCkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdSZWNlbnRJdGVtcycsIEhlbHBlcnMuanNvbkVuY29kZShSZWNlbnRJdGVtcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRUb1JlY2VudChpZCkge1xyXG4gICAgICAgIGlmIChpZCBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIF8uZWFjaChpZCwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBSZWNlbnRJdGVtcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgUmVjZW50SXRlbXMucHVzaChpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmVSZWNlbnRJdGVtcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SXRlbXMoKSB7XHJcbiAgICAgICAgbGV0IGl0ZW1zID0gW107XHJcbiAgICAgICAgJCgnLmpzLW1lZGlhLWxpc3QtdGl0bGUnKS5lYWNoKChpbmRleCwgZWwpID0+IHtcclxuICAgICAgICAgICAgbGV0ICRib3ggPSAkKGVsKTtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSAkYm94LmRhdGEoKSB8fCB7fTtcclxuICAgICAgICAgICAgZGF0YS5pbmRleF9rZXkgPSAkYm94LmluZGV4KCk7XHJcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRTZWxlY3RlZEl0ZW1zKCkge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgICQoJy5qcy1tZWRpYS1saXN0LXRpdGxlIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQnKS5lYWNoKChpbmRleCwgZWwpID0+IHtcclxuICAgICAgICAgICAgbGV0ICRib3ggPSAkKGVsKS5jbG9zZXN0KCcuanMtbWVkaWEtbGlzdC10aXRsZScpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9ICRib3guZGF0YSgpIHx8IHt9O1xyXG4gICAgICAgICAgICBkYXRhLmluZGV4X2tleSA9ICRib3guaW5kZXgoKTtcclxuICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChkYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFNlbGVjdGVkRmlsZXMoKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkID0gW107XHJcbiAgICAgICAgJCgnLmpzLW1lZGlhLWxpc3QtdGl0bGVbZGF0YS1jb250ZXh0PWZpbGVdIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQnKS5lYWNoKChpbmRleCwgZWwpID0+IHtcclxuICAgICAgICAgICAgbGV0ICRib3ggPSAkKGVsKS5jbG9zZXN0KCcuanMtbWVkaWEtbGlzdC10aXRsZScpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9ICRib3guZGF0YSgpIHx8IHt9O1xyXG4gICAgICAgICAgICBkYXRhLmluZGV4X2tleSA9ICRib3guaW5kZXgoKTtcclxuICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChkYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFNlbGVjdGVkRm9sZGVyKCkge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgICQoJy5qcy1tZWRpYS1saXN0LXRpdGxlW2RhdGEtY29udGV4dD1mb2xkZXJdIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQnKS5lYWNoKChpbmRleCwgZWwpID0+IHtcclxuICAgICAgICAgICAgbGV0ICRib3ggPSAkKGVsKS5jbG9zZXN0KCcuanMtbWVkaWEtbGlzdC10aXRsZScpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9ICRib3guZGF0YSgpIHx8IHt9O1xyXG4gICAgICAgICAgICBkYXRhLmluZGV4X2tleSA9ICRib3guaW5kZXgoKTtcclxuICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChkYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzVXNlSW5Nb2RhbCgpIHtcclxuICAgICAgICByZXR1cm4gSGVscGVycy5nZXRVcmxQYXJhbSgnbWVkaWEtYWN0aW9uJykgPT09ICdzZWxlY3QtZmlsZXMnIHx8ICh3aW5kb3cucnZNZWRpYSAmJiB3aW5kb3cucnZNZWRpYS5vcHRpb25zICYmIHdpbmRvdy5ydk1lZGlhLm9wdGlvbnMub3Blbl9pbiA9PT0gJ21vZGFsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlc2V0UGFnaW5hdGlvbigpIHtcclxuICAgICAgICBSVl9NRURJQV9DT05GSUcucGFnaW5hdGlvbiA9IHtwYWdlZDogMSwgcG9zdHNfcGVyX3BhZ2U6IDQwLCBpbl9wcm9jZXNzX2dldF9tZWRpYTogZmFsc2UsIGhhc19tb3JlOiB0cnVlfTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Services/ActionsService.js":
/*!********************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Services/ActionsService.js ***!
  \********************************************************************************/
/*! exports provided: ActionsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActionsService\", function() { return ActionsService; });\n/* harmony import */ var _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Config/MediaConfig */ \"./platform/core/media/resources/assets/js/App/Config/MediaConfig.js\");\n/* harmony import */ var _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\n/* harmony import */ var _MessageService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MessageService */ \"./platform/core/media/resources/assets/js/App/Services/MessageService.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar ActionsService = /*#__PURE__*/function () {\n  function ActionsService() {\n    _classCallCheck(this, ActionsService);\n  }\n\n  _createClass(ActionsService, null, [{\n    key: \"handleDropdown\",\n    value: function handleDropdown() {\n      var selected = _.size(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedItems());\n\n      ActionsService.renderActions();\n\n      if (selected > 0) {\n        $('.rv-dropdown-actions').removeClass('disabled');\n      } else {\n        $('.rv-dropdown-actions').addClass('disabled');\n      }\n    }\n  }, {\n    key: \"handlePreview\",\n    value: function handlePreview() {\n      var selected = [];\n\n      _.each(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFiles(), function (value) {\n        if (_.includes(['image', 'pdf', 'text', 'video'], value.type)) {\n          selected.push({\n            src: value.full_url\n          });\n          _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"RecentItems\"].push(value.id);\n        }\n      });\n\n      if (_.size(selected) > 0) {\n        $.fancybox.open(selected);\n        _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].storeRecentItems();\n      } else {\n        this.handleGlobalAction('download');\n      }\n    }\n  }, {\n    key: \"handleCopyLink\",\n    value: function handleCopyLink() {\n      var links = '';\n\n      _.each(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFiles(), function (value) {\n        if (!_.isEmpty(links)) {\n          links += '\\n';\n        }\n\n        links += value.full_url;\n      });\n\n      var $clipboardTemp = $('.js-rv-clipboard-temp');\n      $clipboardTemp.data('clipboard-text', links);\n      new Clipboard('.js-rv-clipboard-temp', {\n        text: function text() {\n          return links;\n        }\n      });\n      _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].showMessage('success', RV_MEDIA_CONFIG.translations.clipboard.success, RV_MEDIA_CONFIG.translations.message.success_header);\n      $clipboardTemp.trigger('click');\n    }\n  }, {\n    key: \"handleGlobalAction\",\n    value: function handleGlobalAction(type, callback) {\n      var selected = [];\n\n      _.each(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedItems(), function (value) {\n        selected.push({\n          is_folder: value.is_folder,\n          id: value.id,\n          full_url: value.full_url\n        });\n      });\n\n      switch (type) {\n        case 'rename':\n          $('#modal_rename_items').modal('show').find('form.rv-form').data('action', type);\n          break;\n\n        case 'copy_link':\n          ActionsService.handleCopyLink();\n          break;\n\n        case 'preview':\n          ActionsService.handlePreview();\n          break;\n\n        case 'trash':\n          $('#modal_trash_items').modal('show').find('form.rv-form').data('action', type);\n          break;\n\n        case 'delete':\n          $('#modal_delete_items').modal('show').find('form.rv-form').data('action', type);\n          break;\n\n        case 'empty_trash':\n          $('#modal_empty_trash').modal('show').find('form.rv-form').data('action', type);\n          break;\n\n        case 'download':\n          var downloadLink = RV_MEDIA_URL.download;\n          var count = 0;\n\n          _.each(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedItems(), function (value) {\n            if (!_.includes(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getConfigs().denied_download, value.mime_type)) {\n              downloadLink += (count === 0 ? '?' : '&') + 'selected[' + count + '][is_folder]=' + value.is_folder + '&selected[' + count + '][id]=' + value.id;\n              count++;\n            }\n          });\n\n          if (downloadLink !== RV_MEDIA_URL.download) {\n            window.open(downloadLink, '_blank');\n          } else {\n            _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].showMessage('error', RV_MEDIA_CONFIG.translations.download.error, RV_MEDIA_CONFIG.translations.message.error_header);\n          }\n\n          break;\n\n        default:\n          ActionsService.processAction({\n            selected: selected,\n            action: type\n          }, callback);\n          break;\n      }\n    }\n  }, {\n    key: \"processAction\",\n    value: function processAction(data) {\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      $.ajax({\n        url: RV_MEDIA_URL.global_actions,\n        type: 'POST',\n        data: data,\n        dataType: 'json',\n        beforeSend: function beforeSend() {\n          _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].showAjaxLoading();\n        },\n        success: function success(res) {\n          _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n\n          if (!res.error) {\n            _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].showMessage('success', res.message, RV_MEDIA_CONFIG.translations.message.success_header);\n          } else {\n            _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].showMessage('error', res.message, RV_MEDIA_CONFIG.translations.message.error_header);\n          }\n\n          if (callback) {\n            callback(res);\n          }\n        },\n        complete: function complete() {\n          _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].hideAjaxLoading();\n        },\n        error: function error(data) {\n          _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].handleError(data);\n        }\n      });\n    }\n  }, {\n    key: \"renderRenameItems\",\n    value: function renderRenameItems() {\n      var VIEW = $('#rv_media_rename_item').html();\n      var $itemsWrapper = $('#modal_rename_items .rename-items').empty();\n\n      _.each(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedItems(), function (value) {\n        var item = VIEW.replace(/__icon__/gi, value.icon || 'fa fa-file').replace(/__placeholder__/gi, 'Input file name').replace(/__value__/gi, value.name);\n        var $item = $(item);\n        $item.data('id', value.id);\n        $item.data('is_folder', value.is_folder);\n        $item.data('name', value.name);\n        $itemsWrapper.append($item);\n      });\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var hasFolderSelected = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFolder().length > 0;\n      var ACTION_TEMPLATE = $('#rv_action_item').html();\n      var initializedItem = 0;\n      var $dropdownActions = $('.rv-dropdown-actions .dropdown-menu');\n      $dropdownActions.empty();\n      var actionsList = $.extend({}, true, _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getConfigs().actions_list);\n\n      if (hasFolderSelected) {\n        actionsList.basic = _.reject(actionsList.basic, function (item) {\n          return item.action === 'preview';\n        });\n        actionsList.file = _.reject(actionsList.file, function (item) {\n          return item.action === 'copy_link';\n        });\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.create')) {\n          actionsList.file = _.reject(actionsList.file, function (item) {\n            return item.action === 'make_copy';\n          });\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.edit')) {\n          actionsList.file = _.reject(actionsList.file, function (item) {\n            return _.includes(['rename'], item.action);\n          });\n          actionsList.user = _.reject(actionsList.user, function (item) {\n            return _.includes(['rename'], item.action);\n          });\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.trash')) {\n          actionsList.other = _.reject(actionsList.other, function (item) {\n            return _.includes(['trash', 'restore'], item.action);\n          });\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.destroy')) {\n          actionsList.other = _.reject(actionsList.other, function (item) {\n            return _.includes(['delete'], item.action);\n          });\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.favorite')) {\n          actionsList.other = _.reject(actionsList.other, function (item) {\n            return _.includes(['favorite', 'remove_favorite'], item.action);\n          });\n        }\n      }\n\n      var selectedFiles = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFiles();\n      var canPreview = false;\n\n      _.each(selectedFiles, function (value) {\n        if (_.includes(['image', 'pdf', 'text', 'video'], value.type)) {\n          canPreview = true;\n        }\n      });\n\n      if (!canPreview) {\n        actionsList.basic = _.reject(actionsList.basic, function (item) {\n          return item.action === 'preview';\n        });\n      }\n\n      if (selectedFiles.length > 0) {\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.create')) {\n          actionsList.file = _.reject(actionsList.file, function (item) {\n            return item.action === 'make_copy';\n          });\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.edit')) {\n          actionsList.file = _.reject(actionsList.file, function (item) {\n            return _.includes(['rename'], item.action);\n          });\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.trash')) {\n          actionsList.other = _.reject(actionsList.other, function (item) {\n            return _.includes(['trash', 'restore'], item.action);\n          });\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.destroy')) {\n          actionsList.other = _.reject(actionsList.other, function (item) {\n            return _.includes(['delete'], item.action);\n          });\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.favorite')) {\n          actionsList.other = _.reject(actionsList.other, function (item) {\n            return _.includes(['favorite', 'remove_favorite'], item.action);\n          });\n        }\n      }\n\n      _.each(actionsList, function (action, key) {\n        _.each(action, function (item, index) {\n          var is_break = false;\n\n          switch (_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().view_in) {\n            case 'all_media':\n              if (_.includes(['remove_favorite', 'delete', 'restore'], item.action)) {\n                is_break = true;\n              }\n\n              break;\n\n            case 'recent':\n              if (_.includes(['remove_favorite', 'delete', 'restore', 'make_copy'], item.action)) {\n                is_break = true;\n              }\n\n              break;\n\n            case 'favorites':\n              if (_.includes(['favorite', 'delete', 'restore', 'make_copy'], item.action)) {\n                is_break = true;\n              }\n\n              break;\n\n            case 'trash':\n              if (!_.includes(['preview', 'delete', 'restore', 'rename', 'download'], item.action)) {\n                is_break = true;\n              }\n\n              break;\n          }\n\n          if (!is_break) {\n            var template = ACTION_TEMPLATE.replace(/__action__/gi, item.action || '').replace(/__icon__/gi, item.icon || '').replace(/__name__/gi, RV_MEDIA_CONFIG.translations.actions_list[key][item.action] || item.name);\n\n            if (!index && initializedItem) {\n              template = '<li role=\"separator\" class=\"divider\"></li>' + template;\n            }\n\n            $dropdownActions.append(template);\n          }\n        });\n\n        if (action.length > 0) {\n          initializedItem++;\n        }\n      });\n    }\n  }]);\n\n  return ActionsService;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1NlcnZpY2VzL0FjdGlvbnNTZXJ2aWNlLmpzPzM3N2YiXSwibmFtZXMiOlsiQWN0aW9uc1NlcnZpY2UiLCJzZWxlY3RlZCIsIl8iLCJzaXplIiwiSGVscGVycyIsImdldFNlbGVjdGVkSXRlbXMiLCJyZW5kZXJBY3Rpb25zIiwiJCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJlYWNoIiwiZ2V0U2VsZWN0ZWRGaWxlcyIsInZhbHVlIiwiaW5jbHVkZXMiLCJ0eXBlIiwicHVzaCIsInNyYyIsImZ1bGxfdXJsIiwiUmVjZW50SXRlbXMiLCJpZCIsImZhbmN5Ym94Iiwib3BlbiIsInN0b3JlUmVjZW50SXRlbXMiLCJoYW5kbGVHbG9iYWxBY3Rpb24iLCJsaW5rcyIsImlzRW1wdHkiLCIkY2xpcGJvYXJkVGVtcCIsImRhdGEiLCJDbGlwYm9hcmQiLCJ0ZXh0IiwiTWVzc2FnZVNlcnZpY2UiLCJzaG93TWVzc2FnZSIsIlJWX01FRElBX0NPTkZJRyIsInRyYW5zbGF0aW9ucyIsImNsaXBib2FyZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwic3VjY2Vzc19oZWFkZXIiLCJ0cmlnZ2VyIiwiY2FsbGJhY2siLCJpc19mb2xkZXIiLCJtb2RhbCIsImZpbmQiLCJoYW5kbGVDb3B5TGluayIsImhhbmRsZVByZXZpZXciLCJkb3dubG9hZExpbmsiLCJSVl9NRURJQV9VUkwiLCJkb3dubG9hZCIsImNvdW50IiwiZ2V0Q29uZmlncyIsImRlbmllZF9kb3dubG9hZCIsIm1pbWVfdHlwZSIsIndpbmRvdyIsImVycm9yIiwiZXJyb3JfaGVhZGVyIiwicHJvY2Vzc0FjdGlvbiIsImFjdGlvbiIsImFqYXgiLCJ1cmwiLCJnbG9iYWxfYWN0aW9ucyIsImRhdGFUeXBlIiwiYmVmb3JlU2VuZCIsInNob3dBamF4TG9hZGluZyIsInJlcyIsInJlc2V0UGFnaW5hdGlvbiIsImNvbXBsZXRlIiwiaGlkZUFqYXhMb2FkaW5nIiwiaGFuZGxlRXJyb3IiLCJWSUVXIiwiaHRtbCIsIiRpdGVtc1dyYXBwZXIiLCJlbXB0eSIsIml0ZW0iLCJyZXBsYWNlIiwiaWNvbiIsIm5hbWUiLCIkaXRlbSIsImFwcGVuZCIsImhhc0ZvbGRlclNlbGVjdGVkIiwiZ2V0U2VsZWN0ZWRGb2xkZXIiLCJsZW5ndGgiLCJBQ1RJT05fVEVNUExBVEUiLCJpbml0aWFsaXplZEl0ZW0iLCIkZHJvcGRvd25BY3Rpb25zIiwiYWN0aW9uc0xpc3QiLCJleHRlbmQiLCJhY3Rpb25zX2xpc3QiLCJiYXNpYyIsInJlamVjdCIsImZpbGUiLCJwZXJtaXNzaW9ucyIsInVzZXIiLCJvdGhlciIsInNlbGVjdGVkRmlsZXMiLCJjYW5QcmV2aWV3Iiwia2V5IiwiaW5kZXgiLCJpc19icmVhayIsImdldFJlcXVlc3RQYXJhbXMiLCJ2aWV3X2luIiwidGVtcGxhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRU8sSUFBTUEsY0FBYjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUEscUNBQzRCO0FBQ3BCLFVBQUlDLFFBQVEsR0FBR0MsQ0FBQyxDQUFDQyxJQUFGLENBQU9DLHdEQUFPLENBQUNDLGdCQUFSLEVBQVAsQ0FBZjs7QUFFQUwsb0JBQWMsQ0FBQ00sYUFBZjs7QUFFQSxVQUFJTCxRQUFRLEdBQUcsQ0FBZixFQUFrQjtBQUNkTSxTQUFDLENBQUMsc0JBQUQsQ0FBRCxDQUEwQkMsV0FBMUIsQ0FBc0MsVUFBdEM7QUFDSCxPQUZELE1BRU87QUFDSEQsU0FBQyxDQUFDLHNCQUFELENBQUQsQ0FBMEJFLFFBQTFCLENBQW1DLFVBQW5DO0FBQ0g7QUFDSjtBQVhMO0FBQUE7QUFBQSxvQ0FhMkI7QUFDbkIsVUFBSVIsUUFBUSxHQUFHLEVBQWY7O0FBRUFDLE9BQUMsQ0FBQ1EsSUFBRixDQUFPTix3REFBTyxDQUFDTyxnQkFBUixFQUFQLEVBQW1DLFVBQUFDLEtBQUssRUFBSTtBQUN4QyxZQUFJVixDQUFD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LE1BQU0sQ0FBQ3dCLE1BQVAsR0FBZ0IsQ0FBcEIsRUFBdUI7QUFDbkJFLHlCQUFlO0FBQ2xCO0FBQ0osT0F4Q0Q7QUF5Q0g7QUFyU0w7O0FBQUE7QUFBQSIsImZpbGUiOiIuL3BsYXRmb3JtL2NvcmUvbWVkaWEvcmVzb3VyY2VzL2Fzc2V0cy9qcy9BcHAvU2VydmljZXMvQWN0aW9uc1NlcnZpY2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlY2VudEl0ZW1zfSBmcm9tICcuLi9Db25maWcvTWVkaWFDb25maWcnO1xyXG5pbXBvcnQge0hlbHBlcnN9IGZyb20gJy4uL0hlbHBlcnMvSGVscGVycyc7XHJcbmltcG9ydCB7TWVzc2FnZVNlcnZpY2V9IGZyb20gJy4vTWVzc2FnZVNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGlvbnNTZXJ2aWNlIHtcclxuICAgIHN0YXRpYyBoYW5kbGVEcm9wZG93bigpIHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBfLnNpemUoSGVscGVycy5nZXRTZWxlY3RlZEl0ZW1zKCkpO1xyXG5cclxuICAgICAgICBBY3Rpb25zU2VydmljZS5yZW5kZXJBY3Rpb25zKCk7XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZCA+IDApIHtcclxuICAgICAgICAgICAgJCgnLnJ2LWRyb3Bkb3duLWFjdGlvbnMnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcucnYtZHJvcGRvd24tYWN0aW9ucycpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGFuZGxlUHJldmlldygpIHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBbXTtcclxuXHJcbiAgICAgICAgXy5lYWNoKEhlbHBlcnMuZ2V0U2VsZWN0ZWRGaWxlcygpLCB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChfLmluY2x1ZGVzKFsnaW1hZ2UnLCAncGRmJywgJ3RleHQnLCAndmlkZW8nXSwgdmFsdWUudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHNyYzogdmFsdWUuZnVsbF91cmxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgUmVjZW50SXRlbXMucHVzaCh2YWx1ZS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKF8uc2l6ZShzZWxlY3RlZCkgPiAwKSB7XHJcbiAgICAgICAgICAgICQuZmFuY3lib3gub3BlbihzZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIEhlbHBlcnMuc3RvcmVSZWNlbnRJdGVtcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlR2xvYmFsQWN0aW9uKCdkb3dubG9hZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGFuZGxlQ29weUxpbmsoKSB7XHJcbiAgICAgICAgbGV0IGxpbmtzID0gJyc7XHJcbiAgICAgICAgXy5lYWNoKEhlbHBlcnMuZ2V0U2VsZWN0ZWRGaWxlcygpLCB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghXy5pc0VtcHR5KGxpbmtzKSkge1xyXG4gICAgICAgICAgICAgICAgbGlua3MgKz0gJ1xcbic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGlua3MgKz0gdmFsdWUuZnVsbF91cmw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0ICRjbGlwYm9hcmRUZW1wID0gJCgnLmpzLXJ2LWNsaXBib2FyZC10ZW1wJyk7XHJcbiAgICAgICAgJGNsaXBib2FyZFRlbXAuZGF0YSgnY2xpcGJvYXJkLXRleHQnLCBsaW5rcyk7XHJcbiAgICAgICAgbmV3IENsaXBib2FyZCgnLmpzLXJ2LWNsaXBib2FyZC10ZW1wJywge1xyXG4gICAgICAgICAgICB0ZXh0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlua3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBNZXNzYWdlU2VydmljZS5zaG93TWVzc2FnZSgnc3VjY2VzcycsIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMuY2xpcGJvYXJkLnN1Y2Nlc3MsIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMubWVzc2FnZS5zdWNjZXNzX2hlYWRlcik7XHJcbiAgICAgICAgJGNsaXBib2FyZFRlbXAudHJpZ2dlcignY2xpY2snKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGFuZGxlR2xvYmFsQWN0aW9uKHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkID0gW107XHJcbiAgICAgICAgXy5lYWNoKEhlbHBlcnMuZ2V0U2VsZWN0ZWRJdGVtcygpLCB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaXNfZm9sZGVyOiB2YWx1ZS5pc19mb2xkZXIsXHJcbiAgICAgICAgICAgICAgICBpZDogdmFsdWUuaWQsXHJcbiAgICAgICAgICAgICAgICBmdWxsX3VybDogdmFsdWUuZnVsbF91cmxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdyZW5hbWUnOlxyXG4gICAgICAgICAgICAgICAgJCgnI21vZGFsX3JlbmFtZV9pdGVtcycpLm1vZGFsKCdzaG93JykuZmluZCgnZm9ybS5ydi1mb3JtJykuZGF0YSgnYWN0aW9uJywgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY29weV9saW5rJzpcclxuICAgICAgICAgICAgICAgIEFjdGlvbnNTZXJ2aWNlLmhhbmRsZUNvcHlMaW5rKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncHJldmlldyc6XHJcbiAgICAgICAgICAgICAgICBBY3Rpb25zU2VydmljZS5oYW5kbGVQcmV2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndHJhc2gnOlxyXG4gICAgICAgICAgICAgICAgJCgnI21vZGFsX3RyYXNoX2l0ZW1zJykubW9kYWwoJ3Nob3cnKS5maW5kKCdmb3JtLnJ2LWZvcm0nKS5kYXRhKCdhY3Rpb24nLCB0eXBlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdkZWxldGUnOlxyXG4gICAgICAgICAgICAgICAgJCgnI21vZGFsX2RlbGV0ZV9pdGVtcycpLm1vZGFsKCdzaG93JykuZmluZCgnZm9ybS5ydi1mb3JtJykuZGF0YSgnYWN0aW9uJywgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZW1wdHlfdHJhc2gnOlxyXG4gICAgICAgICAgICAgICAgJCgnI21vZGFsX2VtcHR5X3RyYXNoJykubW9kYWwoJ3Nob3cnKS5maW5kKCdmb3JtLnJ2LWZvcm0nKS5kYXRhKCdhY3Rpb24nLCB0eXBlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdkb3dubG9hZCc6XHJcbiAgICAgICAgICAgICAgICBsZXQgZG93bmxvYWRMaW5rID0gUlZfTUVESUFfVVJMLmRvd25sb2FkO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIF8uZWFjaChIZWxwZXJzLmdldFNlbGVjdGVkSXRlbXMoKSwgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghXy5pbmNsdWRlcyhIZWxwZXJzLmdldENvbmZpZ3MoKS5kZW5pZWRfZG93bmxvYWQsIHZhbHVlLm1pbWVfdHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rICs9IChjb3VudCA9PT0gMCA/ICc/JyA6ICcmJykgKyAnc2VsZWN0ZWRbJyArIGNvdW50ICsgJ11baXNfZm9sZGVyXT0nICsgdmFsdWUuaXNfZm9sZGVyICsgJyZzZWxlY3RlZFsnICsgY291bnQgKyAnXVtpZF09JyArIHZhbHVlLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvd25sb2FkTGluayAhPT0gUlZfTUVESUFfVVJMLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZG93bmxvYWRMaW5rLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLnNob3dNZXNzYWdlKCdlcnJvcicsIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMuZG93bmxvYWQuZXJyb3IsIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMubWVzc2FnZS5lcnJvcl9oZWFkZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBBY3Rpb25zU2VydmljZS5wcm9jZXNzQWN0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0eXBlXHJcbiAgICAgICAgICAgICAgICB9LCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHByb2Nlc3NBY3Rpb24oZGF0YSwgY2FsbGJhY2sgPSBudWxsKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBSVl9NRURJQV9VUkwuZ2xvYmFsX2FjdGlvbnMsXHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgYmVmb3JlU2VuZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgSGVscGVycy5zaG93QWpheExvYWRpbmcoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogcmVzID0+IHtcclxuICAgICAgICAgICAgICAgIEhlbHBlcnMucmVzZXRQYWdpbmF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcy5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLnNob3dNZXNzYWdlKCdzdWNjZXNzJywgcmVzLm1lc3NhZ2UsIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMubWVzc2FnZS5zdWNjZXNzX2hlYWRlcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLnNob3dNZXNzYWdlKCdlcnJvcicsIHJlcy5tZXNzYWdlLCBSVl9NRURJQV9DT05GSUcudHJhbnNsYXRpb25zLm1lc3NhZ2UuZXJyb3JfaGVhZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBIZWxwZXJzLmhpZGVBamF4TG9hZGluZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBNZXNzYWdlU2VydmljZS5oYW5kbGVFcnJvcihkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW5kZXJSZW5hbWVJdGVtcygpIHtcclxuICAgICAgICBsZXQgVklFVyA9ICQoJyNydl9tZWRpYV9yZW5hbWVfaXRlbScpLmh0bWwoKTtcclxuICAgICAgICBsZXQgJGl0ZW1zV3JhcHBlciA9ICQoJyNtb2RhbF9yZW5hbWVfaXRlbXMgLnJlbmFtZS1pdGVtcycpLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIF8uZWFjaChIZWxwZXJzLmdldFNlbGVjdGVkSXRlbXMoKSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gVklFV1xyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL19faWNvbl9fL2dpLCB2YWx1ZS5pY29uIHx8ICdmYSBmYS1maWxlJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fX3BsYWNlaG9sZGVyX18vZ2ksICdJbnB1dCBmaWxlIG5hbWUnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL19fdmFsdWVfXy9naSwgdmFsdWUubmFtZSlcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICBsZXQgJGl0ZW0gPSAkKGl0ZW0pO1xyXG4gICAgICAgICAgICAkaXRlbS5kYXRhKCdpZCcsIHZhbHVlLmlkKTtcclxuICAgICAgICAgICAgJGl0ZW0uZGF0YSgnaXNfZm9sZGVyJywgdmFsdWUuaXNfZm9sZGVyKTtcclxuICAgICAgICAgICAgJGl0ZW0uZGF0YSgnbmFtZScsIHZhbHVlLm5hbWUpO1xyXG4gICAgICAgICAgICAkaXRlbXNXcmFwcGVyLmFwcGVuZCgkaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbmRlckFjdGlvbnMoKSB7XHJcbiAgICAgICAgbGV0IGhhc0ZvbGRlclNlbGVjdGVkID0gSGVscGVycy5nZXRTZWxlY3RlZEZvbGRlcigpLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIGxldCBBQ1RJT05fVEVNUExBVEUgPSAkKCcjcnZfYWN0aW9uX2l0ZW0nKS5odG1sKCk7XHJcbiAgICAgICAgbGV0IGluaXRpYWxpemVkSXRlbSA9IDA7XHJcbiAgICAgICAgbGV0ICRkcm9wZG93bkFjdGlvbnMgPSAkKCcucnYtZHJvcGRvd24tYWN0aW9ucyAuZHJvcGRvd24tbWVudScpO1xyXG4gICAgICAgICRkcm9wZG93bkFjdGlvbnMuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgbGV0IGFjdGlvbnNMaXN0ID0gJC5leHRlbmQoe30sIHRydWUsIEhlbHBlcnMuZ2V0Q29uZmlncygpLmFjdGlvbnNfbGlzdCk7XHJcblxyXG4gICAgICAgIGlmIChoYXNGb2xkZXJTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBhY3Rpb25zTGlzdC5iYXNpYyA9IF8ucmVqZWN0KGFjdGlvbnNMaXN0LmJhc2ljLCBpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmFjdGlvbiA9PT0gJ3ByZXZpZXcnO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYWN0aW9uc0xpc3QuZmlsZSA9IF8ucmVqZWN0KGFjdGlvbnNMaXN0LmZpbGUsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYWN0aW9uID09PSAnY29weV9saW5rJztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIV8uaW5jbHVkZXMoUlZfTUVESUFfQ09ORklHLnBlcm1pc3Npb25zLCAnZm9sZGVycy5jcmVhdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uc0xpc3QuZmlsZSA9IF8ucmVqZWN0KGFjdGlvbnNMaXN0LmZpbGUsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmFjdGlvbiA9PT0gJ21ha2VfY29weSc7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFfLmluY2x1ZGVzKFJWX01FRElBX0NPTkZJRy5wZXJtaXNzaW9ucywgJ2ZvbGRlcnMuZWRpdCcpKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zTGlzdC5maWxlID0gXy5yZWplY3QoYWN0aW9uc0xpc3QuZmlsZSwgaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uaW5jbHVkZXMoWydyZW5hbWUnXSwgaXRlbS5hY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYWN0aW9uc0xpc3QudXNlciA9IF8ucmVqZWN0KGFjdGlvbnNMaXN0LnVzZXIsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmluY2x1ZGVzKFsncmVuYW1lJ10sIGl0ZW0uYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIV8uaW5jbHVkZXMoUlZfTUVESUFfQ09ORklHLnBlcm1pc3Npb25zLCAnZm9sZGVycy50cmFzaCcpKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zTGlzdC5vdGhlciA9IF8ucmVqZWN0KGFjdGlvbnNMaXN0Lm90aGVyLCBpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5pbmNsdWRlcyhbJ3RyYXNoJywgJ3Jlc3RvcmUnXSwgaXRlbS5hY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghXy5pbmNsdWRlcyhSVl9NRURJQV9DT05GSUcucGVybWlzc2lvbnMsICdmb2xkZXJzLmRlc3Ryb3knKSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uc0xpc3Qub3RoZXIgPSBfLnJlamVjdChhY3Rpb25zTGlzdC5vdGhlciwgaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uaW5jbHVkZXMoWydkZWxldGUnXSwgaXRlbS5hY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghXy5pbmNsdWRlcyhSVl9NRURJQV9DT05GSUcucGVybWlzc2lvbnMsICdmb2xkZXJzLmZhdm9yaXRlJykpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbnNMaXN0Lm90aGVyID0gXy5yZWplY3QoYWN0aW9uc0xpc3Qub3RoZXIsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmluY2x1ZGVzKFsnZmF2b3JpdGUnLCAncmVtb3ZlX2Zhdm9yaXRlJ10sIGl0ZW0uYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgc2VsZWN0ZWRGaWxlcyA9IEhlbHBlcnMuZ2V0U2VsZWN0ZWRGaWxlcygpO1xyXG5cclxuICAgICAgICBsZXQgY2FuUHJldmlldyA9IGZhbHNlO1xyXG4gICAgICAgIF8uZWFjaChzZWxlY3RlZEZpbGVzLCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKF8uaW5jbHVkZXMoWydpbWFnZScsICdwZGYnLCAndGV4dCcsICd2aWRlbyddLCB2YWx1ZS50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgY2FuUHJldmlldyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFjYW5QcmV2aWV3KSB7XHJcbiAgICAgICAgICAgIGFjdGlvbnNMaXN0LmJhc2ljID0gXy5yZWplY3QoYWN0aW9uc0xpc3QuYmFzaWMsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYWN0aW9uID09PSAncHJldmlldyc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkRmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoIV8uaW5jbHVkZXMoUlZfTUVESUFfQ09ORklHLnBlcm1pc3Npb25zLCAnZmlsZXMuY3JlYXRlJykpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbnNMaXN0LmZpbGUgPSBfLnJlamVjdChhY3Rpb25zTGlzdC5maWxlLCBpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5hY3Rpb24gPT09ICdtYWtlX2NvcHknO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghXy5pbmNsdWRlcyhSVl9NRURJQV9DT05GSUcucGVybWlzc2lvbnMsICdmaWxlcy5lZGl0JykpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbnNMaXN0LmZpbGUgPSBfLnJlamVjdChhY3Rpb25zTGlzdC5maWxlLCBpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5pbmNsdWRlcyhbJ3JlbmFtZSddLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFfLmluY2x1ZGVzKFJWX01FRElBX0NPTkZJRy5wZXJtaXNzaW9ucywgJ2ZpbGVzLnRyYXNoJykpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbnNMaXN0Lm90aGVyID0gXy5yZWplY3QoYWN0aW9uc0xpc3Qub3RoZXIsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmluY2x1ZGVzKFsndHJhc2gnLCAncmVzdG9yZSddLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFfLmluY2x1ZGVzKFJWX01FRElBX0NPTkZJRy5wZXJtaXNzaW9ucywgJ2ZpbGVzLmRlc3Ryb3knKSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uc0xpc3Qub3RoZXIgPSBfLnJlamVjdChhY3Rpb25zTGlzdC5vdGhlciwgaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uaW5jbHVkZXMoWydkZWxldGUnXSwgaXRlbS5hY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghXy5pbmNsdWRlcyhSVl9NRURJQV9DT05GSUcucGVybWlzc2lvbnMsICdmaWxlcy5mYXZvcml0ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zTGlzdC5vdGhlciA9IF8ucmVqZWN0KGFjdGlvbnNMaXN0Lm90aGVyLCBpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5pbmNsdWRlcyhbJ2Zhdm9yaXRlJywgJ3JlbW92ZV9mYXZvcml0ZSddLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5lYWNoKGFjdGlvbnNMaXN0LCAoYWN0aW9uLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgXy5lYWNoKGFjdGlvbiwgKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNfYnJlYWsgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoSGVscGVycy5nZXRSZXF1ZXN0UGFyYW1zKCkudmlld19pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FsbF9tZWRpYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmluY2x1ZGVzKFsncmVtb3ZlX2Zhdm9yaXRlJywgJ2RlbGV0ZScsICdyZXN0b3JlJ10sIGl0ZW0uYWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfYnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlY2VudCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmluY2x1ZGVzKFsncmVtb3ZlX2Zhdm9yaXRlJywgJ2RlbGV0ZScsICdyZXN0b3JlJywgJ21ha2VfY29weSddLCBpdGVtLmFjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2JyZWFrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmYXZvcml0ZXMnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXy5pbmNsdWRlcyhbJ2Zhdm9yaXRlJywgJ2RlbGV0ZScsICdyZXN0b3JlJywgJ21ha2VfY29weSddLCBpdGVtLmFjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2JyZWFrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0cmFzaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghXy5pbmNsdWRlcyhbJ3ByZXZpZXcnLCAnZGVsZXRlJywgJ3Jlc3RvcmUnLCAncmVuYW1lJywgJ2Rvd25sb2FkJ10sIGl0ZW0uYWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfYnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc19icmVhaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEFDVElPTl9URU1QTEFURVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvX19hY3Rpb25fXy9naSwgaXRlbS5hY3Rpb24gfHwgJycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fX2ljb25fXy9naSwgaXRlbS5pY29uIHx8ICcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvX19uYW1lX18vZ2ksIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMuYWN0aW9uc19saXN0W2tleV1baXRlbS5hY3Rpb25dIHx8IGl0ZW0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmRleCAmJiBpbml0aWFsaXplZEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSAnPGxpIHJvbGU9XCJzZXBhcmF0b3JcIiBjbGFzcz1cImRpdmlkZXJcIj48L2xpPicgKyB0ZW1wbGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJGRyb3Bkb3duQWN0aW9ucy5hcHBlbmQodGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZWRJdGVtKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Services/ActionsService.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Services/ContextMenuService.js":
/*!************************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Services/ContextMenuService.js ***!
  \************************************************************************************/
/*! exports provided: ContextMenuService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContextMenuService\", function() { return ContextMenuService; });\n/* harmony import */ var _ActionsService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionsService */ \"./platform/core/media/resources/assets/js/App/Services/ActionsService.js\");\n/* harmony import */ var _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar ContextMenuService = /*#__PURE__*/function () {\n  function ContextMenuService() {\n    _classCallCheck(this, ContextMenuService);\n  }\n\n  _createClass(ContextMenuService, null, [{\n    key: \"initContext\",\n    value: function initContext() {\n      if (jQuery().contextMenu) {\n        $.contextMenu({\n          selector: '.js-context-menu[data-context=\"file\"]',\n          build: function build() {\n            return {\n              items: ContextMenuService._fileContextMenu()\n            };\n          }\n        });\n        $.contextMenu({\n          selector: '.js-context-menu[data-context=\"folder\"]',\n          build: function build() {\n            return {\n              items: ContextMenuService._folderContextMenu()\n            };\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_fileContextMenu\",\n    value: function _fileContextMenu() {\n      var items = {\n        preview: {\n          name: 'Preview',\n          icon: function icon(opt, $itemElement, itemKey, item) {\n            $itemElement.html('<i class=\"fa fa-eye\" aria-hidden=\"true\"></i> ' + item.name);\n            return 'context-menu-icon-updated';\n          },\n          callback: function callback() {\n            _ActionsService__WEBPACK_IMPORTED_MODULE_0__[\"ActionsService\"].handlePreview();\n          }\n        }\n      };\n\n      _.each(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getConfigs().actions_list, function (actionGroup, key) {\n        _.each(actionGroup, function (value) {\n          items[value.action] = {\n            name: value.name,\n            icon: function icon(opt, $itemElement, itemKey, item) {\n              $itemElement.html('<i class=\"' + value.icon + '\" aria-hidden=\"true\"></i> ' + (RV_MEDIA_CONFIG.translations.actions_list[key][value.action] || item.name));\n              return 'context-menu-icon-updated';\n            },\n            callback: function callback() {\n              $('.js-files-action[data-action=\"' + value.action + '\"]').trigger('click');\n            }\n          };\n        });\n      });\n\n      var except = [];\n\n      switch (_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().view_in) {\n        case 'all_media':\n          except = ['remove_favorite', 'delete', 'restore'];\n          break;\n\n        case 'recent':\n          except = ['remove_favorite', 'delete', 'restore', 'make_copy'];\n          break;\n\n        case 'favorites':\n          except = ['favorite', 'delete', 'restore', 'make_copy'];\n          break;\n\n        case 'trash':\n          items = {\n            preview: items.preview,\n            rename: items.rename,\n            download: items.download,\n            \"delete\": items[\"delete\"],\n            restore: items.restore\n          };\n          break;\n      }\n\n      _.each(except, function (value) {\n        items[value] = undefined;\n      });\n\n      var hasFolderSelected = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFolder().length > 0;\n\n      if (hasFolderSelected) {\n        items.preview = undefined;\n        items.copy_link = undefined;\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.create')) {\n          items.make_copy = undefined;\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.edit')) {\n          items.rename = undefined;\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.trash')) {\n          items.trash = undefined;\n          items.restore = undefined;\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.destroy')) {\n          items[\"delete\"] = undefined;\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'folders.favorite')) {\n          items.favorite = undefined;\n          items.remove_favorite = undefined;\n        }\n      }\n\n      var selectedFiles = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFiles();\n\n      if (selectedFiles.length > 0) {\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.create')) {\n          items.make_copy = undefined;\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.edit')) {\n          items.rename = undefined;\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.trash')) {\n          items.trash = undefined;\n          items.restore = undefined;\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.destroy')) {\n          items[\"delete\"] = undefined;\n        }\n\n        if (!_.includes(RV_MEDIA_CONFIG.permissions, 'files.favorite')) {\n          items.favorite = undefined;\n          items.remove_favorite = undefined;\n        }\n      }\n\n      var canPreview = false;\n\n      _.each(selectedFiles, function (value) {\n        if (_.includes(['image', 'pdf', 'text', 'video'], value.type)) {\n          canPreview = true;\n        }\n      });\n\n      if (!canPreview) {\n        items.preview = undefined;\n      }\n\n      return items;\n    }\n  }, {\n    key: \"_folderContextMenu\",\n    value: function _folderContextMenu() {\n      var items = ContextMenuService._fileContextMenu();\n\n      items.preview = undefined;\n      items.copy_link = undefined;\n      return items;\n    }\n  }, {\n    key: \"destroyContext\",\n    value: function destroyContext() {\n      if (jQuery().contextMenu) {\n        $.contextMenu('destroy');\n      }\n    }\n  }]);\n\n  return ContextMenuService;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1NlcnZpY2VzL0NvbnRleHRNZW51U2VydmljZS5qcz9kNzYyIl0sIm5hbWVzIjpbIkNvbnRleHRNZW51U2VydmljZSIsImpRdWVyeSIsImNvbnRleHRNZW51IiwiJCIsInNlbGVjdG9yIiwiYnVpbGQiLCJpdGVtcyIsIl9maWxlQ29udGV4dE1lbnUiLCJfZm9sZGVyQ29udGV4dE1lbnUiLCJwcmV2aWV3IiwibmFtZSIsImljb24iLCJvcHQiLCIkaXRlbUVsZW1lbnQiLCJpdGVtS2V5IiwiaXRlbSIsImh0bWwiLCJjYWxsYmFjayIsIkFjdGlvbnNTZXJ2aWNlIiwiaGFuZGxlUHJldmlldyIsIl8iLCJlYWNoIiwiSGVscGVycyIsImdldENvbmZpZ3MiLCJhY3Rpb25zX2xpc3QiLCJhY3Rpb25Hcm91cCIsImtleSIsInZhbHVlIiwiYWN0aW9uIiwiUlZfTUVESUFfQ09ORklHIiwidHJhbnNsYXRpb25zIiwidHJpZ2dlciIsImV4Y2VwdCIsImdldFJlcXVlc3RQYXJhbXMiLCJ2aWV3X2luIiwicmVuYW1lIiwiZG93bmxvYWQiLCJyZXN0b3JlIiwidW5kZWZpbmVkIiwiaGFzRm9sZGVyU2VsZWN0ZWQiLCJnZXRTZWxlY3RlZEZvbGRlciIsImxlbmd0aCIsImNvcHlfbGluayIsImluY2x1ZGVzIiwicGVybWlzc2lvbnMiLCJtYWtlX2NvcHkiLCJ0cmFzaCIsImZhdm9yaXRlIiwicmVtb3ZlX2Zhdm9yaXRlIiwic2VsZWN0ZWRGaWxlcyIsImdldFNlbGVjdGVkRmlsZXMiLCJjYW5QcmV2aWV3IiwidHlwZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFTyxJQUFNQSxrQkFBYjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUEsa0NBQ3lCO0FBQ2pCLFVBQUlDLE1BQU0sR0FBR0MsV0FBYixFQUEwQjtBQUN0QkMsU0FBQyxDQUFDRCxXQUFG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LEtBQUQsRUFBVztBQUM3QixZQUFJUCxDQUFDLENBQUN1QixRQUFGLENBQVcsQ0FBQyxPQUFELEVBQVUsS0FBVixFQUFpQixNQUFqQixFQUF5QixPQUF6QixDQUFYLEVBQThDaEIsS0FBSyxDQUFDeUIsSUFBcEQsQ0FBSixFQUErRDtBQUMzREQsb0JBQVUsR0FBRyxJQUFiO0FBQ0g7QUFDSixPQUpEOztBQU1BLFVBQUksQ0FBQ0EsVUFBTCxFQUFpQjtBQUNiN0MsYUFBSyxDQUFDRyxPQUFOLEdBQWdCNkIsU0FBaEI7QUFDSDs7QUFFRCxhQUFPaEMsS0FBUDtBQUNIO0FBcEpMO0FBQUE7QUFBQSx5Q0FzSmdDO0FBQ3hCLFVBQUlBLEtBQUssR0FBR04sa0JBQWtCLENBQUNPLGdCQUFuQixFQUFaOztBQUVBRCxXQUFLLENBQUNHLE9BQU4sR0FBZ0I2QixTQUFoQjtBQUNBaEMsV0FBSyxDQUFDb0MsU0FBTixHQUFrQkosU0FBbEI7QUFFQSxhQUFPaEMsS0FBUDtBQUNIO0FBN0pMO0FBQUE7QUFBQSxxQ0ErSjRCO0FBQ3BCLFVBQUlMLE1BQU0sR0FBR0MsV0FBYixFQUEwQjtBQUN0QkMsU0FBQyxDQUFDRCxXQUFGLENBQWMsU0FBZDtBQUNIO0FBQ0o7QUFuS0w7O0FBQUE7QUFBQSIsImZpbGUiOiIuL3BsYXRmb3JtL2NvcmUvbWVkaWEvcmVzb3VyY2VzL2Fzc2V0cy9qcy9BcHAvU2VydmljZXMvQ29udGV4dE1lbnVTZXJ2aWNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBY3Rpb25zU2VydmljZX0gZnJvbSAnLi9BY3Rpb25zU2VydmljZSc7XHJcbmltcG9ydCB7SGVscGVyc30gZnJvbSAnLi4vSGVscGVycy9IZWxwZXJzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250ZXh0TWVudVNlcnZpY2Uge1xyXG4gICAgc3RhdGljIGluaXRDb250ZXh0KCkge1xyXG4gICAgICAgIGlmIChqUXVlcnkoKS5jb250ZXh0TWVudSkge1xyXG4gICAgICAgICAgICAkLmNvbnRleHRNZW51KHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmpzLWNvbnRleHQtbWVudVtkYXRhLWNvbnRleHQ9XCJmaWxlXCJdJyxcclxuICAgICAgICAgICAgICAgIGJ1aWxkOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IENvbnRleHRNZW51U2VydmljZS5fZmlsZUNvbnRleHRNZW51KCksXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJC5jb250ZXh0TWVudSh7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJy5qcy1jb250ZXh0LW1lbnVbZGF0YS1jb250ZXh0PVwiZm9sZGVyXCJdJyxcclxuICAgICAgICAgICAgICAgIGJ1aWxkOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IENvbnRleHRNZW51U2VydmljZS5fZm9sZGVyQ29udGV4dE1lbnUoKSxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBfZmlsZUNvbnRleHRNZW51KCkge1xyXG4gICAgICAgIGxldCBpdGVtcyA9IHtcclxuICAgICAgICAgICAgcHJldmlldzoge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ1ByZXZpZXcnLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogKG9wdCwgJGl0ZW1FbGVtZW50LCBpdGVtS2V5LCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGl0ZW1FbGVtZW50Lmh0bWwoJzxpIGNsYXNzPVwiZmEgZmEtZXllXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiAnICsgaXRlbS5uYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjb250ZXh0LW1lbnUtaWNvbi11cGRhdGVkJztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIEFjdGlvbnNTZXJ2aWNlLmhhbmRsZVByZXZpZXcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLmVhY2goSGVscGVycy5nZXRDb25maWdzKCkuYWN0aW9uc19saXN0LCAoYWN0aW9uR3JvdXAsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBfLmVhY2goYWN0aW9uR3JvdXAsIHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zW3ZhbHVlLmFjdGlvbl0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsdWUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAob3B0LCAkaXRlbUVsZW1lbnQsIGl0ZW1LZXksIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1FbGVtZW50Lmh0bWwoJzxpIGNsYXNzPVwiJyArIHZhbHVlLmljb24gKyAnXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiAnICsgKFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMuYWN0aW9uc19saXN0W2tleV1bdmFsdWUuYWN0aW9uXSB8fCBpdGVtLm5hbWUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnY29udGV4dC1tZW51LWljb24tdXBkYXRlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtZmlsZXMtYWN0aW9uW2RhdGEtYWN0aW9uPVwiJyArIHZhbHVlLmFjdGlvbiArICdcIl0nKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBleGNlcHQgPSBbXTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChIZWxwZXJzLmdldFJlcXVlc3RQYXJhbXMoKS52aWV3X2luKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FsbF9tZWRpYSc6XHJcbiAgICAgICAgICAgICAgICBleGNlcHQgPSBbJ3JlbW92ZV9mYXZvcml0ZScsICdkZWxldGUnLCAncmVzdG9yZSddO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JlY2VudCc6XHJcbiAgICAgICAgICAgICAgICBleGNlcHQgPSBbJ3JlbW92ZV9mYXZvcml0ZScsICdkZWxldGUnLCAncmVzdG9yZScsICdtYWtlX2NvcHknXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdmYXZvcml0ZXMnOlxyXG4gICAgICAgICAgICAgICAgZXhjZXB0ID0gWydmYXZvcml0ZScsICdkZWxldGUnLCAncmVzdG9yZScsICdtYWtlX2NvcHknXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0cmFzaCc6XHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiBpdGVtcy5wcmV2aWV3LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbmFtZTogaXRlbXMucmVuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiBpdGVtcy5kb3dubG9hZCxcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGU6IGl0ZW1zLmRlbGV0ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXN0b3JlOiBpdGVtcy5yZXN0b3JlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5lYWNoKGV4Y2VwdCwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW1zW3ZhbHVlXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IGhhc0ZvbGRlclNlbGVjdGVkID0gSGVscGVycy5nZXRTZWxlY3RlZEZvbGRlcigpLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIGlmIChoYXNGb2xkZXJTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBpdGVtcy5wcmV2aWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpdGVtcy5jb3B5X2xpbmsgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIV8uaW5jbHVkZXMoUlZfTUVESUFfQ09ORklHLnBlcm1pc3Npb25zLCAnZm9sZGVycy5jcmVhdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMubWFrZV9jb3B5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIV8uaW5jbHVkZXMoUlZfTUVESUFfQ09ORklHLnBlcm1pc3Npb25zLCAnZm9sZGVycy5lZGl0JykpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLnJlbmFtZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFfLmluY2x1ZGVzKFJWX01FRElBX0NPTkZJRy5wZXJtaXNzaW9ucywgJ2ZvbGRlcnMudHJhc2gnKSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMudHJhc2ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5yZXN0b3JlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIV8uaW5jbHVkZXMoUlZfTUVESUFfQ09ORklHLnBlcm1pc3Npb25zLCAnZm9sZGVycy5kZXN0cm95JykpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLmRlbGV0ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFfLmluY2x1ZGVzKFJWX01FRElBX0NPTkZJRy5wZXJtaXNzaW9ucywgJ2ZvbGRlcnMuZmF2b3JpdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMuZmF2b3JpdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5yZW1vdmVfZmF2b3JpdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzZWxlY3RlZEZpbGVzID0gSGVscGVycy5nZXRTZWxlY3RlZEZpbGVzKCk7XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZEZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKCFfLmluY2x1ZGVzKFJWX01FRElBX0NPTkZJRy5wZXJtaXNzaW9ucywgJ2ZpbGVzLmNyZWF0ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5tYWtlX2NvcHkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghXy5pbmNsdWRlcyhSVl9NRURJQV9DT05GSUcucGVybWlzc2lvbnMsICdmaWxlcy5lZGl0JykpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLnJlbmFtZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFfLmluY2x1ZGVzKFJWX01FRElBX0NPTkZJRy5wZXJtaXNzaW9ucywgJ2ZpbGVzLnRyYXNoJykpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLnRyYXNoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaXRlbXMucmVzdG9yZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFfLmluY2x1ZGVzKFJWX01FRElBX0NPTkZJRy5wZXJtaXNzaW9ucywgJ2ZpbGVzLmRlc3Ryb3knKSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMuZGVsZXRlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIV8uaW5jbHVkZXMoUlZfTUVESUFfQ09ORklHLnBlcm1pc3Npb25zLCAnZmlsZXMuZmF2b3JpdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMuZmF2b3JpdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5yZW1vdmVfZmF2b3JpdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjYW5QcmV2aWV3ID0gZmFsc2U7XHJcbiAgICAgICAgXy5lYWNoKHNlbGVjdGVkRmlsZXMsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXy5pbmNsdWRlcyhbJ2ltYWdlJywgJ3BkZicsICd0ZXh0JywgJ3ZpZGVvJ10sIHZhbHVlLnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5QcmV2aWV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIWNhblByZXZpZXcpIHtcclxuICAgICAgICAgICAgaXRlbXMucHJldmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgX2ZvbGRlckNvbnRleHRNZW51KCkge1xyXG4gICAgICAgIGxldCBpdGVtcyA9IENvbnRleHRNZW51U2VydmljZS5fZmlsZUNvbnRleHRNZW51KCk7XHJcblxyXG4gICAgICAgIGl0ZW1zLnByZXZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaXRlbXMuY29weV9saW5rID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRlc3Ryb3lDb250ZXh0KCkge1xyXG4gICAgICAgIGlmIChqUXVlcnkoKS5jb250ZXh0TWVudSkge1xyXG4gICAgICAgICAgICAkLmNvbnRleHRNZW51KCdkZXN0cm95Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Services/ContextMenuService.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Services/FolderService.js":
/*!*******************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Services/FolderService.js ***!
  \*******************************************************************************/
/*! exports provided: FolderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FolderService\", function() { return FolderService; });\n/* harmony import */ var _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Config/MediaConfig */ \"./platform/core/media/resources/assets/js/App/Config/MediaConfig.js\");\n/* harmony import */ var _MediaService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MediaService */ \"./platform/core/media/resources/assets/js/App/Services/MediaService.js\");\n/* harmony import */ var _MessageService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MessageService */ \"./platform/core/media/resources/assets/js/App/Services/MessageService.js\");\n/* harmony import */ var _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar FolderService = /*#__PURE__*/function () {\n  function FolderService() {\n    _classCallCheck(this, FolderService);\n\n    this.MediaService = new _MediaService__WEBPACK_IMPORTED_MODULE_1__[\"MediaService\"]();\n    $('body').on('shown.bs.modal', '#modal_add_folder', function (event) {\n      $(event.currentTarget).find('.form-add-folder input[type=text]').focus();\n    });\n  }\n\n  _createClass(FolderService, [{\n    key: \"create\",\n    value: function create(folderName) {\n      var _self = this;\n\n      $.ajax({\n        url: RV_MEDIA_URL.create_folder,\n        type: 'POST',\n        data: {\n          parent_id: _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_3__[\"Helpers\"].getRequestParams().folder_id,\n          name: folderName\n        },\n        dataType: 'json',\n        beforeSend: function beforeSend() {\n          _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_3__[\"Helpers\"].showAjaxLoading();\n        },\n        success: function success(res) {\n          if (res.error) {\n            _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].showMessage('error', res.message, RV_MEDIA_CONFIG.translations.message.error_header);\n          } else {\n            _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].showMessage('success', res.message, RV_MEDIA_CONFIG.translations.message.success_header);\n            _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_3__[\"Helpers\"].resetPagination();\n\n            _self.MediaService.getMedia(true);\n\n            FolderService.closeModal();\n          }\n        },\n        complete: function complete() {\n          _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_3__[\"Helpers\"].hideAjaxLoading();\n        },\n        error: function error(data) {\n          _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].handleError(data);\n        }\n      });\n    }\n  }, {\n    key: \"changeFolder\",\n    value: function changeFolder(folderId) {\n      _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params.folder_id = folderId;\n      _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_3__[\"Helpers\"].storeConfig();\n      this.MediaService.getMedia(true);\n    }\n  }], [{\n    key: \"closeModal\",\n    value: function closeModal() {\n      $(document).find('#modal_add_folder').modal('hide');\n    }\n  }]);\n\n  return FolderService;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1NlcnZpY2VzL0ZvbGRlclNlcnZpY2UuanM/MGI4MyJdLCJuYW1lcyI6WyJGb2xkZXJTZXJ2aWNlIiwiTWVkaWFTZXJ2aWNlIiwiJCIsIm9uIiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0IiwiZmluZCIsImZvY3VzIiwiZm9sZGVyTmFtZSIsIl9zZWxmIiwiYWpheCIsInVybCIsIlJWX01FRElBX1VSTCIsImNyZWF0ZV9mb2xkZXIiLCJ0eXBlIiwiZGF0YSIsInBhcmVudF9pZCIsIkhlbHBlcnMiLCJnZXRSZXF1ZXN0UGFyYW1zIiwiZm9sZGVyX2lkIiwibmFtZSIsImRhdGFUeXBlIiwiYmVmb3JlU2VuZCIsInNob3dBamF4TG9hZGluZyIsInN1Y2Nlc3MiLCJyZXMiLCJlcnJvciIsIk1lc3NhZ2VTZXJ2aWNlIiwic2hvd01lc3NhZ2UiLCJtZXNzYWdlIiwiUlZfTUVESUFfQ09ORklHIiwidHJhbnNsYXRpb25zIiwiZXJyb3JfaGVhZGVyIiwic3VjY2Vzc19oZWFkZXIiLCJyZXNldFBhZ2luYXRpb24iLCJnZXRNZWRpYSIsImNsb3NlTW9kYWwiLCJjb21wbGV0ZSIsImhpZGVBamF4TG9hZGluZyIsImhhbmRsZUVycm9yIiwiZm9sZGVySWQiLCJNZWRpYUNvbmZpZyIsInJlcXVlc3RfcGFyYW1zIiwic3RvcmVDb25maWciLCJkb2N1bWVudCIsIm1vZGFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVPLElBQU1BLGFBQWI7QUFDSSwyQkFBYztBQUFBOztBQUNWLFNBQUtDLFlBQUwsR0FBb0IsSUFBSUEsMERBQUosRUFBcEI7QUFFQUMsS0FBQyxDQUFDLE1BQUQsQ0FBRCxDQUFVQyxFQUFWLENBQWEsZ0JBQWIsRUFBK0IsbUJBQS9CLEVBQW9ELFVBQUFDLEtBQUssRUFBSztBQUMxREYsT0FBQyxDQUFDRSxLQUFLLENBQUNDLGFBQVAsQ0FBRCxDQUF1QkMsSUFBdkIsQ0FBNEIsbUNBQTVCLEVBQWlFQyxLQUFqRTtBQUNILEtBRkQ7QUFHSDs7QUFQTDtBQUFBO0FBQUEsMkJBU1dDLFVBVFgsRUFTdUI7QUFDZixVQUFJQyxLQUFLLEdBQUcsSUFBWjs7QUFFQVAsT0FBQyxDQUFDUSxJQUFGLENBQU87QUFDSEMsV0FBRyxFQUFFQyxZQUFZLENBQUNDLGFBRGY7QUFFSEMsWUFBSSxFQUFFLE1BRkg7QUFHSEMsWUFBSSxFQUFFO0FBQ0ZDLG1CQUFTLEVBQUVDLHdEQUFPLENBQUNDLGdCQUFSLEdBQTJCQyxTQURwQztBQUVGQyxjQUFJLEVBQUVaO0FBRkosU0FISDtBQU9IYSxnQkFBUSxFQUFFLE1BUFA7QUFRSEMsa0JBQVUsRUFBRSxzQkFBTTtBQUNkTCxrRUFBTyxDQUFDTSxlQUFSO0FBQ0gsU0FWRTtBQVdIQyxlQUFPLEVBQUUsaUJBQUFDLEdBQUcsRUFBSTtBQUNaLGNBQUlBLEdBQUcsQ0FBQ0MsS0FBUixFQUFlO0FBQ1hDLDBFQUFjLENBQUNDLFdBQWYsQ0FBMkIsT0FBM0IsRUFBb0NILEdBQUcsQ0FBQ0ksT0FBeEMsRUFBaURDLGVBQWUsQ0FBQ0MsWUFBaEIsQ0FBNkJGLE9BQTdCLENBQXFDRyxZQUF0RjtBQUNILFdBRkQsTUFFTztBQUNITCwwRUFBYyxDQUFDQyxXQUFmLENBQTJCLFNBQTNCLEVBQXNDSCxHQUFHLENBQUNJLE9BQTFDLEVBQW1EQyxlQUFlLENBQUNDLFlBQWhCLENBQTZCRixPQUE3QixDQUFxQ0ksY0FBeEY7QUFDQWhCLG9FQUFPLENBQUNpQixlQUFSOztBQUNBekIsaUJBQUssQ0FBQ1IsWUFBTixDQUFtQmtDLFFBQW5CLENBQTRCLElBQTVCOztBQUNBbkMseUJBQWEsQ0FBQ29DLFVBQWQ7QUFDSDtBQUNKLFNBcEJFO0FBcUJIQyxnQkFBUSxFQUFFLG9CQUFNO0FBQ1pwQixrRUFBTyxDQUFDcUIsZUFBUjtBQUNILFNBdkJFO0FBd0JIWixhQUFLLEVBQUUsZUFBQVgsSUFBSSxFQUFJO0FBQ1hZLHdFQUFjLENBQUNZLFdBQWYsQ0FBMkJ4QixJQUEzQjtBQUNIO0FBMUJFLE9BQVA7QUE0Qkg7QUF4Q0w7QUFBQTtBQUFBLGlDQTBDaUJ5QixRQTFDakIsRUEwQzJCO0FBQ25CQyxxRUFBVyxDQUFDQyxjQUFaLENBQTJCdkIsU0FBM0IsR0FBdUNxQixRQUF2QztBQUNBdkIsOERBQU8sQ0FBQzBCLFdBQVI7QUFDQSxXQUFLMUMsWUFBTCxDQUFrQmtDLFFBQWxCLENBQTJCLElBQTNCO0FBQ0g7QUE5Q0w7QUFBQTtBQUFBLGlDQWdEd0I7QUFDaEJqQyxPQUFDLENBQUMwQyxRQUFELENBQUQsQ0FBWXRDLElBQVosQ0FBaUIsbUJBQWpCLEVBQXNDdUMsS0FBdEMsQ0FBNEMsTUFBNUM7QUFDSDtBQWxETDs7QUFBQTtBQUFBIiwiZmlsZSI6Ii4vcGxhdGZvcm0vY29yZS9tZWRpYS9yZXNvdXJjZXMvYXNzZXRzL2pzL0FwcC9TZXJ2aWNlcy9Gb2xkZXJTZXJ2aWNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNZWRpYUNvbmZpZ30gZnJvbSAnLi4vQ29uZmlnL01lZGlhQ29uZmlnJztcclxuaW1wb3J0IHtNZWRpYVNlcnZpY2V9IGZyb20gJy4vTWVkaWFTZXJ2aWNlJztcclxuaW1wb3J0IHtNZXNzYWdlU2VydmljZX0gZnJvbSAnLi9NZXNzYWdlU2VydmljZSc7XHJcbmltcG9ydCB7SGVscGVyc30gZnJvbSAnLi4vSGVscGVycy9IZWxwZXJzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGb2xkZXJTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuTWVkaWFTZXJ2aWNlID0gbmV3IE1lZGlhU2VydmljZSgpO1xyXG5cclxuICAgICAgICAkKCdib2R5Jykub24oJ3Nob3duLmJzLm1vZGFsJywgJyNtb2RhbF9hZGRfZm9sZGVyJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5maW5kKCcuZm9ybS1hZGQtZm9sZGVyIGlucHV0W3R5cGU9dGV4dF0nKS5mb2N1cygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShmb2xkZXJOYW1lKSB7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBSVl9NRURJQV9VUkwuY3JlYXRlX2ZvbGRlcixcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRfaWQ6IEhlbHBlcnMuZ2V0UmVxdWVzdFBhcmFtcygpLmZvbGRlcl9pZCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGZvbGRlck5hbWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgYmVmb3JlU2VuZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgSGVscGVycy5zaG93QWpheExvYWRpbmcoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogcmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBNZXNzYWdlU2VydmljZS5zaG93TWVzc2FnZSgnZXJyb3InLCByZXMubWVzc2FnZSwgUlZfTUVESUFfQ09ORklHLnRyYW5zbGF0aW9ucy5tZXNzYWdlLmVycm9yX2hlYWRlcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLnNob3dNZXNzYWdlKCdzdWNjZXNzJywgcmVzLm1lc3NhZ2UsIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMubWVzc2FnZS5zdWNjZXNzX2hlYWRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgSGVscGVycy5yZXNldFBhZ2luYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5NZWRpYVNlcnZpY2UuZ2V0TWVkaWEodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRm9sZGVyU2VydmljZS5jbG9zZU1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBIZWxwZXJzLmhpZGVBamF4TG9hZGluZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBNZXNzYWdlU2VydmljZS5oYW5kbGVFcnJvcihkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZUZvbGRlcihmb2xkZXJJZCkge1xyXG4gICAgICAgIE1lZGlhQ29uZmlnLnJlcXVlc3RfcGFyYW1zLmZvbGRlcl9pZCA9IGZvbGRlcklkO1xyXG4gICAgICAgIEhlbHBlcnMuc3RvcmVDb25maWcoKTtcclxuICAgICAgICB0aGlzLk1lZGlhU2VydmljZS5nZXRNZWRpYSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xvc2VNb2RhbCgpIHtcclxuICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcjbW9kYWxfYWRkX2ZvbGRlcicpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Services/FolderService.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Services/MediaService.js":
/*!******************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Services/MediaService.js ***!
  \******************************************************************************/
/*! exports provided: MediaService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaService\", function() { return MediaService; });\n/* harmony import */ var _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Config/MediaConfig */ \"./platform/core/media/resources/assets/js/App/Config/MediaConfig.js\");\n/* harmony import */ var _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\n/* harmony import */ var _MessageService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MessageService */ \"./platform/core/media/resources/assets/js/App/Services/MessageService.js\");\n/* harmony import */ var _ActionsService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ActionsService */ \"./platform/core/media/resources/assets/js/App/Services/ActionsService.js\");\n/* harmony import */ var _ContextMenuService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ContextMenuService */ \"./platform/core/media/resources/assets/js/App/Services/ContextMenuService.js\");\n/* harmony import */ var _Views_MediaList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Views/MediaList */ \"./platform/core/media/resources/assets/js/App/Views/MediaList.js\");\n/* harmony import */ var _Views_MediaDetails__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Views/MediaDetails */ \"./platform/core/media/resources/assets/js/App/Views/MediaDetails.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar MediaService = /*#__PURE__*/function () {\n  function MediaService() {\n    _classCallCheck(this, MediaService);\n\n    this.MediaList = new _Views_MediaList__WEBPACK_IMPORTED_MODULE_5__[\"MediaList\"]();\n    this.MediaDetails = new _Views_MediaDetails__WEBPACK_IMPORTED_MODULE_6__[\"MediaDetails\"]();\n    this.breadcrumbTemplate = $('#rv_media_breadcrumb_item').html();\n  }\n\n  _createClass(MediaService, [{\n    key: \"getMedia\",\n    value: function getMedia() {\n      var reload = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var is_popup = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var load_more_file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (typeof RV_MEDIA_CONFIG.pagination != 'undefined') {\n        if (RV_MEDIA_CONFIG.pagination.in_process_get_media) {\n          return;\n        } else {\n          RV_MEDIA_CONFIG.pagination.in_process_get_media = true;\n        }\n      }\n\n      var _self = this;\n\n      _self.getFileDetails({\n        icon: 'far fa-image',\n        nothing_selected: ''\n      });\n\n      var params = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams();\n\n      if (params.view_in === 'recent') {\n        params.recent_items = _Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"RecentItems\"];\n      }\n\n      if (is_popup === true) {\n        params.is_popup = true;\n      } else {\n        params.is_popup = undefined;\n      }\n\n      params.onSelectFiles = undefined;\n\n      if (typeof params.search != 'undefined' && params.search != '' && typeof params.selected_file_id != 'undefined') {\n        params.selected_file_id = undefined;\n      }\n\n      params.load_more_file = load_more_file;\n\n      if (typeof RV_MEDIA_CONFIG.pagination != 'undefined') {\n        params.paged = RV_MEDIA_CONFIG.pagination.paged;\n        params.posts_per_page = RV_MEDIA_CONFIG.pagination.posts_per_page;\n      }\n\n      $.ajax({\n        url: RV_MEDIA_URL.get_media,\n        type: 'GET',\n        data: params,\n        dataType: 'json',\n        beforeSend: function beforeSend() {\n          _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].showAjaxLoading();\n        },\n        success: function success(res) {\n          _self.MediaList.renderData(res.data, reload, load_more_file);\n\n          _self.renderBreadcrumbs(res.data.breadcrumbs);\n\n          MediaService.refreshFilter();\n          _ActionsService__WEBPACK_IMPORTED_MODULE_3__[\"ActionsService\"].renderActions();\n\n          if (typeof RV_MEDIA_CONFIG.pagination != 'undefined') {\n            if (typeof RV_MEDIA_CONFIG.pagination.paged != 'undefined') {\n              RV_MEDIA_CONFIG.pagination.paged += 1;\n            }\n\n            if (typeof RV_MEDIA_CONFIG.pagination.in_process_get_media != 'undefined') {\n              RV_MEDIA_CONFIG.pagination.in_process_get_media = false;\n            }\n\n            if (typeof RV_MEDIA_CONFIG.pagination.posts_per_page != 'undefined' && res.data.files.length + res.data.folders.length < RV_MEDIA_CONFIG.pagination.posts_per_page && typeof RV_MEDIA_CONFIG.pagination.has_more != 'undefined') {\n              RV_MEDIA_CONFIG.pagination.has_more = false;\n            }\n          }\n        },\n        complete: function complete() {\n          _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].hideAjaxLoading();\n        },\n        error: function error(data) {\n          _MessageService__WEBPACK_IMPORTED_MODULE_2__[\"MessageService\"].handleError(data);\n        }\n      });\n    }\n  }, {\n    key: \"getFileDetails\",\n    value: function getFileDetails(data) {\n      this.MediaDetails.renderData(data);\n    }\n  }, {\n    key: \"renderBreadcrumbs\",\n    value: function renderBreadcrumbs(breadcrumbItems) {\n      var _self = this;\n\n      var $breadcrumbContainer = $('.rv-media-breadcrumb .breadcrumb');\n      $breadcrumbContainer.find('li').remove();\n\n      _.each(breadcrumbItems, function (value) {\n        var template = _self.breadcrumbTemplate;\n        template = template.replace(/__name__/gi, value.name || '').replace(/__icon__/gi, value.icon ? '<i class=\"' + value.icon + '\"></i>' : '').replace(/__folderId__/gi, value.id || 0);\n        $breadcrumbContainer.append($(template));\n      });\n\n      $('.rv-media-container').attr('data-breadcrumb-count', _.size(breadcrumbItems));\n    }\n  }], [{\n    key: \"refreshFilter\",\n    value: function refreshFilter() {\n      var $rvMediaContainer = $('.rv-media-container');\n      var viewIn = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().view_in;\n\n      if (viewIn !== 'all_media' && !_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().folder_id) {\n        $('.rv-media-actions .btn:not([data-type=\"refresh\"]):not(label)').addClass('disabled');\n        $rvMediaContainer.attr('data-allow-upload', 'false');\n      } else {\n        $('.rv-media-actions .btn:not([data-type=\"refresh\"]):not(label)').removeClass('disabled');\n        $rvMediaContainer.attr('data-allow-upload', 'true');\n      }\n\n      $('.rv-media-actions .btn.js-rv-media-change-filter-group').removeClass('disabled');\n      var $empty_trash_btn = $('.rv-media-actions .btn[data-action=\"empty_trash\"]');\n\n      if (viewIn === 'trash') {\n        $empty_trash_btn.removeClass('hidden').removeClass('disabled');\n\n        if (!_.size(_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getItems())) {\n          $empty_trash_btn.addClass('hidden').addClass('disabled');\n        }\n      } else {\n        $empty_trash_btn.addClass('hidden');\n      }\n\n      _ContextMenuService__WEBPACK_IMPORTED_MODULE_4__[\"ContextMenuService\"].destroyContext();\n      _ContextMenuService__WEBPACK_IMPORTED_MODULE_4__[\"ContextMenuService\"].initContext();\n      $rvMediaContainer.attr('data-view-in', viewIn);\n    }\n  }]);\n\n  return MediaService;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1NlcnZpY2VzL01lZGlhU2VydmljZS5qcz9jM2RmIl0sIm5hbWVzIjpbIk1lZGlhU2VydmljZSIsIk1lZGlhTGlzdCIsIk1lZGlhRGV0YWlscyIsImJyZWFkY3J1bWJUZW1wbGF0ZSIsIiQiLCJodG1sIiwicmVsb2FkIiwiaXNfcG9wdXAiLCJsb2FkX21vcmVfZmlsZSIsIlJWX01FRElBX0NPTkZJRyIsInBhZ2luYXRpb24iLCJpbl9wcm9jZXNzX2dldF9tZWRpYSIsIl9zZWxmIiwiZ2V0RmlsZURldGFpbHMiLCJpY29uIiwibm90aGluZ19zZWxlY3RlZCIsInBhcmFtcyIsIkhlbHBlcnMiLCJnZXRSZXF1ZXN0UGFyYW1zIiwidmlld19pbiIsInJlY2VudF9pdGVtcyIsIlJlY2VudEl0ZW1zIiwidW5kZWZpbmVkIiwib25TZWxlY3RGaWxlcyIsInNlYXJjaCIsInNlbGVjdGVkX2ZpbGVfaWQiLCJwYWdlZCIsInBvc3RzX3Blcl9wYWdlIiwiYWpheCIsInVybCIsIlJWX01FRElBX1VSTCIsImdldF9tZWRpYSIsInR5cGUiLCJkYXRhIiwiZGF0YVR5cGUiLCJiZWZvcmVTZW5kIiwic2hvd0FqYXhMb2FkaW5nIiwic3VjY2VzcyIsInJlcyIsInJlbmRlckRhdGEiLCJyZW5kZXJCcmVhZGNydW1icyIsImJyZWFkY3J1bWJzIiwicmVmcmVzaEZpbHRlciIsIkFjdGlvbnNTZXJ2aWNlIiwicmVuZGVyQWN0aW9ucyIsImZpbGVzIiwibGVuZ3RoIiwiZm9sZGVycyIsImhhc19tb3JlIiwiY29tcGxldGUiLCJoaWRlQWpheExvYWRpbmciLCJlcnJvciIsIk1lc3NhZ2VTZXJ2aWNlIiwiaGFuZGxlRXJyb3IiLCJicmVhZGNydW1iSXRlbXMiLCIkYnJlYWRjcnVtYkNvbnRhaW5lciIsImZpbmQiLCJyZW1vdmUiLCJfIiwiZWFjaCIsInZhbHVlIiwidGVtcGxhdGUiLCJyZXBsYWNlIiwibmFtZSIsImlkIiwiYXBwZW5kIiwiYXR0ciIsInNpemUiLCIkcnZNZWRpYUNvbnRhaW5lciIsInZpZXdJbiIsImZvbGRlcl9pZCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCIkZW1wdHlfdHJhc2hfYnRuIiwiZ2V0SXRlbXMiLCJDb250ZXh0TWVudVNlcnZpY2UiLCJkZXN0cm95Q29udGV4dCIsImluaXRDb250ZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVPLElBQU1BLFlBQWI7QUFDSSwwQkFBYztBQUFBOztBQUNWLFNBQUtDLFNBQUwsR0FBaUIsSUFBSUEsMERBQUosRUFBakI7QUFDQSxTQUFLQyxZQUFMLEdBQW9CLElBQUlBLGdFQUFKLEVBQXBCO0FBQ0EsU0FBS0Msa0JBQUwsR0FBMEJDLENBQUMsQ0FBQywyQkFBRCxDQUFELENBQStCQyxJQUEvQixFQUExQjtBQUNIOztBQUxMO0FBQUE7QUFBQSwrQkFPdUU7QUFBQSxVQUExREMsTUFBMEQsdUVBQWpELEtBQWlEO0FBQUEsVUFBMUNDLFFBQTBDLHVFQUEvQixLQUErQjtBQUFBLFVBQXhCQyxjQUF3Qix1RUFBUCxLQUFPOztBQUMvRCxVQUFJLE9BQU9DLGVBQWUsQ0FBQ0MsVUFBdkIsSUFBcUMsV0FBekMsRUFBc0Q7QUFDbEQsWUFBSUQsZUFBZSxDQUFDQyxVQUFoQixDQUEyQkMsb0JBQS9CLEVBQXFEO0FBQ2pEO0FBQ0gsU0FGRCxNQUVPO0FBQ0hGLHlCQUFlLENBQUNDLFVBQWhCLENBQTJCQyxvQkFBM0IsR0FBa0QsSUFBbEQ7QUFDSDtBQUNKOztBQUVELFVBQUlDLEtBQUssR0FBRyxJQUFaOztBQUVBQSxXQUFLLENBQUNDLGNBQU4sQ0FBcUI7QUFDakJDLFlBQUksRUFBRSxjQURXO0FBRWpCQyx3QkFBZ0IsRUFBRTtBQUZELE9BQXJCOztBQUtBLFVBQUlDLE1BQU0sR0FBR0Msd0RBQU8sQ0FBQ0MsZ0JBQVIsRUFBYjs7QUFFQSxVQUFJRixN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L01lZGlhU2VydmljZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UmVjZW50SXRlbXN9IGZyb20gJy4uL0NvbmZpZy9NZWRpYUNvbmZpZyc7XHJcbmltcG9ydCB7SGVscGVyc30gZnJvbSAnLi4vSGVscGVycy9IZWxwZXJzJztcclxuaW1wb3J0IHtNZXNzYWdlU2VydmljZX0gZnJvbSAnLi9NZXNzYWdlU2VydmljZSc7XHJcbmltcG9ydCB7QWN0aW9uc1NlcnZpY2V9IGZyb20gJy4vQWN0aW9uc1NlcnZpY2UnO1xyXG5pbXBvcnQge0NvbnRleHRNZW51U2VydmljZX0gZnJvbSAnLi9Db250ZXh0TWVudVNlcnZpY2UnO1xyXG5pbXBvcnQge01lZGlhTGlzdH0gZnJvbSAnLi4vVmlld3MvTWVkaWFMaXN0JztcclxuaW1wb3J0IHtNZWRpYURldGFpbHN9IGZyb20gJy4uL1ZpZXdzL01lZGlhRGV0YWlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVkaWFTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuTWVkaWFMaXN0ID0gbmV3IE1lZGlhTGlzdCgpO1xyXG4gICAgICAgIHRoaXMuTWVkaWFEZXRhaWxzID0gbmV3IE1lZGlhRGV0YWlscygpO1xyXG4gICAgICAgIHRoaXMuYnJlYWRjcnVtYlRlbXBsYXRlID0gJCgnI3J2X21lZGlhX2JyZWFkY3J1bWJfaXRlbScpLmh0bWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNZWRpYShyZWxvYWQgPSBmYWxzZSwgaXNfcG9wdXAgPSBmYWxzZSwgbG9hZF9tb3JlX2ZpbGUgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgUlZfTUVESUFfQ09ORklHLnBhZ2luYXRpb24gIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgaWYgKFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uLmluX3Byb2Nlc3NfZ2V0X21lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBSVl9NRURJQV9DT05GSUcucGFnaW5hdGlvbi5pbl9wcm9jZXNzX2dldF9tZWRpYSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBfc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIF9zZWxmLmdldEZpbGVEZXRhaWxzKHtcclxuICAgICAgICAgICAgaWNvbjogJ2ZhciBmYS1pbWFnZScsXHJcbiAgICAgICAgICAgIG5vdGhpbmdfc2VsZWN0ZWQ6ICcnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgcGFyYW1zID0gSGVscGVycy5nZXRSZXF1ZXN0UGFyYW1zKCk7XHJcblxyXG4gICAgICAgIGlmIChwYXJhbXMudmlld19pbiA9PT0gJ3JlY2VudCcpIHtcclxuICAgICAgICAgICAgcGFyYW1zLnJlY2VudF9pdGVtcyA9IFJlY2VudEl0ZW1zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzX3BvcHVwID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5pc19wb3B1cCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGFyYW1zLmlzX3BvcHVwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFyYW1zLm9uU2VsZWN0RmlsZXMgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zLnNlYXJjaCAhPSAndW5kZWZpbmVkJyAmJiBwYXJhbXMuc2VhcmNoICE9ICcnICYmIHR5cGVvZiBwYXJhbXMuc2VsZWN0ZWRfZmlsZV9pZCAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBwYXJhbXMuc2VsZWN0ZWRfZmlsZV9pZCA9IHVuZGVmaW5lZFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFyYW1zLmxvYWRfbW9yZV9maWxlID0gbG9hZF9tb3JlX2ZpbGU7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBSVl9NRURJQV9DT05GSUcucGFnaW5hdGlvbiAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBwYXJhbXMucGFnZWQgPSBSVl9NRURJQV9DT05GSUcucGFnaW5hdGlvbi5wYWdlZDtcclxuICAgICAgICAgICAgcGFyYW1zLnBvc3RzX3Blcl9wYWdlID0gUlZfTUVESUFfQ09ORklHLnBhZ2luYXRpb24ucG9zdHNfcGVyX3BhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogUlZfTUVESUFfVVJMLmdldF9tZWRpYSxcclxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHBhcmFtcyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgYmVmb3JlU2VuZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgSGVscGVycy5zaG93QWpheExvYWRpbmcoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogcmVzID0+ICB7XHJcbiAgICAgICAgICAgICAgICBfc2VsZi5NZWRpYUxpc3QucmVuZGVyRGF0YShyZXMuZGF0YSwgcmVsb2FkLCBsb2FkX21vcmVfZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBfc2VsZi5yZW5kZXJCcmVhZGNydW1icyhyZXMuZGF0YS5icmVhZGNydW1icyk7XHJcbiAgICAgICAgICAgICAgICBNZWRpYVNlcnZpY2UucmVmcmVzaEZpbHRlcigpO1xyXG4gICAgICAgICAgICAgICAgQWN0aW9uc1NlcnZpY2UucmVuZGVyQWN0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgUlZfTUVESUFfQ09ORklHLnBhZ2luYXRpb24gIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uLnBhZ2VkICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uLnBhZ2VkICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uLmluX3Byb2Nlc3NfZ2V0X21lZGlhICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uLmluX3Byb2Nlc3NfZ2V0X21lZGlhID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uLnBvc3RzX3Blcl9wYWdlICE9ICd1bmRlZmluZWQnICYmIChyZXMuZGF0YS5maWxlcy5sZW5ndGggKyByZXMuZGF0YS5mb2xkZXJzLmxlbmd0aCkgPCBSVl9NRURJQV9DT05GSUcucGFnaW5hdGlvbi5wb3N0c19wZXJfcGFnZSAmJiB0eXBlb2YgUlZfTUVESUFfQ09ORklHLnBhZ2luYXRpb24uaGFzX21vcmUgIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUlZfTUVESUFfQ09ORklHLnBhZ2luYXRpb24uaGFzX21vcmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBIZWxwZXJzLmhpZGVBamF4TG9hZGluZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZGF0YSA9PiAge1xyXG4gICAgICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2UuaGFuZGxlRXJyb3IoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaWxlRGV0YWlscyhkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5NZWRpYURldGFpbHMucmVuZGVyRGF0YShkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJCcmVhZGNydW1icyhicmVhZGNydW1iSXRlbXMpIHtcclxuICAgICAgICBsZXQgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIGxldCAkYnJlYWRjcnVtYkNvbnRhaW5lciA9ICQoJy5ydi1tZWRpYS1icmVhZGNydW1iIC5icmVhZGNydW1iJyk7XHJcbiAgICAgICAgJGJyZWFkY3J1bWJDb250YWluZXIuZmluZCgnbGknKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgXy5lYWNoKGJyZWFkY3J1bWJJdGVtcywgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IF9zZWxmLmJyZWFkY3J1bWJUZW1wbGF0ZTtcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL19fbmFtZV9fL2dpLCB2YWx1ZS5uYW1lIHx8ICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL19faWNvbl9fL2dpLCB2YWx1ZS5pY29uID8gJzxpIGNsYXNzPVwiJyArIHZhbHVlLmljb24gKyAnXCI+PC9pPicgOiAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fX2ZvbGRlcklkX18vZ2ksIHZhbHVlLmlkIHx8IDApO1xyXG4gICAgICAgICAgICAkYnJlYWRjcnVtYkNvbnRhaW5lci5hcHBlbmQoJCh0ZW1wbGF0ZSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy5ydi1tZWRpYS1jb250YWluZXInKS5hdHRyKCdkYXRhLWJyZWFkY3J1bWItY291bnQnLCBfLnNpemUoYnJlYWRjcnVtYkl0ZW1zKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlZnJlc2hGaWx0ZXIoKSB7XHJcbiAgICAgICAgbGV0ICRydk1lZGlhQ29udGFpbmVyID0gJCgnLnJ2LW1lZGlhLWNvbnRhaW5lcicpO1xyXG4gICAgICAgIGxldCB2aWV3SW4gPSBIZWxwZXJzLmdldFJlcXVlc3RQYXJhbXMoKS52aWV3X2luO1xyXG4gICAgICAgIGlmICh2aWV3SW4gIT09ICdhbGxfbWVkaWEnICYmICFIZWxwZXJzLmdldFJlcXVlc3RQYXJhbXMoKS5mb2xkZXJfaWQpIHtcclxuICAgICAgICAgICAgJCgnLnJ2LW1lZGlhLWFjdGlvbnMgLmJ0bjpub3QoW2RhdGEtdHlwZT1cInJlZnJlc2hcIl0pOm5vdChsYWJlbCknKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgJHJ2TWVkaWFDb250YWluZXIuYXR0cignZGF0YS1hbGxvdy11cGxvYWQnLCAnZmFsc2UnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcucnYtbWVkaWEtYWN0aW9ucyAuYnRuOm5vdChbZGF0YS10eXBlPVwicmVmcmVzaFwiXSk6bm90KGxhYmVsKScpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAkcnZNZWRpYUNvbnRhaW5lci5hdHRyKCdkYXRhLWFsbG93LXVwbG9hZCcsICd0cnVlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKCcucnYtbWVkaWEtYWN0aW9ucyAuYnRuLmpzLXJ2LW1lZGlhLWNoYW5nZS1maWx0ZXItZ3JvdXAnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgbGV0ICRlbXB0eV90cmFzaF9idG4gPSAkKCcucnYtbWVkaWEtYWN0aW9ucyAuYnRuW2RhdGEtYWN0aW9uPVwiZW1wdHlfdHJhc2hcIl0nKTtcclxuICAgICAgICBpZiAodmlld0luID09PSAndHJhc2gnKSB7XHJcbiAgICAgICAgICAgICRlbXB0eV90cmFzaF9idG4ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICBpZiAoIV8uc2l6ZShIZWxwZXJzLmdldEl0ZW1zKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAkZW1wdHlfdHJhc2hfYnRuLmFkZENsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRlbXB0eV90cmFzaF9idG4uYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQ29udGV4dE1lbnVTZXJ2aWNlLmRlc3Ryb3lDb250ZXh0KCk7XHJcbiAgICAgICAgQ29udGV4dE1lbnVTZXJ2aWNlLmluaXRDb250ZXh0KCk7XHJcblxyXG4gICAgICAgICRydk1lZGlhQ29udGFpbmVyLmF0dHIoJ2RhdGEtdmlldy1pbicsIHZpZXdJbik7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Services/MediaService.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Services/MessageService.js":
/*!********************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Services/MessageService.js ***!
  \********************************************************************************/
/*! exports provided: MessageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MessageService\", function() { return MessageService; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MessageService = /*#__PURE__*/function () {\n  function MessageService() {\n    _classCallCheck(this, MessageService);\n  }\n\n  _createClass(MessageService, null, [{\n    key: \"showMessage\",\n    value: function showMessage(type, message) {\n      toastr.options = {\n        closeButton: true,\n        progressBar: true,\n        positionClass: 'toast-bottom-right',\n        onclick: null,\n        showDuration: 1000,\n        hideDuration: 1000,\n        timeOut: 10000,\n        extendedTimeOut: 1000,\n        showEasing: 'swing',\n        hideEasing: 'linear',\n        showMethod: 'fadeIn',\n        hideMethod: 'fadeOut'\n      };\n      var messageHeader = '';\n\n      switch (type) {\n        case 'error':\n          messageHeader = RV_MEDIA_CONFIG.translations.message.error_header;\n          break;\n\n        case 'success':\n          messageHeader = RV_MEDIA_CONFIG.translations.message.success_header;\n          break;\n      }\n\n      toastr[type](message, messageHeader);\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(data) {\n      if (typeof data.responseJSON !== 'undefined' && !_.isArray(data.errors)) {\n        MessageService.handleValidationError(data.responseJSON.errors);\n      } else {\n        if (typeof data.responseJSON !== 'undefined') {\n          if (typeof data.responseJSON.errors !== 'undefined') {\n            if (data.status === 422) {\n              MessageService.handleValidationError(data.responseJSON.errors);\n            }\n          } else if (typeof data.responseJSON.message !== 'undefined') {\n            MessageService.showMessage('error', data.responseJSON.message);\n          } else {\n            $.each(data.responseJSON, function (index, el) {\n              $.each(el, function (key, item) {\n                MessageService.showMessage('error', item);\n              });\n            });\n          }\n        } else {\n          MessageService.showMessage('error', data.statusText);\n        }\n      }\n    }\n  }, {\n    key: \"handleValidationError\",\n    value: function handleValidationError(errors) {\n      var message = '';\n      $.each(errors, function (index, item) {\n        message += item + '<br />';\n        var $input = $('*[name=\"' + index + '\"]');\n        $input.addClass('field-has-error');\n        var $input_array = $('*[name$=\"[' + index + ']\"]');\n        $input_array.addClass('field-has-error');\n      });\n      MessageService.showMessage('error', message);\n    }\n  }]);\n\n  return MessageService;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1NlcnZpY2VzL01lc3NhZ2VTZXJ2aWNlLmpzPzhlZDMiXSwibmFtZXMiOlsiTWVzc2FnZVNlcnZpY2UiLCJ0eXBlIiwibWVzc2FnZSIsInRvYXN0ciIsIm9wdGlvbnMiLCJjbG9zZUJ1dHRvbiIsInByb2dyZXNzQmFyIiwicG9zaXRpb25DbGFzcyIsIm9uY2xpY2siLCJzaG93RHVyYXRpb24iLCJoaWRlRHVyYXRpb24iLCJ0aW1lT3V0IiwiZXh0ZW5kZWRUaW1lT3V0Iiwic2hvd0Vhc2luZyIsImhpZGVFYXNpbmciLCJzaG93TWV0aG9kIiwiaGlkZU1ldGhvZCIsIm1lc3NhZ2VIZWFkZXIiLCJSVl9NRURJQV9DT05GSUciLCJ0cmFuc2xhdGlvbnMiLCJlcnJvcl9oZWFkZXIiLCJzdWNjZXNzX2hlYWRlciIsImRhdGEiLCJyZXNwb25zZUpTT04iLCJfIiwiaXNBcnJheSIsImVycm9ycyIsImhhbmRsZVZhbGlkYXRpb25FcnJvciIsInN0YXR1cyIsInNob3dNZXNzYWdlIiwiJCIsImVhY2giLCJpbmRleCIsImVsIiwia2V5IiwiaXRlbSIsInN0YXR1c1RleHQiLCIkaW5wdXQiLCJhZGRDbGFzcyIsIiRpbnB1dF9hcnJheSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTyxJQUFNQSxjQUFiO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQSxnQ0FDdUJDLElBRHZCLEVBQzZCQyxPQUQ3QixFQUNzQztBQUM5QkMsWUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLG1CQUFXLEVBQUUsSUFEQTtBQUViQyxtQkFBVyxFQUFFLElBRkE7QUFHYkMscUJBQWEsRUFBRSxvQkFIRjtBQUliQyxlQUFPLEVBQUUsSUFKSTtBQUtiQyxvQkFBWSxFQUFFLElBTEQ7QUFNYkMsb0JBQVksRUFBRSxJQU5EO0FBT2JDLGVBQU8sRUFBRSxLQVBJO0FBUWJDLHVCQUFlLEVBQUUs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cC9TZXJ2aWNlcy9NZXNzYWdlU2VydmljZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBNZXNzYWdlU2VydmljZSB7XHJcbiAgICBzdGF0aWMgc2hvd01lc3NhZ2UodHlwZSwgbWVzc2FnZSkge1xyXG4gICAgICAgIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXI6IHRydWUsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC1ib3R0b20tcmlnaHQnLFxyXG4gICAgICAgICAgICBvbmNsaWNrOiBudWxsLFxyXG4gICAgICAgICAgICBzaG93RHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgIGhpZGVEdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgdGltZU91dDogMTAwMDAsXHJcbiAgICAgICAgICAgIGV4dGVuZGVkVGltZU91dDogMTAwMCxcclxuICAgICAgICAgICAgc2hvd0Vhc2luZzogJ3N3aW5nJyxcclxuICAgICAgICAgICAgaGlkZUVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgIHNob3dNZXRob2Q6ICdmYWRlSW4nLFxyXG4gICAgICAgICAgICBoaWRlTWV0aG9kOiAnZmFkZU91dCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgbWVzc2FnZUhlYWRlciA9ICcnO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlciA9IFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMubWVzc2FnZS5lcnJvcl9oZWFkZXI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc3VjY2Vzcyc6XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlSGVhZGVyID0gUlZfTUVESUFfQ09ORklHLnRyYW5zbGF0aW9ucy5tZXNzYWdlLnN1Y2Nlc3NfaGVhZGVyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRvYXN0clt0eXBlXShtZXNzYWdlLCBtZXNzYWdlSGVhZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGFuZGxlRXJyb3IoZGF0YSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKGRhdGEucmVzcG9uc2VKU09OKSAhPT0gJ3VuZGVmaW5lZCcgJiYgIV8uaXNBcnJheShkYXRhLmVycm9ycykpIHtcclxuICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2UuaGFuZGxlVmFsaWRhdGlvbkVycm9yKGRhdGEucmVzcG9uc2VKU09OLmVycm9ycyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoZGF0YS5yZXNwb25zZUpTT04pICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZGF0YS5yZXNwb25zZUpTT04uZXJyb3JzKSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDQyMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlU2VydmljZS5oYW5kbGVWYWxpZGF0aW9uRXJyb3IoZGF0YS5yZXNwb25zZUpTT04uZXJyb3JzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiAoZGF0YS5yZXNwb25zZUpTT04ubWVzc2FnZSkgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2Uuc2hvd01lc3NhZ2UoJ2Vycm9yJywgZGF0YS5yZXNwb25zZUpTT04ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLnJlc3BvbnNlSlNPTiwgKGluZGV4LCBlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZWwsIChrZXksIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLnNob3dNZXNzYWdlKCdlcnJvcicsIGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLnNob3dNZXNzYWdlKCdlcnJvcicsIGRhdGEuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhhbmRsZVZhbGlkYXRpb25FcnJvcihlcnJvcnMpIHtcclxuICAgICAgICBsZXQgbWVzc2FnZSA9ICcnO1xyXG4gICAgICAgICQuZWFjaChlcnJvcnMsIChpbmRleCwgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBtZXNzYWdlICs9IGl0ZW0gKyAnPGJyIC8+JztcclxuXHJcbiAgICAgICAgICAgIGxldCAkaW5wdXQgPSAkKCcqW25hbWU9XCInICsgaW5kZXggKyAnXCJdJyk7XHJcbiAgICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmllbGQtaGFzLWVycm9yJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgJGlucHV0X2FycmF5ID0gJCgnKltuYW1lJD1cIlsnICsgaW5kZXggKyAnXVwiXScpO1xyXG4gICAgICAgICAgICAkaW5wdXRfYXJyYXkuYWRkQ2xhc3MoJ2ZpZWxkLWhhcy1lcnJvcicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE1lc3NhZ2VTZXJ2aWNlLnNob3dNZXNzYWdlKCdlcnJvcicsIG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Services/MessageService.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Services/UploadService.js":
/*!*******************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Services/UploadService.js ***!
  \*******************************************************************************/
/*! exports provided: UploadService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UploadService\", function() { return UploadService; });\n/* harmony import */ var _MediaService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MediaService */ \"./platform/core/media/resources/assets/js/App/Services/MediaService.js\");\n/* harmony import */ var _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar UploadService = /*#__PURE__*/function () {\n  function UploadService() {\n    _classCallCheck(this, UploadService);\n\n    this.$body = $('body');\n    this.dropZone = null;\n    this.uploadUrl = RV_MEDIA_URL.upload_file;\n    this.uploadProgressBox = $('.rv-upload-progress');\n    this.uploadProgressContainer = $('.rv-upload-progress .rv-upload-progress-table');\n    this.uploadProgressTemplate = $('#rv_media_upload_progress_item').html();\n    this.totalQueued = 1;\n    this.MediaService = new _MediaService__WEBPACK_IMPORTED_MODULE_0__[\"MediaService\"]();\n    this.totalError = 0;\n  }\n\n  _createClass(UploadService, [{\n    key: \"init\",\n    value: function init() {\n      if (_.includes(RV_MEDIA_CONFIG.permissions, 'files.create') && $('.rv-media-items').length > 0) {\n        this.setupDropZone();\n      }\n\n      this.handleEvents();\n    }\n  }, {\n    key: \"setupDropZone\",\n    value: function setupDropZone() {\n      var _self = this;\n\n      var _dropZoneConfig = this.getDropZoneConfig();\n\n      _self.filesUpload = 0;\n\n      if (_self.dropZone) {\n        _self.dropZone.destroy();\n      }\n\n      _self.dropZone = new Dropzone(document.querySelector('.rv-media-items'), _objectSpread(_objectSpread({}, _dropZoneConfig), {}, {\n        thumbnailWidth: false,\n        thumbnailHeight: false,\n        parallelUploads: 1,\n        autoQueue: true,\n        clickable: '.js-dropzone-upload',\n        previewTemplate: false,\n        previewsContainer: false,\n        sending: function sending(file, xhr, formData) {\n          formData.append('_token', $('meta[name=\"csrf-token\"]').attr('content'));\n          formData.append('folder_id', _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().folder_id);\n          formData.append('view_in', _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().view_in);\n        },\n        chunksUploaded: function chunksUploaded(file, done) {\n          _self.uploadProgressContainer.find('.progress-percent').html('100%');\n\n          done();\n        },\n        accept: function accept(file, done) {\n          _self.filesUpload++;\n          _self.totalError = 0;\n          done();\n        },\n        uploadprogress: function uploadprogress(file, progress, bytesSent) {\n          var percent = bytesSent / file.size * 100;\n\n          if (file.upload.chunked && percent > 99) {\n            percent = percent - 1;\n          }\n\n          var percentShow = (percent > 100 ? '100' : parseInt(percent)) + '%';\n\n          var el = _self.uploadProgressContainer.find('li').eq(file.index - 1);\n\n          el.find('.progress-percent').html(percentShow);\n        }\n      }));\n\n      _self.dropZone.on('addedfile', function (file) {\n        file.index = _self.totalQueued;\n        _self.totalQueued++;\n      });\n\n      _self.dropZone.on('sending', function (file) {\n        _self.initProgress(file.name, file.size);\n      });\n\n      _self.dropZone.on('complete', function (file) {\n        if (file.accepted) {\n          _self.changeProgressStatus(file);\n        }\n\n        _self.filesUpload = 0;\n      });\n\n      _self.dropZone.on('queuecomplete', function () {\n        _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n\n        _self.MediaService.getMedia(true);\n\n        if (_self.totalError === 0) {\n          setTimeout(function () {\n            $('.rv-upload-progress .close-pane').trigger('click');\n          }, 5000);\n        }\n      });\n    }\n  }, {\n    key: \"handleEvents\",\n    value: function handleEvents() {\n      var _self = this;\n      /**\r\n       * Close upload progress pane\r\n       */\n\n\n      _self.$body.off('click', '.rv-upload-progress .close-pane').on('click', '.rv-upload-progress .close-pane', function (event) {\n        event.preventDefault();\n        $('.rv-upload-progress').addClass('hide-the-pane');\n        _self.totalError = 0;\n        setTimeout(function () {\n          $('.rv-upload-progress li').remove();\n          _self.totalQueued = 1;\n        }, 300);\n      });\n    }\n  }, {\n    key: \"initProgress\",\n    value: function initProgress($fileName, $fileSize) {\n      var template = this.uploadProgressTemplate.replace(/__fileName__/gi, $fileName).replace(/__fileSize__/gi, UploadService.formatFileSize($fileSize)).replace(/__status__/gi, 'warning').replace(/__message__/gi, 'Uploading');\n\n      if (this.checkUploadTotalProgress() && this.uploadProgressContainer.find('li').length >= 1) {\n        return;\n      }\n\n      this.uploadProgressContainer.append(template);\n      this.uploadProgressBox.removeClass('hide-the-pane');\n      this.uploadProgressBox.find('.panel-body').animate({\n        scrollTop: this.uploadProgressContainer.height()\n      }, 150);\n    }\n  }, {\n    key: \"changeProgressStatus\",\n    value: function changeProgressStatus(file) {\n      var _self = this;\n\n      var $progressLine = _self.uploadProgressContainer.find('li:nth-child(' + file.index + ')');\n\n      if (this.checkUploadTotalProgress()) {\n        $progressLine = _self.uploadProgressContainer.find('li:first');\n      }\n\n      var $label = $progressLine.find('.label');\n      $label.removeClass('label-success label-danger label-warning');\n      var response = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].jsonDecode(file.xhr.responseText || '', {});\n      _self.totalError = _self.totalError + (response.error === true || file.status === 'error' ? 1 : 0);\n      $label.addClass(response.error === true || file.status === 'error' ? 'label-danger' : 'label-success');\n      $label.html(response.error === true || file.status === 'error' ? 'Error' : 'Uploaded');\n\n      if (file.status === 'error') {\n        if (file.xhr.status === 422) {\n          var errorHtml = '';\n          $.each(response.errors, function (key, item) {\n            errorHtml += '<span class=\"text-danger\">' + item + '</span><br>';\n          });\n          $progressLine.find('.file-error').html(errorHtml);\n        } else if (file.xhr.status === 500) {\n          $progressLine.find('.file-error').html('<span class=\"text-danger\">' + file.xhr.statusText + '</span>');\n        }\n      } else if (response.error) {\n        $progressLine.find('.file-error').html('<span class=\"text-danger\">' + response.message + '</span>');\n      } else {\n        _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].addToRecent(response.data.id);\n        _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].setSelectedFile(response.data.id);\n      }\n    }\n  }, {\n    key: \"getDropZoneConfig\",\n    value: function getDropZoneConfig() {\n      return {\n        url: this.uploadUrl,\n        uploadMultiple: !RV_MEDIA_CONFIG.chunk.enabled,\n        chunking: RV_MEDIA_CONFIG.chunk.enabled,\n        forceChunking: true,\n        // forces chunking when file.size < chunkSize\n        parallelChunkUploads: false,\n        // allows chunks to be uploaded in parallel (this is independent of the parallelUploads option)\n        chunkSize: RV_MEDIA_CONFIG.chunk.chunk_size,\n        // chunk size 1,000,000 bytes (~1MB)\n        retryChunks: true,\n        // retry chunks on failure\n        retryChunksLimit: 3,\n        // retry maximum of 3 times (default is 3)\n        timeout: 0,\n        // MB,\n        maxFilesize: RV_MEDIA_CONFIG.chunk.max_file_size,\n        // MB\n        maxFiles: null // max files upload,\n\n      };\n    }\n  }, {\n    key: \"checkUploadTotalProgress\",\n    value: function checkUploadTotalProgress() {\n      return this.filesUpload === 1;\n    }\n  }], [{\n    key: \"formatFileSize\",\n    value: function formatFileSize(bytes) {\n      var si = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var thresh = si ? 1000 : 1024;\n\n      if (Math.abs(bytes) < thresh) {\n        return bytes + ' B';\n      }\n\n      var units = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n      var u = -1;\n\n      do {\n        bytes /= thresh;\n        ++u;\n      } while (Math.abs(bytes) >= thresh && u < units.length - 1);\n\n      return bytes.toFixed(1) + ' ' + units[u];\n    }\n  }]);\n\n  return UploadService;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1NlcnZpY2VzL1VwbG9hZFNlcnZpY2UuanM/ZGZlMyJdLCJuYW1lcyI6WyJVcGxvYWRTZXJ2aWNlIiwiJGJvZHkiLCIkIiwiZHJvcFpvbmUiLCJ1cGxvYWRVcmwiLCJSVl9NRURJQV9VUkwiLCJ1cGxvYWRfZmlsZSIsInVwbG9hZFByb2dyZXNzQm94IiwidXBsb2FkUHJvZ3Jlc3NDb250YWluZXIiLCJ1cGxvYWRQcm9ncmVzc1RlbXBsYXRlIiwiaHRtbCIsInRvdGFsUXVldWVkIiwiTWVkaWFTZXJ2aWNlIiwidG90YWxFcnJvciIsIl8iLCJpbmNsdWRlcyIsIlJWX01FRElBX0NPTkZJRyIsInBlcm1pc3Npb25zIiwibGVuZ3RoIiwic2V0dXBEcm9wWm9uZSIsImhhbmRsZUV2ZW50cyIsIl9zZWxmIiwiX2Ryb3Bab25lQ29uZmlnIiwiZ2V0RHJvcFpvbmVDb25maWciLCJmaWxlc1VwbG9hZCIsImRlc3Ryb3kiLCJEcm9wem9uZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRodW1ibmFpbFdpZHRoIiwidGh1bWJuYWlsSGVpZ2h0IiwicGFyYWxsZWxVcGxvYWRzIiwiYXV0b1F1ZXVlIiwiY2xpY2thYmxlIiwicHJldmlld1RlbXBsYXRlIiwicHJldmlld3NDb250YWluZXIiLCJzZW5kaW5nIiwiZmlsZSIsInhociIsImZvcm1EYXRhIiwiYXBwZW5kIiwiYXR0ciIsIkhlbHBlcnMiLCJnZXRSZXF1ZXN0UGFyYW1zIiwiZm9sZGVyX2lkIiwidmlld19pbiIsImNodW5rc1VwbG9hZGVkIiwiZG9uZSIsImZpbmQiLCJhY2NlcHQiLCJ1cGxvYWRwcm9ncmVzcyIsInByb2dyZXNzIiwiYnl0ZXNTZW50IiwicGVyY2VudCIsInNpemUiLCJ1cGxvYWQiLCJjaHVua2VkIiwicGVyY2VudFNob3ciLCJwYXJzZUludCIsImVsIiwiZXEiLCJpbmRleCIsIm9uIiwiaW5pdFByb2dyZXNzIiwibmFtZSIsImFjY2VwdGVkIiwiY2hhbmdlUHJvZ3Jlc3NTdGF0dXMiLCJyZXNldFBhZ2luYXRpb24iLCJnZXRNZWRpYSIsInNldFRpbWVvdXQiLCJ0cmlnZ2VyIiwib2ZmIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImFkZENsYXNzIiwicmVtb3ZlIiwiJGZpbGVOYW1lIiwiJGZpbGVTaXplIiwidGVtcGxhdGUiLCJyZXBsYWNlIiwiZm9ybWF0RmlsZVNpemUiLCJjaGVja1VwbG9hZFRvdGFsUHJvZ3Jlc3MiLCJyZW1vdmVDbGFzcyIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCIkcHJvZ3Jlc3NMaW5lIiwiJGxhYmVsIiwicmVzcG9uc2UiLCJqc29uRGVjb2RlIiwicmVzcG9uc2VUZXh0IiwiZXJyb3IiLCJzdGF0dXMiLCJlcnJvckh0bWwiLCJlYWNoIiwiZXJyb3JzIiwia2V5IiwiaXRlbSIsInN0YXR1c1RleHQiLCJtZXNzYWdlIiwiYWRkVG9SZWNlbnQiLCJkYXRhIiwiaWQiLCJzZXRTZWxlY3RlZEZpbGUiLCJ1cmwiLCJ1cGxvYWRNdWx0aXBsZSIsImNodW5rIiwiZW5hYmxlZCIsImNodW5raW5nIiwiZm9yY2VDaHVua2luZyIsInBhcmFsbGVsQ2h1bmtVcGxvYWRzIiwiY2h1bmtTaXplIiwiY2h1bmtfc2l6ZSIsInJldHJ5Q2h1bmtzIiwicmV0cnlDaHVua3NMaW1pdCIsInRpbWVvdXQiLCJtYXhGaWxlc2l6ZSIsIm1heF9maWxlX3NpemUiLCJtYXhGaWxlcyIsImJ5dGVzIiwic2kiLCJ0aHJlc2giLCJNYXRoIiwiYWJzIiwidW5pdHMiLCJ1IiwidG9GaXhlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFTyxJQUFNQSxhQUFiO0FBQ0ksMkJBQWM7QUFBQTs7QUFDVixTQUFLQyxLQUFMLEdBQWFDLENBQUMsQ0FBQyxNQUFELENBQWQ7QUFFQSxTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBRUEsU0FBS0MsU0FBTCxHQUFp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RyxDQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QixJQUF6QixFQUErQixJQUEvQixFQUFxQyxJQUFyQyxFQUEyQyxJQUEzQyxDQUFaO0FBQ0EsVUFBSUMsQ0FBQyxHQUFHLENBQUMsQ0FBVDs7QUFDQSxTQUFHO0FBQ0NOLGFBQUssSUFBSUUsTUFBVDtBQUNBLFVBQUVJLENBQUY7QUFDSCxPQUhELFFBR1NILElBQUksQ0FBQ0MsR0FBTCxDQUFTSixLQUFULEtBQW1CRSxNQUFuQixJQUE2QkksQ0FBQyxHQUFHRCxLQUFLLENBQUMxRyxNQUFOLEdBQWUsQ0FIekQ7O0FBS0EsYUFBT3FHLEtBQUssQ0FBQ08sT0FBTixDQUFjLENBQWQsSUFBbUIsR0FBbkIsR0FBeUJGLEtBQUssQ0FBQ0MsQ0FBRCxDQUFyQztBQUNIO0FBbkxMOztBQUFBO0FBQUEiLCJmaWxlIjoiLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1NlcnZpY2VzL1VwbG9hZFNlcnZpY2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01lZGlhU2VydmljZX0gZnJvbSAnLi9NZWRpYVNlcnZpY2UnO1xyXG5pbXBvcnQge0hlbHBlcnN9IGZyb20gJy4uL0hlbHBlcnMvSGVscGVycyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVXBsb2FkU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLiRib2R5ID0gJCgnYm9keScpO1xyXG5cclxuICAgICAgICB0aGlzLmRyb3Bab25lID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy51cGxvYWRVcmwgPSBSVl9NRURJQV9VUkwudXBsb2FkX2ZpbGU7XHJcblxyXG4gICAgICAgIHRoaXMudXBsb2FkUHJvZ3Jlc3NCb3ggPSAkKCcucnYtdXBsb2FkLXByb2dyZXNzJyk7XHJcblxyXG4gICAgICAgIHRoaXMudXBsb2FkUHJvZ3Jlc3NDb250YWluZXIgPSAkKCcucnYtdXBsb2FkLXByb2dyZXNzIC5ydi11cGxvYWQtcHJvZ3Jlc3MtdGFibGUnKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGxvYWRQcm9ncmVzc1RlbXBsYXRlID0gJCgnI3J2X21lZGlhX3VwbG9hZF9wcm9ncmVzc19pdGVtJykuaHRtbCgpO1xyXG5cclxuICAgICAgICB0aGlzLnRvdGFsUXVldWVkID0gMTtcclxuXHJcbiAgICAgICAgdGhpcy5NZWRpYVNlcnZpY2UgPSBuZXcgTWVkaWFTZXJ2aWNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMudG90YWxFcnJvciA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBpZiAoXy5pbmNsdWRlcyhSVl9NRURJQV9DT05GSUcucGVybWlzc2lvbnMsICdmaWxlcy5jcmVhdGUnKSAmJiAkKCcucnYtbWVkaWEtaXRlbXMnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dXBEcm9wWm9uZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwRHJvcFpvbmUoKSB7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgbGV0IF9kcm9wWm9uZUNvbmZpZyA9IHRoaXMuZ2V0RHJvcFpvbmVDb25maWcoKTtcclxuICAgICAgICBfc2VsZi5maWxlc1VwbG9hZCA9IDA7XHJcblxyXG4gICAgICAgIGlmIChfc2VsZi5kcm9wWm9uZSkge1xyXG4gICAgICAgICAgICBfc2VsZi5kcm9wWm9uZS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfc2VsZi5kcm9wWm9uZSA9IG5ldyBEcm9wem9uZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucnYtbWVkaWEtaXRlbXMnKSwge1xyXG4gICAgICAgICAgICAuLi5fZHJvcFpvbmVDb25maWcsXHJcbiAgICAgICAgICAgIHRodW1ibmFpbFdpZHRoOiBmYWxzZSxcclxuICAgICAgICAgICAgdGh1bWJuYWlsSGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgcGFyYWxsZWxVcGxvYWRzOiAxLFxyXG4gICAgICAgICAgICBhdXRvUXVldWU6IHRydWUsXHJcbiAgICAgICAgICAgIGNsaWNrYWJsZTogJy5qcy1kcm9wem9uZS11cGxvYWQnLFxyXG4gICAgICAgICAgICBwcmV2aWV3VGVtcGxhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwcmV2aWV3c0NvbnRhaW5lcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbmRpbmc6IGZ1bmN0aW9uIChmaWxlLCB4aHIsIGZvcm1EYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ190b2tlbicsICQoJ21ldGFbbmFtZT1cImNzcmYtdG9rZW5cIl0nKS5hdHRyKCdjb250ZW50JykpO1xyXG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmb2xkZXJfaWQnLCBIZWxwZXJzLmdldFJlcXVlc3RQYXJhbXMoKS5mb2xkZXJfaWQpO1xyXG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd2aWV3X2luJywgSGVscGVycy5nZXRSZXF1ZXN0UGFyYW1zKCkudmlld19pbik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNodW5rc1VwbG9hZGVkOiAoZmlsZSwgZG9uZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgX3NlbGYudXBsb2FkUHJvZ3Jlc3NDb250YWluZXIuZmluZCgnLnByb2dyZXNzLXBlcmNlbnQnKS5odG1sKCcxMDAlJyk7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFjY2VwdDogKGZpbGUsIGRvbmUpID0+IHtcclxuICAgICAgICAgICAgICAgIF9zZWxmLmZpbGVzVXBsb2FkKys7XHJcbiAgICAgICAgICAgICAgICBfc2VsZi50b3RhbEVycm9yID0gMDtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXBsb2FkcHJvZ3Jlc3M6IChmaWxlLCBwcm9ncmVzcywgYnl0ZXNTZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGVyY2VudCA9IGJ5dGVzU2VudCAvIGZpbGUuc2l6ZSAqIDEwMDtcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlLnVwbG9hZC5jaHVua2VkICYmIHBlcmNlbnQgPiA5OSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnQgPSBwZXJjZW50IC0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBwZXJjZW50U2hvdyA9IChwZXJjZW50ID4gMTAwID8gJzEwMCcgOiBwYXJzZUludChwZXJjZW50KSkgKyAnJSc7XHJcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSBfc2VsZi51cGxvYWRQcm9ncmVzc0NvbnRhaW5lci5maW5kKCdsaScpLmVxKGZpbGUuaW5kZXggLSAxKTtcclxuICAgICAgICAgICAgICAgIGVsLmZpbmQoJy5wcm9ncmVzcy1wZXJjZW50JykuaHRtbChwZXJjZW50U2hvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgX3NlbGYuZHJvcFpvbmUub24oJ2FkZGVkZmlsZScsIGZpbGUgPT4ge1xyXG4gICAgICAgICAgICBmaWxlLmluZGV4ID0gX3NlbGYudG90YWxRdWV1ZWQ7XHJcbiAgICAgICAgICAgIF9zZWxmLnRvdGFsUXVldWVkKys7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF9zZWxmLmRyb3Bab25lLm9uKCdzZW5kaW5nJywgZmlsZSA9PiB7XHJcbiAgICAgICAgICAgIF9zZWxmLmluaXRQcm9ncmVzcyhmaWxlLm5hbWUsIGZpbGUuc2l6ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF9zZWxmLmRyb3Bab25lLm9uKCdjb21wbGV0ZScsIGZpbGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZmlsZS5hY2NlcHRlZCkge1xyXG4gICAgICAgICAgICAgICAgX3NlbGYuY2hhbmdlUHJvZ3Jlc3NTdGF0dXMoZmlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3NlbGYuZmlsZXNVcGxvYWQgPSAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBfc2VsZi5kcm9wWm9uZS5vbigncXVldWVjb21wbGV0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgSGVscGVycy5yZXNldFBhZ2luYXRpb24oKTtcclxuICAgICAgICAgICAgX3NlbGYuTWVkaWFTZXJ2aWNlLmdldE1lZGlhKHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoX3NlbGYudG90YWxFcnJvciA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnJ2LXVwbG9hZC1wcm9ncmVzcyAuY2xvc2UtcGFuZScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUV2ZW50cygpIHtcclxuICAgICAgICBsZXQgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENsb3NlIHVwbG9hZCBwcm9ncmVzcyBwYW5lXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3NlbGYuJGJvZHkub2ZmKCdjbGljaycsICcucnYtdXBsb2FkLXByb2dyZXNzIC5jbG9zZS1wYW5lJykub24oJ2NsaWNrJywgJy5ydi11cGxvYWQtcHJvZ3Jlc3MgLmNsb3NlLXBhbmUnLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICQoJy5ydi11cGxvYWQtcHJvZ3Jlc3MnKS5hZGRDbGFzcygnaGlkZS10aGUtcGFuZScpO1xyXG4gICAgICAgICAgICBfc2VsZi50b3RhbEVycm9yID0gMDtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCcucnYtdXBsb2FkLXByb2dyZXNzIGxpJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBfc2VsZi50b3RhbFF1ZXVlZCA9IDE7XHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFByb2dyZXNzKCRmaWxlTmFtZSwgJGZpbGVTaXplKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gdGhpcy51cGxvYWRQcm9ncmVzc1RlbXBsYXRlXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fX2ZpbGVOYW1lX18vZ2ksICRmaWxlTmFtZSlcclxuICAgICAgICAgICAgLnJlcGxhY2UoL19fZmlsZVNpemVfXy9naSwgVXBsb2FkU2VydmljZS5mb3JtYXRGaWxlU2l6ZSgkZmlsZVNpemUpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvX19zdGF0dXNfXy9naSwgJ3dhcm5pbmcnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvX19tZXNzYWdlX18vZ2ksICdVcGxvYWRpbmcnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tVcGxvYWRUb3RhbFByb2dyZXNzKCkgJiYgdGhpcy51cGxvYWRQcm9ncmVzc0NvbnRhaW5lci5maW5kKCdsaScpLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBsb2FkUHJvZ3Jlc3NDb250YWluZXIuYXBwZW5kKHRlbXBsYXRlKTtcclxuICAgICAgICB0aGlzLnVwbG9hZFByb2dyZXNzQm94LnJlbW92ZUNsYXNzKCdoaWRlLXRoZS1wYW5lJyk7XHJcbiAgICAgICAgdGhpcy51cGxvYWRQcm9ncmVzc0JveC5maW5kKCcucGFuZWwtYm9keScpXHJcbiAgICAgICAgICAgIC5hbmltYXRlKHtzY3JvbGxUb3A6IHRoaXMudXBsb2FkUHJvZ3Jlc3NDb250YWluZXIuaGVpZ2h0KCl9LCAxNTApO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVByb2dyZXNzU3RhdHVzKGZpbGUpIHtcclxuICAgICAgICBsZXQgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIGxldCAkcHJvZ3Jlc3NMaW5lID0gX3NlbGYudXBsb2FkUHJvZ3Jlc3NDb250YWluZXIuZmluZCgnbGk6bnRoLWNoaWxkKCcgKyBmaWxlLmluZGV4ICsgJyknKTtcclxuICAgICAgICBpZiAodGhpcy5jaGVja1VwbG9hZFRvdGFsUHJvZ3Jlc3MoKSkge1xyXG4gICAgICAgICAgICAkcHJvZ3Jlc3NMaW5lID0gX3NlbGYudXBsb2FkUHJvZ3Jlc3NDb250YWluZXIuZmluZCgnbGk6Zmlyc3QnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCAkbGFiZWwgPSAkcHJvZ3Jlc3NMaW5lLmZpbmQoJy5sYWJlbCcpO1xyXG4gICAgICAgICRsYWJlbC5yZW1vdmVDbGFzcygnbGFiZWwtc3VjY2VzcyBsYWJlbC1kYW5nZXIgbGFiZWwtd2FybmluZycpO1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBIZWxwZXJzLmpzb25EZWNvZGUoZmlsZS54aHIucmVzcG9uc2VUZXh0IHx8ICcnLCB7fSk7XHJcblxyXG4gICAgICAgIF9zZWxmLnRvdGFsRXJyb3IgPSBfc2VsZi50b3RhbEVycm9yICsgKHJlc3BvbnNlLmVycm9yID09PSB0cnVlIHx8IGZpbGUuc3RhdHVzID09PSAnZXJyb3InID8gMSA6IDApO1xyXG5cclxuICAgICAgICAkbGFiZWwuYWRkQ2xhc3MocmVzcG9uc2UuZXJyb3IgPT09IHRydWUgfHwgZmlsZS5zdGF0dXMgPT09ICdlcnJvcicgPyAnbGFiZWwtZGFuZ2VyJyA6ICdsYWJlbC1zdWNjZXNzJyk7XHJcbiAgICAgICAgJGxhYmVsLmh0bWwocmVzcG9uc2UuZXJyb3IgPT09IHRydWUgfHwgZmlsZS5zdGF0dXMgPT09ICdlcnJvcicgPyAnRXJyb3InIDogJ1VwbG9hZGVkJyk7XHJcbiAgICAgICAgaWYgKGZpbGUuc3RhdHVzID09PSAnZXJyb3InKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWxlLnhoci5zdGF0dXMgPT09IDQyMikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9ySHRtbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgJC5lYWNoKHJlc3BvbnNlLmVycm9ycywgKGtleSwgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ySHRtbCArPSAnPHNwYW4gY2xhc3M9XCJ0ZXh0LWRhbmdlclwiPicgKyBpdGVtICsgJzwvc3Bhbj48YnI+JztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJHByb2dyZXNzTGluZS5maW5kKCcuZmlsZS1lcnJvcicpLmh0bWwoZXJyb3JIdG1sKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWxlLnhoci5zdGF0dXMgPT09IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgJHByb2dyZXNzTGluZS5maW5kKCcuZmlsZS1lcnJvcicpLmh0bWwoJzxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXJcIj4nICsgZmlsZS54aHIuc3RhdHVzVGV4dCArICc8L3NwYW4+Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmVycm9yKSB7XHJcbiAgICAgICAgICAgICRwcm9ncmVzc0xpbmUuZmluZCgnLmZpbGUtZXJyb3InKS5odG1sKCc8c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyXCI+JyArIHJlc3BvbnNlLm1lc3NhZ2UgKyAnPC9zcGFuPicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEhlbHBlcnMuYWRkVG9SZWNlbnQocmVzcG9uc2UuZGF0YS5pZCk7XHJcbiAgICAgICAgICAgIEhlbHBlcnMuc2V0U2VsZWN0ZWRGaWxlKHJlc3BvbnNlLmRhdGEuaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZm9ybWF0RmlsZVNpemUoYnl0ZXMsIHNpID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgdGhyZXNoID0gc2kgPyAxMDAwIDogMTAyNDtcclxuICAgICAgICBpZiAoTWF0aC5hYnMoYnl0ZXMpIDwgdGhyZXNoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBieXRlcyArICcgQic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB1bml0cyA9IFsnS0InLCAnTUInLCAnR0InLCAnVEInLCAnUEInLCAnRUInLCAnWkInLCAnWUInXTtcclxuICAgICAgICBsZXQgdSA9IC0xO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgYnl0ZXMgLz0gdGhyZXNoO1xyXG4gICAgICAgICAgICArK3U7XHJcbiAgICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoYnl0ZXMpID49IHRocmVzaCAmJiB1IDwgdW5pdHMubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgIHJldHVybiBieXRlcy50b0ZpeGVkKDEpICsgJyAnICsgdW5pdHNbdV07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RHJvcFpvbmVDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiB0aGlzLnVwbG9hZFVybCxcclxuICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6ICFSVl9NRURJQV9DT05GSUcuY2h1bmsuZW5hYmxlZCxcclxuICAgICAgICAgICAgY2h1bmtpbmc6IFJWX01FRElBX0NPTkZJRy5jaHVuay5lbmFibGVkLFxyXG4gICAgICAgICAgICBmb3JjZUNodW5raW5nOiB0cnVlLCAvLyBmb3JjZXMgY2h1bmtpbmcgd2hlbiBmaWxlLnNpemUgPCBjaHVua1NpemVcclxuICAgICAgICAgICAgcGFyYWxsZWxDaHVua1VwbG9hZHM6IGZhbHNlLCAvLyBhbGxvd3MgY2h1bmtzIHRvIGJlIHVwbG9hZGVkIGluIHBhcmFsbGVsICh0aGlzIGlzIGluZGVwZW5kZW50IG9mIHRoZSBwYXJhbGxlbFVwbG9hZHMgb3B0aW9uKVxyXG4gICAgICAgICAgICBjaHVua1NpemU6IFJWX01FRElBX0NPTkZJRy5jaHVuay5jaHVua19zaXplLCAvLyBjaHVuayBzaXplIDEsMDAwLDAwMCBieXRlcyAofjFNQilcclxuICAgICAgICAgICAgcmV0cnlDaHVua3M6IHRydWUsIC8vIHJldHJ5IGNodW5rcyBvbiBmYWlsdXJlXHJcbiAgICAgICAgICAgIHJldHJ5Q2h1bmtzTGltaXQ6IDMsIC8vIHJldHJ5IG1heGltdW0gb2YgMyB0aW1lcyAoZGVmYXVsdCBpcyAzKVxyXG4gICAgICAgICAgICB0aW1lb3V0OiAwLCAvLyBNQixcclxuICAgICAgICAgICAgbWF4RmlsZXNpemU6IFJWX01FRElBX0NPTkZJRy5jaHVuay5tYXhfZmlsZV9zaXplLCAvLyBNQlxyXG4gICAgICAgICAgICBtYXhGaWxlczogbnVsbCwgLy8gbWF4IGZpbGVzIHVwbG9hZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrVXBsb2FkVG90YWxQcm9ncmVzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWxlc1VwbG9hZCA9PT0gMTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Services/UploadService.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Views/MediaDetails.js":
/*!***************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Views/MediaDetails.js ***!
  \***************************************************************************/
/*! exports provided: MediaDetails */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaDetails\", function() { return MediaDetails; });\n/* harmony import */ var _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar MediaDetails = /*#__PURE__*/function () {\n  function MediaDetails() {\n    _classCallCheck(this, MediaDetails);\n\n    this.$detailsWrapper = $('.rv-media-main .rv-media-details');\n    this.descriptionItemTemplate = '<div class=\"rv-media-name\"><p>__title__</p>__url__</div>';\n    this.onlyFields = ['name', 'full_url', 'size', 'mime_type', 'created_at', 'updated_at', 'nothing_selected'];\n  }\n\n  _createClass(MediaDetails, [{\n    key: \"renderData\",\n    value: function renderData(data) {\n      var _this = this;\n\n      var _self = this;\n\n      var thumb = data.type === 'image' ? '<img src=\"' + data.full_url + '\" alt=\"' + data.name + '\">' : '<i class=\"' + data.icon + '\"></i>';\n      var description = '';\n      var useClipboard = false;\n\n      _.forEach(data, function (val, index) {\n        if (_.includes(_self.onlyFields, index)) {\n          if (!_.includes(['size', 'mime_type'], index)) {\n            description += _self.descriptionItemTemplate.replace(/__title__/gi, RV_MEDIA_CONFIG.translations[index]).replace(/__url__/gi, val ? index === 'full_url' ? '<div class=\"input-group\"><input id=\"file_details_url\" type=\"text\" value=\"' + val + '\" class=\"form-control\"><span class=\"input-group-prepend\"><button class=\"btn btn-default js-btn-copy-to-clipboard\" type=\"button\" data-clipboard-target=\"#file_details_url\" title=\"Copied\"><img class=\"clippy\" src=\"' + _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].asset('/vendor/core/media/images/clippy.svg') + '\" width=\"13\" alt=\"Copy to clipboard\"></button></span></div>' : '<span title=\"' + val + '\">' + val + '</span>' : '');\n\n            if (index === 'full_url') {\n              useClipboard = true;\n            }\n          }\n        }\n      });\n\n      _self.$detailsWrapper.find('.rv-media-thumbnail').html(thumb);\n\n      _self.$detailsWrapper.find('.rv-media-description').html(description);\n\n      if (useClipboard) {\n        new Clipboard('.js-btn-copy-to-clipboard');\n        $('.js-btn-copy-to-clipboard').tooltip().on('mouseenter', function () {\n          $(_this).tooltip('hide');\n        }).on('mouseleave', function () {\n          $(_this).tooltip('hide');\n        });\n      }\n    }\n  }]);\n\n  return MediaDetails;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1ZpZXdzL01lZGlhRGV0YWlscy5qcz84YzQ0Il0sIm5hbWVzIjpbIk1lZGlhRGV0YWlscyIsIiRkZXRhaWxzV3JhcHBlciIsIiQiLCJkZXNjcmlwdGlvbkl0ZW1UZW1wbGF0ZSIsIm9ubHlGaWVsZHMiLCJkYXRhIiwiX3NlbGYiLCJ0aHVtYiIsInR5cGUiLCJmdWxsX3VybCIsIm5hbWUiLCJpY29uIiwiZGVzY3JpcHRpb24iLCJ1c2VDbGlwYm9hcmQiLCJfIiwiZm9yRWFjaCIsInZhbCIsImluZGV4IiwiaW5jbHVkZXMiLCJyZXBsYWNlIiwiUlZfTUVESUFfQ09ORklHIiwidHJhbnNsYXRpb25zIiwiSGVscGVycyIsImFzc2V0IiwiZmluZCIsImh0bWwiLCJDbGlwYm9hcmQiLCJ0b29sdGlwIiwib24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBRU8sSUFBTUEsWUFBYjtBQUNJLDBCQUFjO0FBQUE7O0FBQ1YsU0FBS0MsZUFBTCxHQUF1QkMsQ0FBQyxDQUFDLGtDQUFELENBQXhCO0FBRUEsU0FBS0MsdUJBQUwsR0FBK0IsMERBQS9CO0FBRUEsU0FBS0MsVUFBTCxHQUFrQixDQUNkLE1BRGMsRUFFZCxVQUZjLEVBR2QsTUFIYyxFQUlkLFdBSmMsRUFLZCxZQUxjLEVBTWQsWUFOYyxFQU9kLGtCQVBjLENBQWxCO0FBU0g7O0FBZkw7QUFBQTtBQUFBLCtCQWlCZUMsSUFqQmYsRUFpQnFCO0FBQUE7O0FBQ2IsVUFBSUMsS0FBSyxHQUFHLElBQVo7O0FBQ0EsVUFBSUMsS0FBSyxHQUFHRixJQUFJLENBQUNHLElBQUwsS0FBYyxPQUFkLEdBQXdCLGVBQWVILElBQUksQ0FBQ0ksUUFBcEIsR0FBK0IsU0FBL0IsR0FBMkNKLElBQUksQ0FBQ0ssSUFBaEQsR0FBdUQsSUFBL0UsR0FBc0YsZUFBZUwsSUFBSSxDQUFDTSxJQUFwQixHQUEyQixRQUE3SDtBQUNBLFVBQUlDLFdBQVcsR0FBRyxFQUFsQjtBQUNBLFVBQUlDLFlBQVksR0FBRyxLQUFuQjs7QUFDQUMsT0FBQyxDQUFDQyxPQUFGLENBQVVWLElBQVYsRUFBZ0IsVUFBQ1csR0FBRCxFQUFNQyxLQUFOLEVBQWdCO0FBQzVCLFlBQUlILENBQUMsQ0FBQ0ksUUFBRixDQUFXWixLQUFLLENBQUNGLFVBQWpCLEVBQTZCYSxLQUE3QixDQUFKLEVBQXlDO0FBQ3JDLGNBQUksQ0FBQ0gsQ0FBQyxDQUFDSSxRQUFGLENBQVcsQ0FBQyxNQUFELEVBQVMsV0FBVCxDQUFYLEVBQWtDRCxLQUFsQyxDQUFMLEVBQStDO0FBQzNDTCx1QkFBVyxJQUFJTixLQUFLLENBQUNILHVCQUFOLENBQ1ZnQixPQURVLENBQ0YsYUFERSxFQUNhQyxlQUFlLENBQUNDLFlBQWhCLENBQTZCSixLQUE3QixDQURiLEVBRVZFLE9BRlUsQ0FFRixXQUZFLEVBRVdILEdBQUcsR0FBR0MsS0FBSyxLQUFLLFVBQVYsR0FBdUIsOEVBQThFRCxHQUE5RSxHQUFvRixvTkFBcEYsR0FBMlNNLHdEQUFPLENBQUNDLEtBQVIsQ0FBYyxzQ0FBZCxDQUEzUyxHQUFtVyw2REFBMVgsR0FBMGIsa0JBQWtCUCxHQUFsQixHQUF3QixJQUF4QixHQUErQkEsR0FBL0IsR0FBcUMsU0FBbGUsR0FBOGUsRUFGNWYsQ0FBZjs7QUFHQSxnQkFBSUMsS0FBSyxLQUFLLFVBQWQsRUFBMEI7QUFDdEJKLDBCQUFZLEdBQUcsSUFBZjtBQUNIO0FBQ0o7QUFDSjtBQUNKLE9BWEQ7O0FBWUFQLFdBQUssQ0FBQ0wsZUFBTixDQUFzQnVCLElBQXRCLENBQTJCLHFCQUEzQixFQUFrREMsSUFBbEQsQ0FBdURsQixLQUF2RDs7QUFDQUQsV0FBSyxDQUFDTCxlQUFOLENBQXNCdUIsSUFBdEIsQ0FBMkIsdUJBQTNCLEVBQW9EQyxJQUFwRCxDQUF5RGIsV0FBekQ7O0FBQ0EsVUFBSUMsWUFBSixFQUFrQjtBQUNkLFlBQUlhLFNBQUosQ0FBYywyQkFBZDtBQUNBeEIsU0FBQyxDQUFDLDJCQUFELENBQUQsQ0FBK0J5QixPQUEvQixHQUNLQyxFQURMLENBQ1EsWUFEUixFQUNzQixZQUFNO0FBQ3BCMUIsV0FBQyxDQUFDLEtBQUQsQ0FBRCxDQUFReUIsT0FBUixDQUFnQixNQUFoQjtBQUNILFNBSEwsRUFJS0MsRUFKTCxDQUlRLFlBSlIsRUFJc0IsWUFBTTtBQUNwQjFCLFdBQUMsQ0FBQyxLQUFELENBQUQsQ0FBUXlCLE9BQVIsQ0FBZ0IsTUFBaEI7QUFDSCxTQU5MO0FBT0g7QUFDSjtBQTlDTDs7QUFBQTtBQUFBIiwiZmlsZSI6Ii4vcGxhdGZvcm0vY29yZS9tZWRpYS9yZXNvdXJjZXMvYXNzZXRzL2pzL0FwcC9WaWV3cy9NZWRpYURldGFpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0hlbHBlcnN9IGZyb20gJy4uL0hlbHBlcnMvSGVscGVycyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVkaWFEZXRhaWxzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuJGRldGFpbHNXcmFwcGVyID0gJCgnLnJ2LW1lZGlhLW1haW4gLnJ2LW1lZGlhLWRldGFpbHMnKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbkl0ZW1UZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwicnYtbWVkaWEtbmFtZVwiPjxwPl9fdGl0bGVfXzwvcD5fX3VybF9fPC9kaXY+JztcclxuXHJcbiAgICAgICAgdGhpcy5vbmx5RmllbGRzID0gW1xyXG4gICAgICAgICAgICAnbmFtZScsXHJcbiAgICAgICAgICAgICdmdWxsX3VybCcsXHJcbiAgICAgICAgICAgICdzaXplJyxcclxuICAgICAgICAgICAgJ21pbWVfdHlwZScsXHJcbiAgICAgICAgICAgICdjcmVhdGVkX2F0JyxcclxuICAgICAgICAgICAgJ3VwZGF0ZWRfYXQnLFxyXG4gICAgICAgICAgICAnbm90aGluZ19zZWxlY3RlZCcsXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJEYXRhKGRhdGEpIHtcclxuICAgICAgICBsZXQgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIGxldCB0aHVtYiA9IGRhdGEudHlwZSA9PT0gJ2ltYWdlJyA/ICc8aW1nIHNyYz1cIicgKyBkYXRhLmZ1bGxfdXJsICsgJ1wiIGFsdD1cIicgKyBkYXRhLm5hbWUgKyAnXCI+JyA6ICc8aSBjbGFzcz1cIicgKyBkYXRhLmljb24gKyAnXCI+PC9pPic7XHJcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gJyc7XHJcbiAgICAgICAgbGV0IHVzZUNsaXBib2FyZCA9IGZhbHNlO1xyXG4gICAgICAgIF8uZm9yRWFjaChkYXRhLCAodmFsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXy5pbmNsdWRlcyhfc2VsZi5vbmx5RmllbGRzLCBpbmRleCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghXy5pbmNsdWRlcyhbJ3NpemUnLCAnbWltZV90eXBlJ10sIGluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uICs9IF9zZWxmLmRlc2NyaXB0aW9uSXRlbVRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fX3RpdGxlX18vZ2ksIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnNbaW5kZXhdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvX191cmxfXy9naSwgdmFsID8gaW5kZXggPT09ICdmdWxsX3VybCcgPyAnPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+PGlucHV0IGlkPVwiZmlsZV9kZXRhaWxzX3VybFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgdmFsICsgJ1wiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+PHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBqcy1idG4tY29weS10by1jbGlwYm9hcmRcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1jbGlwYm9hcmQtdGFyZ2V0PVwiI2ZpbGVfZGV0YWlsc191cmxcIiB0aXRsZT1cIkNvcGllZFwiPjxpbWcgY2xhc3M9XCJjbGlwcHlcIiBzcmM9XCInICsgSGVscGVycy5hc3NldCgnL3ZlbmRvci9jb3JlL21lZGlhL2ltYWdlcy9jbGlwcHkuc3ZnJykgKyAnXCIgd2lkdGg9XCIxM1wiIGFsdD1cIkNvcHkgdG8gY2xpcGJvYXJkXCI+PC9idXR0b24+PC9zcGFuPjwvZGl2PicgOiAnPHNwYW4gdGl0bGU9XCInICsgdmFsICsgJ1wiPicgKyB2YWwgKyAnPC9zcGFuPicgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAnZnVsbF91cmwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNsaXBib2FyZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX3NlbGYuJGRldGFpbHNXcmFwcGVyLmZpbmQoJy5ydi1tZWRpYS10aHVtYm5haWwnKS5odG1sKHRodW1iKTtcclxuICAgICAgICBfc2VsZi4kZGV0YWlsc1dyYXBwZXIuZmluZCgnLnJ2LW1lZGlhLWRlc2NyaXB0aW9uJykuaHRtbChkZXNjcmlwdGlvbik7XHJcbiAgICAgICAgaWYgKHVzZUNsaXBib2FyZCkge1xyXG4gICAgICAgICAgICBuZXcgQ2xpcGJvYXJkKCcuanMtYnRuLWNvcHktdG8tY2xpcGJvYXJkJyk7XHJcbiAgICAgICAgICAgICQoJy5qcy1idG4tY29weS10by1jbGlwYm9hcmQnKS50b29sdGlwKClcclxuICAgICAgICAgICAgICAgIC5vbignbW91c2VlbnRlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnRvb2x0aXAoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50b29sdGlwKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Views/MediaDetails.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/App/Views/MediaList.js":
/*!************************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/App/Views/MediaList.js ***!
  \************************************************************************/
/*! exports provided: MediaList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaList\", function() { return MediaList; });\n/* harmony import */ var _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\n/* harmony import */ var _Services_ActionsService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Services/ActionsService */ \"./platform/core/media/resources/assets/js/App/Services/ActionsService.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar MediaList = /*#__PURE__*/function () {\n  function MediaList() {\n    _classCallCheck(this, MediaList);\n\n    this.group = {};\n    this.group.list = $('#rv_media_items_list').html();\n    this.group.tiles = $('#rv_media_items_tiles').html();\n    this.item = {};\n    this.item.list = $('#rv_media_items_list_element').html();\n    this.item.tiles = $('#rv_media_items_tiles_element').html();\n    this.$groupContainer = $('.rv-media-items');\n  }\n\n  _createClass(MediaList, [{\n    key: \"renderData\",\n    value: function renderData(data) {\n      var reload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var load_more_file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _self = this;\n\n      var MediaConfig = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getConfigs();\n\n      var template = _self.group[_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getRequestParams().view_type];\n\n      var view_in = _Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getRequestParams().view_in;\n\n      if (!_.includes(['all_media', 'public', 'trash', 'favorites', 'recent'], view_in)) {\n        view_in = 'all_media';\n      }\n\n      template = template.replace(/__noItemIcon__/gi, RV_MEDIA_CONFIG.translations.no_item[view_in].icon || '').replace(/__noItemTitle__/gi, RV_MEDIA_CONFIG.translations.no_item[view_in].title || '').replace(/__noItemMessage__/gi, RV_MEDIA_CONFIG.translations.no_item[view_in].message || '');\n      var $result = $(template);\n      var $itemsWrapper = $result.find('ul');\n\n      if (load_more_file && this.$groupContainer.find('.rv-media-grid ul').length > 0) {\n        $itemsWrapper = this.$groupContainer.find('.rv-media-grid ul');\n      }\n\n      if (_.size(data.folders) > 0 || _.size(data.files) > 0 || load_more_file) {\n        $('.rv-media-items').addClass('has-items');\n      } else {\n        $('.rv-media-items').removeClass('has-items');\n      }\n\n      _.forEach(data.folders, function (value) {\n        var item = _self.item[_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getRequestParams().view_type];\n\n        item = item.replace(/__type__/gi, 'folder').replace(/__id__/gi, value.id).replace(/__name__/gi, value.name || '').replace(/__size__/gi, '').replace(/__date__/gi, value.created_at || '').replace(/__thumb__/gi, '<i class=\"fa fa-folder\"></i>');\n        var $item = $(item);\n\n        _.forEach(value, function (val, index) {\n          $item.data(index, val);\n        });\n\n        $item.data('is_folder', true);\n        $item.data('icon', MediaConfig.icons.folder);\n        $itemsWrapper.append($item);\n      });\n\n      _.forEach(data.files, function (value) {\n        var item = _self.item[_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getRequestParams().view_type];\n\n        item = item.replace(/__type__/gi, 'file').replace(/__id__/gi, value.id).replace(/__name__/gi, value.name || '').replace(/__size__/gi, value.size || '').replace(/__date__/gi, value.created_at || '');\n\n        if (_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getRequestParams().view_type === 'list') {\n          item = item.replace(/__thumb__/gi, '<i class=\"' + value.icon + '\"></i>');\n        } else {\n          item = item.replace(/__thumb__/gi, value.thumb ? '<img src=\"' + value.thumb + '\" alt=\"' + value.name + '\">' : '<i class=\"' + value.icon + '\"></i>');\n        }\n\n        var $item = $(item);\n        $item.data('is_folder', false);\n\n        _.forEach(value, function (val, index) {\n          $item.data(index, val);\n        });\n\n        $itemsWrapper.append($item);\n      });\n\n      if (reload !== false) {\n        _self.$groupContainer.empty();\n      }\n\n      if (!(load_more_file && this.$groupContainer.find('.rv-media-grid ul').length > 0)) {\n        _self.$groupContainer.append($result);\n      }\n\n      _self.$groupContainer.find('.loading-wrapper').remove();\n\n      _Services_ActionsService__WEBPACK_IMPORTED_MODULE_1__[\"ActionsService\"].handleDropdown(); // Trigger event click for file selected\n\n      $('.js-media-list-title[data-id=' + data.selected_file_id + ']').trigger('click');\n    }\n  }]);\n\n  return MediaList;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvQXBwL1ZpZXdzL01lZGlhTGlzdC5qcz8wNjhlIl0sIm5hbWVzIjpbIk1lZGlhTGlzdCIsImdyb3VwIiwibGlzdCIsIiQiLCJodG1sIiwidGlsZXMiLCJpdGVtIiwiJGdyb3VwQ29udGFpbmVyIiwiZGF0YSIsInJlbG9hZCIsImxvYWRfbW9yZV9maWxlIiwiX3NlbGYiLCJNZWRpYUNvbmZpZyIsIkhlbHBlcnMiLCJnZXRDb25maWdzIiwidGVtcGxhdGUiLCJnZXRSZXF1ZXN0UGFyYW1zIiwidmlld190eXBlIiwidmlld19pbiIsIl8iLCJpbmNsdWRlcyIsInJlcGxhY2UiLCJSVl9NRURJQV9DT05GSUciLCJ0cmFuc2xhdGlvbnMiLCJub19pdGVtIiwiaWNvbiIsInRpdGxlIiwibWVzc2FnZSIsIiRyZXN1bHQiLCIkaXRlbXNXcmFwcGVyIiwiZmluZCIsImxlbmd0aCIsInNpemUiLCJmb2xkZXJzIiwiZmlsZXMiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZm9yRWFjaCIsInZhbHVlIiwiaWQiLCJuYW1lIiwiY3JlYXRlZF9hdCIsIiRpdGVtIiwidmFsIiwiaW5kZXgiLCJpY29ucyIsImZvbGRlciIsImFwcGVuZCIsInRodW1iIiwiZW1wdHkiLCJyZW1vdmUiLCJBY3Rpb25zU2VydmljZSIsImhhbmRsZURyb3Bkb3duIiwic2VsZWN0ZWRfZmlsZV9pZCIsInRyaWdnZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRU8sSUFBTUEsU0FBYjtBQUNJLHVCQUFjO0FBQUE7O0FBQ1YsU0FBS0MsS0FBTCxHQUFhLEVBQWI7QUFDQSxTQUFLQSxLQUFMLENBQVdDLElBQVgsR0FBa0JDLENBQUMsQ0FBQyxzQkFBRCxDQUFELENBQTBCQyxJQUExQixFQUFsQjtBQUNBLFNBQUtILEtBQUwsQ0FBV0ksS0FBWCxHQUFtQkYsQ0FBQyxDQUFDLHVCQUFELENBQUQsQ0FBMkJDLElBQTNCLEVBQW5CO0FBRUEsU0FBS0UsSUFBTCxHQUFZLEVBQVo7QUFDQSxTQUFLQSxJQUFMLENBQVVKLElBQVYsR0FBaUJDLENBQUMsQ0FBQyw4QkFBRCxDQUFELENBQWtDQyxJQUFsQyxFQUFqQjtBQUNBLFNBQUtFLElBQUwsQ0FBVUQsS0FBVixHQUFrQkYsQ0FBQyxDQUFDLCtCQUFELENBQUQsQ0FBbUNDLElBQW5DLEVBQWxCO0FBRUEsU0FBS0csZUFBTCxHQUF1QkosQ0FBQyxDQUFDLGlCQUFELENBQXhCO0FBQ0g7O0FBWEw7QUFBQTtBQUFBLCtCQWFlSyxJQWJmLEVBYTZEO0FBQUEsVUFBeENDLE1BQXdDLHVFQUEvQixLQUErQjtBQUFBLFVBQXhCQyxjQUF3Qix1RUFBUCxLQUFPOztBQUNyRCxVQUFJQyxLQUFLLEdBQUcsSUFBWjs7QUFDQSxVQUFJQyxXQUFXLEdBQUdDLHdEQUFPLENBQUNDLFVBQVIsRUFBbEI7O0FBQ0EsVUFBSUMsUUFBUSxHQUFHSixLQUFLLENBQUNWLEtBQU4sQ0FBWVksd0RBQU8sQ0FBQ0csZ0JBQVIsR0FBMkJDLFNBQXZDLENBQWY7O0FBRUEsVUFBSUMsT0FBTyxHQUFHTCx3REFBTyxDQUFDRyxnQkFBUixHQUEyQkUsT0FBekM7O0FBRUEsVUFBSSxDQUFDQyxDQUFDLENBQUNDLFFBQUYsQ0FBVyxDQUFDLFdBQUQsRUFBYyxRQUFkLEVBQXdCLE9BQXhCLEVBQWlDLFdBQWpDLEVBQThDLFFBQTlDLENBQVgsRUFBb0VGLE9BQXBFLENBQUwsRUFBbUY7QUFDL0VBLGVBQU8sR0FBRyxXQUFWO0FBQ0g7O0FBRURILGNBQVEsR0FBR0EsUUFBUSxDQUNkTSxPQURNLENBQ0Usa0JBREYsRUFDc0JDLGVBQWUsQ0FBQ0MsWUFBaEIsQ0FBNkJDLE9BQTdCLENBQXFDTixPQUFyQyxFQUE4Q08sSUFBOUMsSUFBc0QsRUFENUUsRUFFTkosT0FGTSxDQUVFLG1CQUZGLEVBRXVCQyxlQUFlLENBQUNDLFlBQWhCLENBQTZCQyxPQUE3QixDQUFxQ04sT0FBckMsRUFBOENRLEtBQTlDLElBQXVELEVBRjlFLEVBR05MLE9BSE0sQ0FHRSxxQkFIRixFQUd5QkMsZUFBZSxDQUFDQyxZQUFoQixDQUE2QkMsT0FBN0IsQ0FBcUNOLE9BQXJDLEVBQThDUyxPQUE5QyxJQUF5RCxFQUhsRixDQUFYO0FBS0EsVUFBSUMsT0FBTyxHQUFHekIsQ0FBQyxDQUFDWSxRQUFELENBQWY7QUFDQSxVQUFJYyxhQUFhLEdBQUdELE9BQU8sQ0FBQ0UsSUFBUixDQUFhLElBQWIsQ0FBcEI7O0FBRUEsVUFBSXBCLGNBQWMsSUFBSSxLQUFLSCxlQUFMLENBQXFCdUIsSUFBckIsQ0FBMEIsbUJBQTFCLEVBQStDQyxNQUEvQyxHQUF3RCxDQUE5RSxFQUFpRjtBQUM3RUYscUJBQWEsR0FBRyxLQUFLdEIsZUFBTCxDQUFxQnVCLElBQXJCLENBQTBCLG1CQUExQixDQUFoQjtBQUNIOztBQUVELFVBQUlYLENBQUMsQ0FBQ2EsSUFBRixDQUFPeEIsSUFBSSxDQUFDeUIsT0FBWixJQUF1QixDQUF2QixJQUE0QmQsQ0FBQyxDQUFDYSxJQUFGLENBQU94QixJQUFJLENBQUMwQixLQUFaLElBQXFCLENBQWpELElBQXNEeEIsY0FBMUQsRUFBMEU7QUFDdEVQLFNBQUMsQ0FBQyxpQkFBRCxDQUFELENBQXFCZ0MsUUFBckIsQ0FBOEIsV0FBOUI7QUFDSCxPQUZELE1BRU87QUFDSGhDLFNBQUMsQ0FBQyxpQkFBRCxDQUFELENBQXFCaUMsV0FBckIsQ0FBaUMsV0FBakM7QUFDSDs7QUFFRGpCLE9BQUMsQ0FBQ2tCLE9BQUYsQ0FBVTdCLElBQUksQ0FBQ3lCLE9BQWYsRUFBd0IsVUFBQ0ssS0FBRCxFQUFXO0FBQy9CLFlBQUloQyxJQUFJLEdBQUdLLEtBQUssQ0FBQ0wsSUFBTixDQUFXTyx3REFBTyxDQUFDRyxnQkFBUixHQUEyQkMsU0FBdEMsQ0FBWDs7QUFDQVgsWUFBSSxHQUFHQSxJQUFJLENBQ05lLE9BREUsQ0FDTSxZQUROLEVBQ29CLFFBRHBCLEVBRUZBLE9BRkUsQ0FFTSxVQUZOLEVBRWtCaUIsS0FBSyxDQUFDQyxFQUZ4QixFQUdGbEIsT0FIRSxDQUdNLFlBSE4sRUFHb0JpQixLQUFLLENBQUNFLElBQU4sSUFBYyxFQUhsQyxFQUlGbkIsT0FKRSxDQUlNLFlBSk4sRUFJb0IsRUFKcEIsRUFLRkEsT0FMRSxDQUtNLFlBTE4sRUFLb0JpQixLQUFLLENBQUNHLFVBQU4sSUFBb0IsRUFMeEMsRUFNRnBCLE9BTkUsQ0FNTSxhQU5OLEVBTXFCLDhCQU5yQixDQUFQO0FBT0EsWUFBSXFCLEtBQUssR0FBR3ZDLENBQUMsQ0FBQ0csSUFBRCxDQUFiOztBQUNBYSxTQUFDLENBQUNrQixPQUFGLENBQVVDLEtBQVYsRUFBaUIsVUFBQ0ssR0FBRCxFQUFNQyxLQUFOLEVBQWdCO0FBQzdCRixlQUFLLENBQUNsQyxJQUFOLENBQVdvQyxLQUFYLEVBQWtCRCxHQUFsQjtBQUNILFNBRkQ7O0FBR0FELGFBQUssQ0FBQ2xDLElBQU4sQ0FBVyxXQUFYLEVBQXdCLElBQXhCO0FBQ0FrQyxhQUFLLENBQUNsQyxJQUFOLENBQVcsTUFBWCxFQUFtQkksV0FBVyxDQUFDaUMsS0FBWixDQUFrQkMsTUFBckM7QUFDQWpCLHFCQUFhLENBQUNrQixNQUFkLENBQXFCTCxLQUFyQjtBQUNILE9BaEJEOztBQWtCQXZCLE9BQUMsQ0FBQ2tCLE9BQUYsQ0FBVTdCLElBQUksQ0FBQzBCLEtBQWYsRUFBc0IsVUFBQ0ksS0FBRCxFQUFXO0FBQzdCLFlBQUloQyxJQUFJLEdBQUdLLEtBQUssQ0FBQ0wsSUFBTixDQUFXTyx3REFBTyxDQUFDRyxnQkFBUixHQUEyQkMsU0FBdEMsQ0FBWDs7QUFDQVgsWUFBSSxHQUFHQSxJQUFJLENBQ05lLE9BREUsQ0FDTSxZQUROLEVBQ29CLE1BRHBCLEVBRUZBLE9BRkUsQ0FFTSxVQUZOLEVBRWtCaUIsS0FBSyxDQUFDQyxFQUZ4QixFQUdGbEIsT0FIRSxDQUdNLFlBSE4sRUFHb0JpQixLQUFLLENBQUNFLElBQU4sSUFBYyxFQUhsQyxFQUlGbkIsT0FKRSxDQUlNLFlBSk4sRUFJb0JpQixLQUFLLENBQUNOLElBQU4sSUFBYyxFQUpsQyxFQUtGWCxPQUxFLENBS00sWUFMTixFQUtvQmlCLEtBQUssQ0FBQ0csVUFBTixJQUFvQixFQUx4QyxDQUFQOztBQU1BLFlBQUk1Qix3REFBTyxDQUFDRyxnQkFBUixHQUEyQkMsU0FBM0IsS0FBeUMsTUFBN0MsRUFBcUQ7QUFDakRYLGNBQUksR0FBR0EsSUFBSSxDQUNOZSxPQURFLENBQ00sYUFETixFQUNxQixlQUFlaUIsS0FBSyxDQUFDYixJQUFyQixHQUE0QixRQURqRCxDQUFQO0FBRUgsU0FIRCxNQUdPO0FBQ0huQixjQUFJLEdBQUdBLElBQUksQ0FDTmUsT0FERSxDQUNNLGFBRE4sRUFDcUJpQixLQUFLLENBQUNVLEtBQU4sR0FBYyxlQUFlVixLQUFLLENBQUNVLEtBQXJCLEdBQTZCLFNBQTdCLEdBQXlDVixLQUFLLENBQUNFLElBQS9DLEdBQXNELElBQXBFLEdBQTJFLGVBQWVGLEtBQUssQ0FBQ2IsSUFBckIsR0FBNEIsUUFENUgsQ0FBUDtBQUVIOztBQUNELFlBQUlpQixLQUFLLEdBQUd2QyxDQUFDLENBQUNHLElBQUQsQ0FBYjtBQUNBb0MsYUFBSyxDQUFDbEMsSUFBTixDQUFXLFdBQVgsRUFBd0IsS0FBeEI7O0FBQ0FXLFNBQUMsQ0FBQ2tCLE9BQUYsQ0FBVUMsS0FBVixFQUFpQixVQUFDSyxHQUFELEVBQU1DLEtBQU4sRUFBZ0I7QUFDN0JGLGVBQUssQ0FBQ2xDLElBQU4sQ0FBV29DLEtBQVgsRUFBa0JELEdBQWxCO0FBQ0gsU0FGRDs7QUFHQWQscUJBQWEsQ0FBQ2tCLE1BQWQsQ0FBcUJMLEtBQXJCO0FBQ0gsT0FyQkQ7O0FBc0JBLFVBQUlqQyxNQUFNLEtBQUssS0FBZixFQUFzQjtBQUNsQkUsYUFBSyxDQUFDSixlQUFOLENBQXNCMEMsS0FBdEI7QUFDSDs7QUFFRCxVQUFJLEVBQUV2QyxjQUFjLElBQUksS0FBS0gsZUFBTCxDQUFxQnVCLElBQXJCLENBQTBCLG1CQUExQixFQUErQ0MsTUFBL0MsR0FBd0QsQ0FBNUUsQ0FBSixFQUFvRjtBQUNoRnBCLGFBQUssQ0FBQ0osZUFBTixDQUFzQndDLE1BQXRCLENBQTZCbkIsT0FBN0I7QUFDSDs7QUFDRGpCLFdBQUssQ0FBQ0osZUFBTixDQUFzQnVCLElBQXRCLENBQTJCLGtCQUEzQixFQUErQ29CLE1BQS9DOztBQUNBQyw2RUFBYyxDQUFDQyxjQUFmLEdBN0VxRCxDQStFckQ7O0FBQ0FqRCxPQUFDLENBQUMsa0NBQWtDSyxJQUFJLENBQUM2QyxnQkFBdkMsR0FBMEQsR0FBM0QsQ0FBRCxDQUFpRUMsT0FBakUsQ0FBeUUsT0FBekU7QUFDSDtBQTlGTDs7QUFBQTtBQUFBIiwiZmlsZSI6Ii4vcGxhdGZvcm0vY29yZS9tZWRpYS9yZXNvdXJjZXMvYXNzZXRzL2pzL0FwcC9WaWV3cy9NZWRpYUxpc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0hlbHBlcnN9IGZyb20gJy4uL0hlbHBlcnMvSGVscGVycyc7XHJcbmltcG9ydCB7QWN0aW9uc1NlcnZpY2V9IGZyb20gJy4uL1NlcnZpY2VzL0FjdGlvbnNTZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZWRpYUxpc3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ncm91cCA9IHt9O1xyXG4gICAgICAgIHRoaXMuZ3JvdXAubGlzdCA9ICQoJyNydl9tZWRpYV9pdGVtc19saXN0JykuaHRtbCgpO1xyXG4gICAgICAgIHRoaXMuZ3JvdXAudGlsZXMgPSAkKCcjcnZfbWVkaWFfaXRlbXNfdGlsZXMnKS5odG1sKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaXRlbSA9IHt9O1xyXG4gICAgICAgIHRoaXMuaXRlbS5saXN0ID0gJCgnI3J2X21lZGlhX2l0ZW1zX2xpc3RfZWxlbWVudCcpLmh0bWwoKTtcclxuICAgICAgICB0aGlzLml0ZW0udGlsZXMgPSAkKCcjcnZfbWVkaWFfaXRlbXNfdGlsZXNfZWxlbWVudCcpLmh0bWwoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZ3JvdXBDb250YWluZXIgPSAkKCcucnYtbWVkaWEtaXRlbXMnKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJEYXRhKGRhdGEsIHJlbG9hZCA9IGZhbHNlLCBsb2FkX21vcmVfZmlsZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcclxuICAgICAgICBsZXQgTWVkaWFDb25maWcgPSBIZWxwZXJzLmdldENvbmZpZ3MoKTtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBfc2VsZi5ncm91cFtIZWxwZXJzLmdldFJlcXVlc3RQYXJhbXMoKS52aWV3X3R5cGVdO1xyXG5cclxuICAgICAgICBsZXQgdmlld19pbiA9IEhlbHBlcnMuZ2V0UmVxdWVzdFBhcmFtcygpLnZpZXdfaW47XHJcblxyXG4gICAgICAgIGlmICghXy5pbmNsdWRlcyhbJ2FsbF9tZWRpYScsICdwdWJsaWMnLCAndHJhc2gnLCAnZmF2b3JpdGVzJywgJ3JlY2VudCddLCB2aWV3X2luKSkge1xyXG4gICAgICAgICAgICB2aWV3X2luID0gJ2FsbF9tZWRpYSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fX25vSXRlbUljb25fXy9naSwgUlZfTUVESUFfQ09ORklHLnRyYW5zbGF0aW9ucy5ub19pdGVtW3ZpZXdfaW5dLmljb24gfHwgJycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fX25vSXRlbVRpdGxlX18vZ2ksIFJWX01FRElBX0NPTkZJRy50cmFuc2xhdGlvbnMubm9faXRlbVt2aWV3X2luXS50aXRsZSB8fCAnJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL19fbm9JdGVtTWVzc2FnZV9fL2dpLCBSVl9NRURJQV9DT05GSUcudHJhbnNsYXRpb25zLm5vX2l0ZW1bdmlld19pbl0ubWVzc2FnZSB8fCAnJyk7XHJcblxyXG4gICAgICAgIGxldCAkcmVzdWx0ID0gJCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgbGV0ICRpdGVtc1dyYXBwZXIgPSAkcmVzdWx0LmZpbmQoJ3VsJyk7XHJcblxyXG4gICAgICAgIGlmIChsb2FkX21vcmVfZmlsZSAmJiB0aGlzLiRncm91cENvbnRhaW5lci5maW5kKCcucnYtbWVkaWEtZ3JpZCB1bCcpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgJGl0ZW1zV3JhcHBlciA9IHRoaXMuJGdyb3VwQ29udGFpbmVyLmZpbmQoJy5ydi1tZWRpYS1ncmlkIHVsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoXy5zaXplKGRhdGEuZm9sZGVycykgPiAwIHx8IF8uc2l6ZShkYXRhLmZpbGVzKSA+IDAgfHwgbG9hZF9tb3JlX2ZpbGUpIHtcclxuICAgICAgICAgICAgJCgnLnJ2LW1lZGlhLWl0ZW1zJykuYWRkQ2xhc3MoJ2hhcy1pdGVtcycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJy5ydi1tZWRpYS1pdGVtcycpLnJlbW92ZUNsYXNzKCdoYXMtaXRlbXMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8uZm9yRWFjaChkYXRhLmZvbGRlcnMsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IF9zZWxmLml0ZW1bSGVscGVycy5nZXRSZXF1ZXN0UGFyYW1zKCkudmlld190eXBlXTtcclxuICAgICAgICAgICAgaXRlbSA9IGl0ZW1cclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fX3R5cGVfXy9naSwgJ2ZvbGRlcicpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvX19pZF9fL2dpLCB2YWx1ZS5pZClcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fX25hbWVfXy9naSwgdmFsdWUubmFtZSB8fCAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fX3NpemVfXy9naSwgJycpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvX19kYXRlX18vZ2ksIHZhbHVlLmNyZWF0ZWRfYXQgfHwgJycpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvX190aHVtYl9fL2dpLCAnPGkgY2xhc3M9XCJmYSBmYS1mb2xkZXJcIj48L2k+Jyk7XHJcbiAgICAgICAgICAgIGxldCAkaXRlbSA9ICQoaXRlbSk7XHJcbiAgICAgICAgICAgIF8uZm9yRWFjaCh2YWx1ZSwgKHZhbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICRpdGVtLmRhdGEoaW5kZXgsIHZhbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkaXRlbS5kYXRhKCdpc19mb2xkZXInLCB0cnVlKTtcclxuICAgICAgICAgICAgJGl0ZW0uZGF0YSgnaWNvbicsIE1lZGlhQ29uZmlnLmljb25zLmZvbGRlcik7XHJcbiAgICAgICAgICAgICRpdGVtc1dyYXBwZXIuYXBwZW5kKCRpdGVtKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgXy5mb3JFYWNoKGRhdGEuZmlsZXMsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IF9zZWxmLml0ZW1bSGVscGVycy5nZXRSZXF1ZXN0UGFyYW1zKCkudmlld190eXBlXTtcclxuICAgICAgICAgICAgaXRlbSA9IGl0ZW1cclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fX3R5cGVfXy9naSwgJ2ZpbGUnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL19faWRfXy9naSwgdmFsdWUuaWQpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvX19uYW1lX18vZ2ksIHZhbHVlLm5hbWUgfHwgJycpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvX19zaXplX18vZ2ksIHZhbHVlLnNpemUgfHwgJycpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvX19kYXRlX18vZ2ksIHZhbHVlLmNyZWF0ZWRfYXQgfHwgJycpO1xyXG4gICAgICAgICAgICBpZiAoSGVscGVycy5nZXRSZXF1ZXN0UGFyYW1zKCkudmlld190eXBlID09PSAnbGlzdCcpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL19fdGh1bWJfXy9naSwgJzxpIGNsYXNzPVwiJyArIHZhbHVlLmljb24gKyAnXCI+PC9pPicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvX190aHVtYl9fL2dpLCB2YWx1ZS50aHVtYiA/ICc8aW1nIHNyYz1cIicgKyB2YWx1ZS50aHVtYiArICdcIiBhbHQ9XCInICsgdmFsdWUubmFtZSArICdcIj4nIDogJzxpIGNsYXNzPVwiJyArIHZhbHVlLmljb24gKyAnXCI+PC9pPicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCAkaXRlbSA9ICQoaXRlbSk7XHJcbiAgICAgICAgICAgICRpdGVtLmRhdGEoJ2lzX2ZvbGRlcicsIGZhbHNlKTtcclxuICAgICAgICAgICAgXy5mb3JFYWNoKHZhbHVlLCAodmFsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJGl0ZW0uZGF0YShpbmRleCwgdmFsKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICRpdGVtc1dyYXBwZXIuYXBwZW5kKCRpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocmVsb2FkICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBfc2VsZi4kZ3JvdXBDb250YWluZXIuZW1wdHkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghKGxvYWRfbW9yZV9maWxlICYmIHRoaXMuJGdyb3VwQ29udGFpbmVyLmZpbmQoJy5ydi1tZWRpYS1ncmlkIHVsJykubGVuZ3RoID4gMCkpIHtcclxuICAgICAgICAgICAgX3NlbGYuJGdyb3VwQ29udGFpbmVyLmFwcGVuZCgkcmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3NlbGYuJGdyb3VwQ29udGFpbmVyLmZpbmQoJy5sb2FkaW5nLXdyYXBwZXInKS5yZW1vdmUoKTtcclxuICAgICAgICBBY3Rpb25zU2VydmljZS5oYW5kbGVEcm9wZG93bigpO1xyXG5cclxuICAgICAgICAvLyBUcmlnZ2VyIGV2ZW50IGNsaWNrIGZvciBmaWxlIHNlbGVjdGVkXHJcbiAgICAgICAgJCgnLmpzLW1lZGlhLWxpc3QtdGl0bGVbZGF0YS1pZD0nICsgZGF0YS5zZWxlY3RlZF9maWxlX2lkICsgJ10nKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/App/Views/MediaList.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/integrate.js":
/*!**************************************************************!*\
  !*** ./platform/core/media/resources/assets/js/integrate.js ***!
  \**************************************************************/
/*! exports provided: EditorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorService\", function() { return EditorService; });\n/* harmony import */ var _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App/Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\n/* harmony import */ var _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./App/Config/MediaConfig */ \"./platform/core/media/resources/assets/js/App/Config/MediaConfig.js\");\n/* harmony import */ var _App_Services_ContextMenuService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./App/Services/ContextMenuService */ \"./platform/core/media/resources/assets/js/App/Services/ContextMenuService.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar EditorService = /*#__PURE__*/function () {\n  function EditorService() {\n    _classCallCheck(this, EditorService);\n  }\n\n  _createClass(EditorService, null, [{\n    key: \"editorSelectFile\",\n    value: function editorSelectFile(selectedFiles) {\n      var is_ckeditor = _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getUrlParam('CKEditor') || _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getUrlParam('CKEditorFuncNum');\n\n      if (window.opener && is_ckeditor) {\n        var firstItem = _.first(selectedFiles);\n\n        window.opener.CKEDITOR.tools.callFunction(_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getUrlParam('CKEditorFuncNum'), firstItem.full_url);\n\n        if (window.opener) {\n          window.close();\n        }\n      } else {// No WYSIWYG editor found, use custom method.\n      }\n    }\n  }]);\n\n  return EditorService;\n}();\n\nvar rvMedia = function rvMedia(selector, options) {\n  _classCallCheck(this, rvMedia);\n\n  window.rvMedia = window.rvMedia || {};\n  var $body = $('body');\n  var defaultOptions = {\n    multiple: true,\n    type: '*',\n    onSelectFiles: function onSelectFiles(files, $el) {}\n  };\n  options = $.extend(true, defaultOptions, options);\n\n  var clickCallback = function clickCallback(event) {\n    event.preventDefault();\n    var $current = $(event.currentTarget);\n    $('#rv_media_modal').modal();\n    window.rvMedia.options = options;\n    window.rvMedia.options.open_in = 'modal';\n    window.rvMedia.$el = $current;\n    _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_1__[\"MediaConfig\"].request_params.filter = 'everything';\n    _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].storeConfig();\n    var elementOptions = window.rvMedia.$el.data('rv-media');\n\n    if (typeof elementOptions !== 'undefined' && elementOptions.length > 0) {\n      elementOptions = elementOptions[0];\n      window.rvMedia.options = $.extend(true, window.rvMedia.options, elementOptions || {});\n\n      if (typeof elementOptions.selected_file_id !== 'undefined') {\n        window.rvMedia.options.is_popup = true;\n      } else if (typeof window.rvMedia.options.is_popup !== 'undefined') {\n        window.rvMedia.options.is_popup = undefined;\n      }\n    }\n\n    if ($('#rv_media_body .rv-media-container').length === 0) {\n      $('#rv_media_body').load(RV_MEDIA_URL.popup, function (data) {\n        if (data.error) {\n          alert(data.message);\n        }\n\n        $('#rv_media_body').removeClass('media-modal-loading').closest('.modal-content').removeClass('bb-loading');\n        $(document).find('.rv-media-container .js-change-action[data-type=refresh]').trigger('click');\n        _App_Services_ContextMenuService__WEBPACK_IMPORTED_MODULE_2__[\"ContextMenuService\"].destroyContext();\n        _App_Services_ContextMenuService__WEBPACK_IMPORTED_MODULE_2__[\"ContextMenuService\"].initContext();\n      });\n    } else {\n      $(document).find('.rv-media-container .js-change-action[data-type=refresh]').trigger('click');\n    }\n  };\n\n  if (typeof selector === 'string') {\n    $body.off('click', selector).on('click', selector, clickCallback);\n  } else {\n    selector.off('click').on('click', clickCallback);\n  }\n};\n\nwindow.RvMediaStandAlone = rvMedia;\n$('.js-insert-to-editor').off('click').on('click', function (event) {\n  event.preventDefault();\n  var selectedFiles = _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].getSelectedFiles();\n\n  if (_.size(selectedFiles) > 0) {\n    EditorService.editorSelectFile(selectedFiles);\n  }\n});\n\n$.fn.rvMedia = function (options) {\n  var $selector = $(this);\n  _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_1__[\"MediaConfig\"].request_params.filter = 'everything';\n  $(document).find('.js-insert-to-editor').prop('disabled', _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_1__[\"MediaConfig\"].request_params.view_in === 'trash');\n  _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_0__[\"Helpers\"].storeConfig();\n  new rvMedia($selector, options);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvaW50ZWdyYXRlLmpzPzA5MmIiXSwibmFtZXMiOlsiRWRpdG9yU2VydmljZSIsInNlbGVjdGVkRmlsZXMiLCJpc19ja2VkaXRvciIsIkhlbHBlcnMiLCJnZXRVcmxQYXJhbSIsIndpbmRvdyIsIm9wZW5lciIsImZpcnN0SXRlbSIsIl8iLCJmaXJzdCIsIkNLRURJVE9SIiwidG9vbHMiLCJjYWxsRnVuY3Rpb24iLCJmdWxsX3VybCIsImNsb3NlIiwicnZNZWRpYSIsInNlbGVjdG9yIiwib3B0aW9ucyIsIiRib2R5IiwiJCIsImRlZmF1bHRPcHRpb25zIiwibXVsdGlwbGUiLCJ0eXBlIiwib25TZWxlY3RGaWxlcyIsImZpbGVzIiwiJGVsIiwiZXh0ZW5kIiwiY2xpY2tDYWxsYmFjayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCIkY3VycmVudCIsImN1cnJlbnRUYXJnZXQiLCJtb2RhbCIsIm9wZW5faW4iLCJNZWRpYUNvbmZpZyIsInJlcXVlc3RfcGFyYW1zIiwiZmlsdGVyIiwic3RvcmVDb25maWciLCJlbGVtZW50T3B0aW9ucyIsImRhdGEiLCJsZW5ndGgiLCJzZWxlY3RlZF9maWxlX2lkIiwiaXNfcG9wdXAiLCJ1bmRlZmluZWQiLCJsb2FkIiwiUlZfTUVESUFfVVJMIiwicG9wdXAiLCJlcnJvciIsImFsZXJ0IiwibWVzc2FnZSIsInJlbW92ZUNsYXNzIiwiY2xvc2VzdCIsImRvY3VtZW50IiwiZmluZCIsInRyaWdnZXIiLCJDb250ZXh0TWVudVNlcnZpY2UiLCJkZXN0cm95Q29udGV4dCIsImluaXRDb250ZXh0Iiwib2ZmIiwib24iLCJSdk1lZGlhU3RhbmRBbG9uZSIsImdldFNlbGVjdGVkRmlsZXMiLCJzaXplIiwiZWRpdG9yU2VsZWN0RmlsZSIsImZuIiwiJHNlbGVjdG9yIiwicHJvcCIsInZpZXdfaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FB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QUN1RCxpQkFBUCxHQUEyQjdDLE9BQTNCO0FBRUFJLENBQUMsQ0FBQyxzQkFBRCxDQUFELENBQTBCdUMsR0FBMUIsQ0FBOEIsT0FBOUIsRUFBdUNDLEVBQXZDLENBQTBDLE9BQTFDLEVBQW1ELFVBQVUvQixLQUFWLEVBQWlCO0FBQ2hFQSxPQUFLLENBQUNDLGNBQU47QUFDQSxNQUFJNUIsYUFBYSxHQUFHRSw0REFBTyxDQUFDMEQsZ0JBQVIsRUFBcEI7O0FBQ0EsTUFBSXJELENBQUMsQ0FBQ3NELElBQUYsQ0FBTzdELGFBQVAsSUFBd0IsQ0FBNUIsRUFBK0I7QUFDM0JELGlCQUFhLENBQUMrRCxnQkFBZCxDQUErQjlELGFBQS9CO0FBQ0g7QUFDSixDQU5EOztBQVFBa0IsQ0FBQyxDQUFDNkMsRUFBRixDQUFLakQsT0FBTCxHQUFlLFVBQVVFLE9BQVYsRUFBbUI7QUFDOUIsTUFBSWdELFNBQVMsR0FBRzlDLENBQUMsQ0FBQyxJQUFELENBQWpCO0FBRUFlLHFFQUFXLENBQUNDLGNBQVosQ0FBMkJDLE1BQTNCLEdBQW9DLFlBQXBDO0FBQ0FqQixHQUFDLENBQUNpQyxRQUFELENBQUQsQ0FBWUMsSUFBWixDQUFpQixzQkFBakIsRUFBeUNhLElBQXpDLENBQThDLFVBQTlDLEVBQTBEaEMsbUVBQVcsQ0FBQ0MsY0FBWixDQUEyQmdDLE9BQTNCLEtBQXVDLE9BQWpHO0FBQ0FoRSw4REFBTyxDQUFDa0MsV0FBUjtBQUVBLE1BQUl0QixPQUFKLENBQVlrRCxTQUFaLEVBQXVCaEQsT0FBdkI7QUFDSCxDQVJEIiwiZmlsZSI6Ii4vcGxhdGZvcm0vY29yZS9tZWRpYS9yZXNvdXJjZXMvYXNzZXRzL2pzL2ludGVncmF0ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SGVscGVyc30gZnJvbSAnLi9BcHAvSGVscGVycy9IZWxwZXJzJztcclxuaW1wb3J0IHtNZWRpYUNvbmZpZ30gZnJvbSAnLi9BcHAvQ29uZmlnL01lZGlhQ29uZmlnJztcclxuaW1wb3J0IHtDb250ZXh0TWVudVNlcnZpY2V9IGZyb20gXCIuL0FwcC9TZXJ2aWNlcy9Db250ZXh0TWVudVNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFZGl0b3JTZXJ2aWNlIHtcclxuICAgIHN0YXRpYyBlZGl0b3JTZWxlY3RGaWxlKHNlbGVjdGVkRmlsZXMpIHtcclxuXHJcbiAgICAgICAgbGV0IGlzX2NrZWRpdG9yID0gSGVscGVycy5nZXRVcmxQYXJhbSgnQ0tFZGl0b3InKSB8fCBIZWxwZXJzLmdldFVybFBhcmFtKCdDS0VkaXRvckZ1bmNOdW0nKTtcclxuXHJcbiAgICAgICAgaWYgKHdpbmRvdy5vcGVuZXIgJiYgaXNfY2tlZGl0b3IpIHtcclxuICAgICAgICAgICAgbGV0IGZpcnN0SXRlbSA9IF8uZmlyc3Qoc2VsZWN0ZWRGaWxlcyk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cub3BlbmVyLkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihIZWxwZXJzLmdldFVybFBhcmFtKCdDS0VkaXRvckZ1bmNOdW0nKSwgZmlyc3RJdGVtLmZ1bGxfdXJsKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cub3BlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE5vIFdZU0lXWUcgZWRpdG9yIGZvdW5kLCB1c2UgY3VzdG9tIG1ldGhvZC5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIHJ2TWVkaWEge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIG9wdGlvbnMpIHtcclxuICAgICAgICB3aW5kb3cucnZNZWRpYSA9IHdpbmRvdy5ydk1lZGlhIHx8IHt9O1xyXG5cclxuICAgICAgICBsZXQgJGJvZHkgPSAkKCdib2R5Jyk7XHJcblxyXG4gICAgICAgIGxldCBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgICAgIHR5cGU6ICcqJyxcclxuICAgICAgICAgICAgb25TZWxlY3RGaWxlczogKGZpbGVzLCAkZWwpID0+IHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBvcHRpb25zID0gJC5leHRlbmQodHJ1ZSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBsZXQgY2xpY2tDYWxsYmFjayA9IGV2ZW50ID0+ICB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxldCAkY3VycmVudCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICAgICAgICAgICQoJyNydl9tZWRpYV9tb2RhbCcpLm1vZGFsKCk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cucnZNZWRpYS5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgd2luZG93LnJ2TWVkaWEub3B0aW9ucy5vcGVuX2luID0gJ21vZGFsJztcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5ydk1lZGlhLiRlbCA9ICRjdXJyZW50O1xyXG5cclxuICAgICAgICAgICAgTWVkaWFDb25maWcucmVxdWVzdF9wYXJhbXMuZmlsdGVyID0gJ2V2ZXJ5dGhpbmcnO1xyXG4gICAgICAgICAgICBIZWxwZXJzLnN0b3JlQ29uZmlnKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZWxlbWVudE9wdGlvbnMgPSB3aW5kb3cucnZNZWRpYS4kZWwuZGF0YSgncnYtbWVkaWEnKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50T3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgZWxlbWVudE9wdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudE9wdGlvbnMgPSBlbGVtZW50T3B0aW9uc1swXTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5ydk1lZGlhLm9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB3aW5kb3cucnZNZWRpYS5vcHRpb25zLCBlbGVtZW50T3B0aW9ucyB8fCB7fSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnRPcHRpb25zLnNlbGVjdGVkX2ZpbGVfaWQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJ2TWVkaWEub3B0aW9ucy5pc19wb3B1cCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cucnZNZWRpYS5vcHRpb25zLmlzX3BvcHVwICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5ydk1lZGlhLm9wdGlvbnMuaXNfcG9wdXAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICgkKCcjcnZfbWVkaWFfYm9keSAucnYtbWVkaWEtY29udGFpbmVyJykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjcnZfbWVkaWFfYm9keScpLmxvYWQoUlZfTUVESUFfVVJMLnBvcHVwLCBkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkKCcjcnZfbWVkaWFfYm9keScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnbWVkaWEtbW9kYWwtbG9hZGluZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcubW9kYWwtY29udGVudCcpLnJlbW92ZUNsYXNzKCdiYi1sb2FkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLnJ2LW1lZGlhLWNvbnRhaW5lciAuanMtY2hhbmdlLWFjdGlvbltkYXRhLXR5cGU9cmVmcmVzaF0nKS50cmlnZ2VyKCdjbGljaycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBDb250ZXh0TWVudVNlcnZpY2UuZGVzdHJveUNvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBDb250ZXh0TWVudVNlcnZpY2UuaW5pdENvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLnJ2LW1lZGlhLWNvbnRhaW5lciAuanMtY2hhbmdlLWFjdGlvbltkYXRhLXR5cGU9cmVmcmVzaF0nKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgJGJvZHkub2ZmKCdjbGljaycsIHNlbGVjdG9yKS5vbignY2xpY2snLCBzZWxlY3RvciwgY2xpY2tDYWxsYmFjayk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZWN0b3Iub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGNsaWNrQ2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxud2luZG93LlJ2TWVkaWFTdGFuZEFsb25lID0gcnZNZWRpYTtcclxuXHJcbiQoJy5qcy1pbnNlcnQtdG8tZWRpdG9yJykub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCBzZWxlY3RlZEZpbGVzID0gSGVscGVycy5nZXRTZWxlY3RlZEZpbGVzKCk7XHJcbiAgICBpZiAoXy5zaXplKHNlbGVjdGVkRmlsZXMpID4gMCkge1xyXG4gICAgICAgIEVkaXRvclNlcnZpY2UuZWRpdG9yU2VsZWN0RmlsZShzZWxlY3RlZEZpbGVzKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4kLmZuLnJ2TWVkaWEgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgbGV0ICRzZWxlY3RvciA9ICQodGhpcyk7XHJcblxyXG4gICAgTWVkaWFDb25maWcucmVxdWVzdF9wYXJhbXMuZmlsdGVyID0gJ2V2ZXJ5dGhpbmcnO1xyXG4gICAgJChkb2N1bWVudCkuZmluZCgnLmpzLWluc2VydC10by1lZGl0b3InKS5wcm9wKCdkaXNhYmxlZCcsIE1lZGlhQ29uZmlnLnJlcXVlc3RfcGFyYW1zLnZpZXdfaW4gPT09ICd0cmFzaCcpO1xyXG4gICAgSGVscGVycy5zdG9yZUNvbmZpZygpO1xyXG5cclxuICAgIG5ldyBydk1lZGlhKCRzZWxlY3Rvciwgb3B0aW9ucyk7XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/integrate.js\n");

/***/ }),

/***/ "./platform/core/media/resources/assets/js/media.js":
/*!**********************************************************!*\
  !*** ./platform/core/media/resources/assets/js/media.js ***!
  \**********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App/Config/MediaConfig */ \"./platform/core/media/resources/assets/js/App/Config/MediaConfig.js\");\n/* harmony import */ var _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./App/Helpers/Helpers */ \"./platform/core/media/resources/assets/js/App/Helpers/Helpers.js\");\n/* harmony import */ var _App_Services_MediaService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./App/Services/MediaService */ \"./platform/core/media/resources/assets/js/App/Services/MediaService.js\");\n/* harmony import */ var _App_Services_FolderService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./App/Services/FolderService */ \"./platform/core/media/resources/assets/js/App/Services/FolderService.js\");\n/* harmony import */ var _App_Services_UploadService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./App/Services/UploadService */ \"./platform/core/media/resources/assets/js/App/Services/UploadService.js\");\n/* harmony import */ var _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./App/Services/ActionsService */ \"./platform/core/media/resources/assets/js/App/Services/ActionsService.js\");\n/* harmony import */ var _integrate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./integrate */ \"./platform/core/media/resources/assets/js/integrate.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar MediaManagement = /*#__PURE__*/function () {\n  function MediaManagement() {\n    _classCallCheck(this, MediaManagement);\n\n    this.MediaService = new _App_Services_MediaService__WEBPACK_IMPORTED_MODULE_2__[\"MediaService\"]();\n    this.UploadService = new _App_Services_UploadService__WEBPACK_IMPORTED_MODULE_4__[\"UploadService\"]();\n    this.FolderService = new _App_Services_FolderService__WEBPACK_IMPORTED_MODULE_3__[\"FolderService\"]();\n    this.$body = $('body');\n  }\n\n  _createClass(MediaManagement, [{\n    key: \"init\",\n    value: function init() {\n      _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n      this.setupLayout();\n      this.handleMediaList();\n      this.changeViewType();\n      this.changeFilter();\n      this.search();\n      this.handleActions();\n      this.UploadService.init();\n      this.handleModals();\n      this.scrollGetMore();\n    }\n  }, {\n    key: \"setupLayout\",\n    value: function setupLayout() {\n      /**\r\n       * Sidebar\r\n       */\n      var $current_filter = $('.js-rv-media-change-filter[data-type=\"filter\"][data-value=\"' + _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().filter + '\"]');\n      $current_filter.closest('li').addClass('active').closest('.dropdown').find('.js-rv-media-filter-current').html('(' + $current_filter.html() + ')');\n      var $current_view_in = $('.js-rv-media-change-filter[data-type=\"view_in\"][data-value=\"' + _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().view_in + '\"]');\n      $current_view_in.closest('li').addClass('active').closest('.dropdown').find('.js-rv-media-filter-current').html('(' + $current_view_in.html() + ')');\n\n      if (_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].isUseInModal()) {\n        $('.rv-media-footer').removeClass('hidden');\n      }\n      /**\r\n       * Sort\r\n       */\n\n\n      $('.js-rv-media-change-filter[data-type=\"sort_by\"][data-value=\"' + _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().sort_by + '\"]').closest('li').addClass('active');\n      /**\r\n       * Details pane\r\n       */\n\n      var $mediaDetailsCheckbox = $('#media_details_collapse');\n      $mediaDetailsCheckbox.prop('checked', _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].hide_details_pane || false);\n      setTimeout(function () {\n        $('.rv-media-details').removeClass('hidden');\n      }, 300);\n      $mediaDetailsCheckbox.on('change', function (event) {\n        event.preventDefault();\n        _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].hide_details_pane = $(event.currentTarget).is(':checked');\n        _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].storeConfig();\n      });\n      $(document).off('click', 'button[data-dismiss-modal]').on('click', 'button[data-dismiss-modal]', function (event) {\n        var modal = $(event.currentTarget).data('dismiss-modal');\n        $(modal).modal('hide');\n      });\n    }\n  }, {\n    key: \"handleMediaList\",\n    value: function handleMediaList() {\n      var _self = this;\n      /*Ctrl key in Windows*/\n\n\n      var ctrl_key = false;\n      /*Command key in MAC*/\n\n      var meta_key = false;\n      /*Shift key*/\n\n      var shift_key = false;\n      $(document).on('keyup keydown', function (e) {\n        /*User hold ctrl key*/\n        ctrl_key = e.ctrlKey;\n        /*User hold command key*/\n\n        meta_key = e.metaKey;\n        /*User hold shift key*/\n\n        shift_key = e.shiftKey;\n      });\n\n      _self.$body.off('click', '.js-media-list-title').on('click', '.js-media-list-title', function (event) {\n        event.preventDefault();\n        var $current = $(event.currentTarget);\n\n        if (shift_key) {\n          var firstItem = _.first(_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedItems());\n\n          if (firstItem) {\n            var firstIndex = firstItem.index_key;\n            var currentIndex = $current.index();\n            $('.rv-media-items li').each(function (index, el) {\n              if (index > firstIndex && index <= currentIndex) {\n                $(el).find('input[type=checkbox]').prop('checked', true);\n              }\n            });\n          }\n        } else {\n          if (!ctrl_key && !meta_key) {\n            $current.closest('.rv-media-items').find('input[type=checkbox]').prop('checked', false);\n          }\n        }\n\n        var $lineCheckBox = $current.find('input[type=checkbox]');\n        $lineCheckBox.prop('checked', true);\n        _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__[\"ActionsService\"].handleDropdown();\n\n        _self.MediaService.getFileDetails($current.data());\n      }).on('dblclick', '.js-media-list-title', function (event) {\n        event.preventDefault();\n        var data = $(event.currentTarget).data();\n\n        if (data.is_folder === true) {\n          _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n\n          _self.FolderService.changeFolder(data.id);\n        } else {\n          if (!_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].isUseInModal()) {\n            _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__[\"ActionsService\"].handlePreview();\n          } else if (_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getConfigs().request_params.view_in !== 'trash') {\n            var selectedFiles = _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFiles();\n\n            if (_.size(selectedFiles) > 0) {\n              _integrate__WEBPACK_IMPORTED_MODULE_6__[\"EditorService\"].editorSelectFile(selectedFiles);\n            }\n          }\n        }\n      }).on('dblclick', '.js-up-one-level', function (event) {\n        event.preventDefault();\n        var count = $('.rv-media-breadcrumb .breadcrumb li').length;\n        $('.rv-media-breadcrumb .breadcrumb li:nth-child(' + (count - 1) + ') a').trigger('click');\n      }).on('contextmenu', '.js-context-menu', function (event) {\n        if (!$(event.currentTarget).find('input[type=checkbox]').is(':checked')) {\n          $(event.currentTarget).trigger('click');\n        }\n      }).on('click contextmenu', '.rv-media-items', function (e) {\n        if (!_.size(e.target.closest('.js-context-menu'))) {\n          $('.rv-media-items input[type=\"checkbox\"]').prop('checked', false);\n          $('.rv-dropdown-actions').addClass('disabled');\n\n          _self.MediaService.getFileDetails({\n            icon: 'far fa-image',\n            nothing_selected: ''\n          });\n        }\n      });\n    }\n  }, {\n    key: \"changeViewType\",\n    value: function changeViewType() {\n      var _self = this;\n\n      _self.$body.off('click', '.js-rv-media-change-view-type .btn').on('click', '.js-rv-media-change-view-type .btn', function (event) {\n        event.preventDefault();\n        var $current = $(event.currentTarget);\n\n        if ($current.hasClass('active')) {\n          return;\n        }\n\n        $current.closest('.js-rv-media-change-view-type').find('.btn').removeClass('active');\n        $current.addClass('active');\n        _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params.view_type = $current.data('type');\n\n        if ($current.data('type') === 'trash') {\n          $(document).find('.js-insert-to-editor').prop('disabled', true);\n        } else {\n          $(document).find('.js-insert-to-editor').prop('disabled', false);\n        }\n\n        _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].storeConfig();\n\n        if (typeof RV_MEDIA_CONFIG.pagination != 'undefined') {\n          if (typeof RV_MEDIA_CONFIG.pagination.paged != 'undefined') {\n            RV_MEDIA_CONFIG.pagination.paged = 1;\n          }\n        }\n\n        _self.MediaService.getMedia(true, false);\n      });\n\n      $('.js-rv-media-change-view-type .btn[data-type=\"' + _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().view_type + '\"]').trigger('click');\n      this.bindIntegrateModalEvents();\n    }\n  }, {\n    key: \"changeFilter\",\n    value: function changeFilter() {\n      var _self = this;\n\n      _self.$body.off('click', '.js-rv-media-change-filter').on('click', '.js-rv-media-change-filter', function (event) {\n        event.preventDefault();\n\n        if (!_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].isOnAjaxLoading()) {\n          var $current = $(event.currentTarget);\n          var $parent = $current.closest('ul');\n          var data = $current.data();\n          _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params[data.type] = data.value;\n\n          if (data.type === 'view_in') {\n            _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params.folder_id = 0;\n\n            if (data.value === 'trash') {\n              $(document).find('.js-insert-to-editor').prop('disabled', true);\n            } else {\n              $(document).find('.js-insert-to-editor').prop('disabled', false);\n            }\n          }\n\n          $current.closest('.dropdown').find('.js-rv-media-filter-current').html('(' + $current.html() + ')');\n          _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].storeConfig();\n          _App_Services_MediaService__WEBPACK_IMPORTED_MODULE_2__[\"MediaService\"].refreshFilter();\n          _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n\n          _self.MediaService.getMedia(true);\n\n          $parent.find('> li').removeClass('active');\n          $current.closest('li').addClass('active');\n        }\n      });\n    }\n  }, {\n    key: \"search\",\n    value: function search() {\n      var _self = this;\n\n      $('.input-search-wrapper input[type=\"text\"]').val(_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getRequestParams().search || '');\n\n      _self.$body.off('submit', '.input-search-wrapper').on('submit', '.input-search-wrapper', function (event) {\n        event.preventDefault();\n        _App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params.search = $(event.currentTarget).find('input[type=\"text\"]').val();\n        _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].storeConfig();\n        _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n\n        _self.MediaService.getMedia(true);\n      });\n    }\n  }, {\n    key: \"handleActions\",\n    value: function handleActions() {\n      var _self = this;\n\n      _self.$body.off('click', '.rv-media-actions .js-change-action[data-type=\"refresh\"]').on('click', '.rv-media-actions .js-change-action[data-type=\"refresh\"]', function (event) {\n        event.preventDefault();\n        _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n        var ele_options = typeof window.rvMedia.$el !== 'undefined' ? window.rvMedia.$el.data('rv-media') : undefined;\n\n        if (typeof ele_options !== 'undefined' && ele_options.length > 0 && typeof ele_options[0].selected_file_id !== 'undefined') {\n          _self.MediaService.getMedia(true, true);\n        } else {\n          _self.MediaService.getMedia(true, false);\n        }\n      }).off('click', '.rv-media-items li.no-items').on('click', '.rv-media-items li.no-items', function (event) {\n        event.preventDefault();\n        $('.rv-media-header .rv-media-top-header .rv-media-actions .js-dropzone-upload').trigger('click');\n      }).off('submit', '.form-add-folder').on('submit', '.form-add-folder', function (event) {\n        event.preventDefault();\n        var $input = $(event.currentTarget).find('input[type=text]');\n        var folderName = $input.val();\n\n        _self.FolderService.create(folderName);\n\n        $input.val('');\n        return false;\n      }).off('click', '.js-change-folder').on('click', '.js-change-folder', function (event) {\n        event.preventDefault();\n        var folderId = $(event.currentTarget).data('folder');\n        _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n\n        _self.FolderService.changeFolder(folderId);\n      }).off('click', '.js-files-action').on('click', '.js-files-action', function (event) {\n        event.preventDefault();\n        _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__[\"ActionsService\"].handleGlobalAction($(event.currentTarget).data('action'), function () {\n          _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].resetPagination();\n\n          _self.MediaService.getMedia(true);\n        });\n      });\n    }\n  }, {\n    key: \"handleModals\",\n    value: function handleModals() {\n      var _self = this;\n      /*Rename files*/\n\n\n      _self.$body.on('show.bs.modal', '#modal_rename_items', function () {\n        _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__[\"ActionsService\"].renderRenameItems();\n      });\n\n      _self.$body.off('submit', '#modal_rename_items .form-rename').on('submit', '#modal_rename_items .form-rename', function (event) {\n        event.preventDefault();\n        var items = [];\n        var $form = $(event.currentTarget);\n        $('#modal_rename_items .form-control').each(function (index, el) {\n          var $current = $(el);\n          var data = $current.closest('.form-group').data();\n          data.name = $current.val();\n          items.push(data);\n        });\n        _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__[\"ActionsService\"].processAction({\n          action: $form.data('action'),\n          selected: items\n        }, function (res) {\n          if (!res.error) {\n            $form.closest('.modal').modal('hide');\n\n            _self.MediaService.getMedia(true);\n          } else {\n            $('#modal_rename_items .form-group').each(function (index, el) {\n              var $current = $(el);\n\n              if (_.includes(res.data, $current.data('id'))) {\n                $current.addClass('has-error');\n              } else {\n                $current.removeClass('has-error');\n              }\n            });\n          }\n        });\n      });\n      /*Delete files*/\n\n\n      _self.$body.off('submit', '.form-delete-items').on('submit', '.form-delete-items', function (event) {\n        event.preventDefault();\n        var items = [];\n        var $form = $(event.currentTarget);\n\n        _.each(_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedItems(), function (value) {\n          items.push({\n            id: value.id,\n            is_folder: value.is_folder\n          });\n        });\n\n        _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__[\"ActionsService\"].processAction({\n          action: $form.data('action'),\n          selected: items\n        }, function (res) {\n          $form.closest('.modal').modal('hide');\n\n          if (!res.error) {\n            _self.MediaService.getMedia(true);\n          }\n        });\n      });\n      /*Empty trash*/\n\n\n      _self.$body.off('submit', '#modal_empty_trash .rv-form').on('submit', '#modal_empty_trash .rv-form', function (event) {\n        event.preventDefault();\n        var $form = $(event.currentTarget);\n        _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__[\"ActionsService\"].processAction({\n          action: $form.data('action')\n        }, function () {\n          $form.closest('.modal').modal('hide');\n\n          _self.MediaService.getMedia(true);\n        });\n      });\n\n      if (_App_Config_MediaConfig__WEBPACK_IMPORTED_MODULE_0__[\"MediaConfig\"].request_params.view_in === 'trash') {\n        $(document).find('.js-insert-to-editor').prop('disabled', true);\n      } else {\n        $(document).find('.js-insert-to-editor').prop('disabled', false);\n      }\n\n      this.bindIntegrateModalEvents();\n    }\n  }, {\n    key: \"checkFileTypeSelect\",\n    value: function checkFileTypeSelect(selectedFiles) {\n      if (typeof window.rvMedia.$el !== 'undefined') {\n        var firstItem = _.first(selectedFiles);\n\n        var ele_options = window.rvMedia.$el.data('rv-media');\n\n        if (typeof ele_options !== 'undefined' && typeof ele_options[0] !== 'undefined' && typeof ele_options[0].file_type !== 'undefined' && firstItem !== 'undefined' && firstItem.type !== 'undefined') {\n          if (!ele_options[0].file_type.match(firstItem.type)) {\n            return false;\n          } else {\n            if (typeof ele_options[0].ext_allowed !== 'undefined' && $.isArray(ele_options[0].ext_allowed)) {\n              if ($.inArray(firstItem.mime_type, ele_options[0].ext_allowed) == -1) {\n                return false;\n              }\n            }\n          }\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"bindIntegrateModalEvents\",\n    value: function bindIntegrateModalEvents() {\n      var $main_modal = $('#rv_media_modal');\n\n      var _self = this;\n\n      $main_modal.off('click', '.js-insert-to-editor').on('click', '.js-insert-to-editor', function (event) {\n        event.preventDefault();\n        var selectedFiles = _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFiles();\n\n        if (_.size(selectedFiles) > 0) {\n          window.rvMedia.options.onSelectFiles(selectedFiles, window.rvMedia.$el);\n\n          if (_self.checkFileTypeSelect(selectedFiles)) {\n            $main_modal.find('.close').trigger('click');\n          }\n        }\n      });\n      $main_modal.off('dblclick', '.js-media-list-title').on('dblclick', '.js-media-list-title', function (event) {\n        event.preventDefault();\n\n        if (_App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getConfigs().request_params.view_in !== 'trash') {\n          var selectedFiles = _App_Helpers_Helpers__WEBPACK_IMPORTED_MODULE_1__[\"Helpers\"].getSelectedFiles();\n\n          if (_.size(selectedFiles) > 0) {\n            window.rvMedia.options.onSelectFiles(selectedFiles, window.rvMedia.$el);\n\n            if (_self.checkFileTypeSelect(selectedFiles)) {\n              $main_modal.find('.close').trigger('click');\n            }\n          }\n        } else {\n          _App_Services_ActionsService__WEBPACK_IMPORTED_MODULE_5__[\"ActionsService\"].handlePreview();\n        }\n      });\n    }\n  }, {\n    key: \"scrollGetMore\",\n    // Scroll get more media\n    value: function scrollGetMore() {\n      var _self = this;\n\n      $('.rv-media-main .rv-media-items').bind('DOMMouseScroll mousewheel', function (e) {\n        if (e.originalEvent.detail > 0 || e.originalEvent.wheelDelta < 0) {\n          var loadMore;\n\n          if ($(e.currentTarget).closest('.media-modal').length > 0) {\n            loadMore = $(e.currentTarget).scrollTop() + $(e.currentTarget).innerHeight() / 2 >= $(e.currentTarget)[0].scrollHeight - 450;\n          } else {\n            loadMore = $(e.currentTarget).scrollTop() + $(e.currentTarget).innerHeight() >= $(e.currentTarget)[0].scrollHeight - 150;\n          }\n\n          if (loadMore) {\n            if (typeof RV_MEDIA_CONFIG.pagination != 'undefined' && RV_MEDIA_CONFIG.pagination.has_more) {\n              _self.MediaService.getMedia(false, false, true);\n            }\n          }\n        }\n      });\n    }\n  }], [{\n    key: \"setupSecurity\",\n    value: function setupSecurity() {\n      $.ajaxSetup({\n        headers: {\n          'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        }\n      });\n    }\n  }]);\n\n  return MediaManagement;\n}();\n\n$(document).ready(function () {\n  window.rvMedia = window.rvMedia || {};\n  MediaManagement.setupSecurity();\n  new MediaManagement().init();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wbGF0Zm9ybS9jb3JlL21lZGlhL3Jlc291cmNlcy9hc3NldHMvanMvbWVkaWEuanM/NjM1NiJdLCJuYW1lcyI6WyJNZWRpYU1hbmFnZW1lbnQiLCJNZWRpYVNlcnZpY2UiLCJVcGxvYWRTZXJ2aWNlIiwiRm9sZGVyU2VydmljZSIsIiRib2R5IiwiJCIsIkhlbHBlcnMiLCJyZXNldFBhZ2luYXRpb24iLCJzZXR1cExheW91dCIsImhhbmRsZU1lZGlhTGlzdCIsImNoYW5nZVZpZXdUeXBlIiwiY2hhbmdlRmlsdGVyIiwic2VhcmNoIiwiaGFuZGxlQWN0aW9ucyIsImluaXQiLCJoYW5kbGVNb2RhbHMiLCJzY3JvbGxHZXRNb3JlIiwiJGN1cnJlbnRfZmlsdGVyIiwiZ2V0UmVxdWVzdFBhcmFtcyIsImZpbHRlciIsImNsb3Nlc3QiLCJhZGRDbGFzcyIsImZpbmQiLCJodG1sIiwiJGN1cnJlbnRfdmlld19pbiIsInZpZXdfaW4iLCJpc1VzZUluTW9kYWwiLCJyZW1vdmVDbGFzcyIsInNvcnRfYnkiLCIkbWVkaWFEZXRhaWxzQ2hlY2tib3giLCJwcm9wIiwiTWVkaWFDb25maWciLCJoaWRlX2RldGFpbHNfcGFuZSIsInNldFRpbWVvdXQiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50VGFyZ2V0IiwiaXMiLCJzdG9yZUNvbmZpZyIsImRvY3VtZW50Iiwib2ZmIiwibW9kYWwiLCJkYXRhIiwiX3NlbGYiLCJjdHJsX2tleSIsIm1ldGFfa2V5Iiwic2hpZnRfa2V5IiwiZSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCIkY3VycmVudCIsImZpcnN0SXRlbSIsIl8iLCJmaXJzdCIsImdldFNlbGVjdGVkSXRlbXMiLCJmaXJzdEluZGV4IiwiaW5kZXhfa2V5IiwiY3VycmVudEluZGV4IiwiaW5kZXgiLCJlYWNoIiwiZWwiLCIkbGluZUNoZWNrQm94IiwiQWN0aW9uc1NlcnZpY2UiLCJoYW5kbGVEcm9wZG93biIsImdldEZpbGVEZXRhaWxzIiwiaXNfZm9sZGVyIiwiY2hhbmdlRm9sZGVyIiwiaWQiLCJoYW5kbGVQcmV2aWV3IiwiZ2V0Q29uZmlncyIsInJlcXVlc3RfcGFyYW1zIiwic2VsZWN0ZWRGaWxlcyIsImdldFNlbGVjdGVkRmlsZXMiLCJzaXplIiwiRWRpdG9yU2VydmljZSIsImVkaXRvclNlbGVjdEZpbGUiLCJjb3VudCIsImxlbmd0aCIsInRyaWdnZXIiLCJ0YXJnZXQiLCJpY29uIiwibm90aGluZ19zZWxlY3RlZCIsImhhc0NsYXNzIiwidmlld190eXBlIiwiUlZfTUVESUFfQ09ORklHIiwicGFnaW5hdGlvbiIsInBhZ2VkIiwiZ2V0TWVkaWEiLCJiaW5kSW50ZWdyYXRlTW9kYWxFdmVudHMiLCJpc09uQWpheExvYWRpbmciLCIkcGFyZW50IiwidHlwZSIsInZhbHVlIiwiZm9sZGVyX2lkIiwicmVmcmVzaEZpbHRlciIsInZhbCIsImVsZV9vcHRpb25zIiwid2luZG93IiwicnZNZWRpYSIsIiRlbCIsInVuZGVmaW5lZCIsInNlbGVjdGVkX2ZpbGVfaWQiLCIkaW5wdXQiLCJmb2xkZXJOYW1lIiwiY3JlYXRlIiwiZm9sZGVySWQiLCJoYW5kbGVHbG9iYWxBY3Rpb24iLCJyZW5kZXJSZW5hbWVJdGVtcyIsIml0ZW1zIiwiJGZvcm0iLCJuYW1lIiwicHVzaCIsInByb2Nlc3NBY3Rpb24iLCJhY3Rpb24iLCJzZWxlY3RlZCIsInJlcyIsImVycm9yIiwiaW5jbHVkZXMiLCJmaWxlX3R5cGUiLCJtYXRjaCIsImV4dF9hbGxvd2VkIiwiaXNBcnJheSIsImluQXJyYXkiLCJtaW1lX3R5cGUiLCIkbWFpbl9tb2RhbCIsIm9wdGlvbnMiLCJvblNlbGVjdEZpbGVzIiwiY2hlY2tGaWxlVHlwZVNlbGVjdCIsImJpbmQiLCJvcmlnaW5hbEV2ZW50IiwiZGV0YWlsIiwid2hlZWxEZWx0YSIsImxvYWRNb3JlIiwic2Nyb2xsVG9wIiwiaW5uZXJIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJoYXNfbW9yZSIsImFqYXhTZXR1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QixJQUFxQyxXQUFyQyxJQUFvREQsZUFBZSxDQUFDQyxVQUFoQixDQUEyQm1ELFFBQW5GLEVBQTZGO0FBQ3pGOUYsbUJBQUssQ0FBQzNDLFlBQU4sQ0FBbUJ3RixRQUFuQixDQUE0QixLQUE1QixFQUFtQyxLQUFuQyxFQUEwQyxJQUExQztBQUNIO0FBQ0o7QUFDSjtBQUNKLE9BZkQ7QUFnQkg7OztvQ0E1QnNCO0FBQ25CcEYsT0FBQyxDQUFDc0ksU0FBRixDQUFZO0FBQ1JDLGVBQU8sRUFBRTtBQUNMLDBCQUFnQnZJLENBQUMsQ0FBQyx5QkFBRCxDQUFELENBQTZCd0ksSUFBN0IsQ0FBa0MsU0FBbEM7QUFEWDtBQURELE9BQVo7QUFLSDs7Ozs7O0FBeUJMeEksQ0FBQyxDQUFDbUMsUUFBRCxDQUFELENBQVlzRyxLQUFaLENBQWtCLFlBQU07QUFDcEIzQyxRQUFNLENBQUNDLE9BQVAsR0FBaUJELE1BQU0sQ0FBQ0MsT0FBUCxJQUFrQixFQUFuQztBQUVBcEcsaUJBQWUsQ0FBQytJLGFBQWhCO0FBQ0EsTUFBSS9JLGVBQUosR0FBc0JjLElBQXRCO0FBQ0gsQ0FMRCIsImZpbGUiOiIuL3BsYXRmb3JtL2NvcmUvbWVkaWEvcmVzb3VyY2VzL2Fzc2V0cy9qcy9tZWRpYS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TWVkaWFDb25maWd9IGZyb20gJy4vQXBwL0NvbmZpZy9NZWRpYUNvbmZpZyc7XHJcbmltcG9ydCB7SGVscGVyc30gZnJvbSAnLi9BcHAvSGVscGVycy9IZWxwZXJzJztcclxuaW1wb3J0IHtNZWRpYVNlcnZpY2V9IGZyb20gJy4vQXBwL1NlcnZpY2VzL01lZGlhU2VydmljZSc7XHJcbmltcG9ydCB7Rm9sZGVyU2VydmljZX0gZnJvbSAnLi9BcHAvU2VydmljZXMvRm9sZGVyU2VydmljZSc7XHJcbmltcG9ydCB7VXBsb2FkU2VydmljZX0gZnJvbSAnLi9BcHAvU2VydmljZXMvVXBsb2FkU2VydmljZSc7XHJcbmltcG9ydCB7QWN0aW9uc1NlcnZpY2V9IGZyb20gJy4vQXBwL1NlcnZpY2VzL0FjdGlvbnNTZXJ2aWNlJztcclxuaW1wb3J0IHtFZGl0b3JTZXJ2aWNlfSBmcm9tICcuL2ludGVncmF0ZSc7XHJcblxyXG5jbGFzcyBNZWRpYU1hbmFnZW1lbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5NZWRpYVNlcnZpY2UgPSBuZXcgTWVkaWFTZXJ2aWNlKCk7XHJcbiAgICAgICAgdGhpcy5VcGxvYWRTZXJ2aWNlID0gbmV3IFVwbG9hZFNlcnZpY2UoKTtcclxuICAgICAgICB0aGlzLkZvbGRlclNlcnZpY2UgPSBuZXcgRm9sZGVyU2VydmljZSgpO1xyXG5cclxuICAgICAgICB0aGlzLiRib2R5ID0gJCgnYm9keScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgSGVscGVycy5yZXNldFBhZ2luYXRpb24oKTtcclxuICAgICAgICB0aGlzLnNldHVwTGF5b3V0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlTWVkaWFMaXN0KCk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VWaWV3VHlwZSgpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlRmlsdGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZWFyY2goKTtcclxuICAgICAgICB0aGlzLmhhbmRsZUFjdGlvbnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5VcGxvYWRTZXJ2aWNlLmluaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RhbHMoKTtcclxuICAgICAgICB0aGlzLnNjcm9sbEdldE1vcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cExheW91dCgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaWRlYmFyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGV0ICRjdXJyZW50X2ZpbHRlciA9ICQoJy5qcy1ydi1tZWRpYS1jaGFuZ2UtZmlsdGVyW2RhdGEtdHlwZT1cImZpbHRlclwiXVtkYXRhLXZhbHVlPVwiJyArIEhlbHBlcnMuZ2V0UmVxdWVzdFBhcmFtcygpLmZpbHRlciArICdcIl0nKTtcclxuXHJcbiAgICAgICAgJGN1cnJlbnRfZmlsdGVyLmNsb3Nlc3QoJ2xpJylcclxuICAgICAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAuY2xvc2VzdCgnLmRyb3Bkb3duJykuZmluZCgnLmpzLXJ2LW1lZGlhLWZpbHRlci1jdXJyZW50JykuaHRtbCgnKCcgKyAkY3VycmVudF9maWx0ZXIuaHRtbCgpICsgJyknKTtcclxuXHJcbiAgICAgICAgbGV0ICRjdXJyZW50X3ZpZXdfaW4gPSAkKCcuanMtcnYtbWVkaWEtY2hhbmdlLWZpbHRlcltkYXRhLXR5cGU9XCJ2aWV3X2luXCJdW2RhdGEtdmFsdWU9XCInICsgSGVscGVycy5nZXRSZXF1ZXN0UGFyYW1zKCkudmlld19pbiArICdcIl0nKTtcclxuXHJcbiAgICAgICAgJGN1cnJlbnRfdmlld19pbi5jbG9zZXN0KCdsaScpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgLmNsb3Nlc3QoJy5kcm9wZG93bicpLmZpbmQoJy5qcy1ydi1tZWRpYS1maWx0ZXItY3VycmVudCcpLmh0bWwoJygnICsgJGN1cnJlbnRfdmlld19pbi5odG1sKCkgKyAnKScpO1xyXG5cclxuICAgICAgICBpZiAoSGVscGVycy5pc1VzZUluTW9kYWwoKSkge1xyXG4gICAgICAgICAgICAkKCcucnYtbWVkaWEtZm9vdGVyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU29ydFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICQoJy5qcy1ydi1tZWRpYS1jaGFuZ2UtZmlsdGVyW2RhdGEtdHlwZT1cInNvcnRfYnlcIl1bZGF0YS12YWx1ZT1cIicgKyBIZWxwZXJzLmdldFJlcXVlc3RQYXJhbXMoKS5zb3J0X2J5ICsgJ1wiXScpXHJcbiAgICAgICAgICAgIC5jbG9zZXN0KCdsaScpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERldGFpbHMgcGFuZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGxldCAkbWVkaWFEZXRhaWxzQ2hlY2tib3ggPSAkKCcjbWVkaWFfZGV0YWlsc19jb2xsYXBzZScpO1xyXG4gICAgICAgICRtZWRpYURldGFpbHNDaGVja2JveC5wcm9wKCdjaGVja2VkJywgTWVkaWFDb25maWcuaGlkZV9kZXRhaWxzX3BhbmUgfHwgZmFsc2UpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAkKCcucnYtbWVkaWEtZGV0YWlscycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgICRtZWRpYURldGFpbHNDaGVja2JveC5vbignY2hhbmdlJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgTWVkaWFDb25maWcuaGlkZV9kZXRhaWxzX3BhbmUgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmlzKCc6Y2hlY2tlZCcpO1xyXG4gICAgICAgICAgICBIZWxwZXJzLnN0b3JlQ29uZmlnKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignY2xpY2snLCAnYnV0dG9uW2RhdGEtZGlzbWlzcy1tb2RhbF0nKS5vbignY2xpY2snLCAnYnV0dG9uW2RhdGEtZGlzbWlzcy1tb2RhbF0nLCBldmVudCA9PiAge1xyXG4gICAgICAgICAgICBsZXQgbW9kYWwgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2Rpc21pc3MtbW9kYWwnKTtcclxuICAgICAgICAgICAgJChtb2RhbCkubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVNZWRpYUxpc3QoKSB7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgLypDdHJsIGtleSBpbiBXaW5kb3dzKi9cclxuICAgICAgICBsZXQgY3RybF9rZXkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLypDb21tYW5kIGtleSBpbiBNQUMqL1xyXG4gICAgICAgIGxldCBtZXRhX2tleSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvKlNoaWZ0IGtleSovXHJcbiAgICAgICAgbGV0IHNoaWZ0X2tleSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAga2V5ZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIC8qVXNlciBob2xkIGN0cmwga2V5Ki9cclxuICAgICAgICAgICAgY3RybF9rZXkgPSBlLmN0cmxLZXk7XHJcbiAgICAgICAgICAgIC8qVXNlciBob2xkIGNvbW1hbmQga2V5Ki9cclxuICAgICAgICAgICAgbWV0YV9rZXkgPSBlLm1ldGFLZXk7XHJcbiAgICAgICAgICAgIC8qVXNlciBob2xkIHNoaWZ0IGtleSovXHJcbiAgICAgICAgICAgIHNoaWZ0X2tleSA9IGUuc2hpZnRLZXk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF9zZWxmLiRib2R5XHJcbiAgICAgICAgICAgIC5vZmYoJ2NsaWNrJywgJy5qcy1tZWRpYS1saXN0LXRpdGxlJykub24oJ2NsaWNrJywgJy5qcy1tZWRpYS1saXN0LXRpdGxlJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0ICRjdXJyZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzaGlmdF9rZXkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBmaXJzdEl0ZW0gPSBfLmZpcnN0KEhlbHBlcnMuZ2V0U2VsZWN0ZWRJdGVtcygpKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZmlyc3RJbmRleCA9IGZpcnN0SXRlbS5pbmRleF9rZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9ICRjdXJyZW50LmluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnJ2LW1lZGlhLWl0ZW1zIGxpJykuZWFjaCgoaW5kZXgsIGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IGZpcnN0SW5kZXggJiYgaW5kZXggPD0gY3VycmVudEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGVsKS5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjdHJsX2tleSAmJiAhbWV0YV9rZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAkY3VycmVudC5jbG9zZXN0KCcucnYtbWVkaWEtaXRlbXMnKS5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCAkbGluZUNoZWNrQm94ID0gJGN1cnJlbnQuZmluZCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKTtcclxuICAgICAgICAgICAgJGxpbmVDaGVja0JveC5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIEFjdGlvbnNTZXJ2aWNlLmhhbmRsZURyb3Bkb3duKCk7XHJcblxyXG4gICAgICAgICAgICBfc2VsZi5NZWRpYVNlcnZpY2UuZ2V0RmlsZURldGFpbHMoJGN1cnJlbnQuZGF0YSgpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ2RibGNsaWNrJywgJy5qcy1tZWRpYS1saXN0LXRpdGxlJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlzX2ZvbGRlciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIEhlbHBlcnMucmVzZXRQYWdpbmF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuRm9sZGVyU2VydmljZS5jaGFuZ2VGb2xkZXIoZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghSGVscGVycy5pc1VzZUluTW9kYWwoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBY3Rpb25zU2VydmljZS5oYW5kbGVQcmV2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChIZWxwZXJzLmdldENvbmZpZ3MoKS5yZXF1ZXN0X3BhcmFtcy52aWV3X2luICE9PSAndHJhc2gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZEZpbGVzID0gSGVscGVycy5nZXRTZWxlY3RlZEZpbGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLnNpemUoc2VsZWN0ZWRGaWxlcykgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0b3JTZXJ2aWNlLmVkaXRvclNlbGVjdEZpbGUoc2VsZWN0ZWRGaWxlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignZGJsY2xpY2snLCAnLmpzLXVwLW9uZS1sZXZlbCcsIGV2ZW50ID0+ICB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gJCgnLnJ2LW1lZGlhLWJyZWFkY3J1bWIgLmJyZWFkY3J1bWIgbGknKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAkKCcucnYtbWVkaWEtYnJlYWRjcnVtYiAuYnJlYWRjcnVtYiBsaTpudGgtY2hpbGQoJyArIChjb3VudCAtIDEpICsgJykgYScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignY29udGV4dG1lbnUnLCAnLmpzLWNvbnRleHQtbWVudScsIGV2ZW50ID0+ICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISQoZXZlbnQuY3VycmVudFRhcmdldCkuZmluZCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5pcygnOmNoZWNrZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdjbGljayBjb250ZXh0bWVudScsICcucnYtbWVkaWEtaXRlbXMnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfLnNpemUoZS50YXJnZXQuY2xvc2VzdCgnLmpzLWNvbnRleHQtbWVudScpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5ydi1tZWRpYS1pdGVtcyBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5ydi1kcm9wZG93bi1hY3Rpb25zJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuTWVkaWFTZXJ2aWNlLmdldEZpbGVEZXRhaWxzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhciBmYS1pbWFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGhpbmdfc2VsZWN0ZWQ6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIDtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VWaWV3VHlwZSgpIHtcclxuICAgICAgICBsZXQgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIF9zZWxmLiRib2R5Lm9mZignY2xpY2snLCAnLmpzLXJ2LW1lZGlhLWNoYW5nZS12aWV3LXR5cGUgLmJ0bicpLm9uKCdjbGljaycsICcuanMtcnYtbWVkaWEtY2hhbmdlLXZpZXctdHlwZSAuYnRuJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0ICRjdXJyZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgICAgICAgICAgaWYgKCRjdXJyZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRjdXJyZW50LmNsb3Nlc3QoJy5qcy1ydi1tZWRpYS1jaGFuZ2Utdmlldy10eXBlJykuZmluZCgnLmJ0bicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJGN1cnJlbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgTWVkaWFDb25maWcucmVxdWVzdF9wYXJhbXMudmlld190eXBlID0gJGN1cnJlbnQuZGF0YSgndHlwZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRjdXJyZW50LmRhdGEoJ3R5cGUnKSA9PT0gJ3RyYXNoJykge1xyXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmpzLWluc2VydC10by1lZGl0b3InKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmpzLWluc2VydC10by1lZGl0b3InKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgSGVscGVycy5zdG9yZUNvbmZpZygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBSVl9NRURJQV9DT05GSUcucGFnaW5hdGlvbiAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBSVl9NRURJQV9DT05GSUcucGFnaW5hdGlvbi5wYWdlZCAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uLnBhZ2VkID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgX3NlbGYuTWVkaWFTZXJ2aWNlLmdldE1lZGlhKHRydWUsIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuanMtcnYtbWVkaWEtY2hhbmdlLXZpZXctdHlwZSAuYnRuW2RhdGEtdHlwZT1cIicgKyBIZWxwZXJzLmdldFJlcXVlc3RQYXJhbXMoKS52aWV3X3R5cGUgKyAnXCJdJykudHJpZ2dlcignY2xpY2snKTtcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kSW50ZWdyYXRlTW9kYWxFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VGaWx0ZXIoKSB7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcclxuICAgICAgICBfc2VsZi4kYm9keS5vZmYoJ2NsaWNrJywgJy5qcy1ydi1tZWRpYS1jaGFuZ2UtZmlsdGVyJykub24oJ2NsaWNrJywgJy5qcy1ydi1tZWRpYS1jaGFuZ2UtZmlsdGVyJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKCFIZWxwZXJzLmlzT25BamF4TG9hZGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgJGN1cnJlbnQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkY3VycmVudC5jbG9zZXN0KCd1bCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSAkY3VycmVudC5kYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgTWVkaWFDb25maWcucmVxdWVzdF9wYXJhbXNbZGF0YS50eXBlXSA9IGRhdGEudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3ZpZXdfaW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTWVkaWFDb25maWcucmVxdWVzdF9wYXJhbXMuZm9sZGVyX2lkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS52YWx1ZSA9PT0gJ3RyYXNoJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuanMtaW5zZXJ0LXRvLWVkaXRvcicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmpzLWluc2VydC10by1lZGl0b3InKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJGN1cnJlbnQuY2xvc2VzdCgnLmRyb3Bkb3duJykuZmluZCgnLmpzLXJ2LW1lZGlhLWZpbHRlci1jdXJyZW50JykuaHRtbCgnKCcgKyAkY3VycmVudC5odG1sKCkgKyAnKScpO1xyXG5cclxuICAgICAgICAgICAgICAgIEhlbHBlcnMuc3RvcmVDb25maWcoKTtcclxuICAgICAgICAgICAgICAgIE1lZGlhU2VydmljZS5yZWZyZXNoRmlsdGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgSGVscGVycy5yZXNldFBhZ2luYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIF9zZWxmLk1lZGlhU2VydmljZS5nZXRNZWRpYSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkcGFyZW50LmZpbmQoJz4gbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudC5jbG9zZXN0KCdsaScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlYXJjaCgpIHtcclxuICAgICAgICBsZXQgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgICQoJy5pbnB1dC1zZWFyY2gtd3JhcHBlciBpbnB1dFt0eXBlPVwidGV4dFwiXScpLnZhbChIZWxwZXJzLmdldFJlcXVlc3RQYXJhbXMoKS5zZWFyY2ggfHwgJycpO1xyXG4gICAgICAgIF9zZWxmLiRib2R5Lm9mZignc3VibWl0JywgJy5pbnB1dC1zZWFyY2gtd3JhcHBlcicpLm9uKCdzdWJtaXQnLCAnLmlucHV0LXNlYXJjaC13cmFwcGVyJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgTWVkaWFDb25maWcucmVxdWVzdF9wYXJhbXMuc2VhcmNoID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgSGVscGVycy5zdG9yZUNvbmZpZygpO1xyXG4gICAgICAgICAgICBIZWxwZXJzLnJlc2V0UGFnaW5hdGlvbigpO1xyXG4gICAgICAgICAgICBfc2VsZi5NZWRpYVNlcnZpY2UuZ2V0TWVkaWEodHJ1ZSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVBY3Rpb25zKCkge1xyXG4gICAgICAgIGxldCBfc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIF9zZWxmLiRib2R5XHJcbiAgICAgICAgICAgIC5vZmYoJ2NsaWNrJywgJy5ydi1tZWRpYS1hY3Rpb25zIC5qcy1jaGFuZ2UtYWN0aW9uW2RhdGEtdHlwZT1cInJlZnJlc2hcIl0nKS5vbignY2xpY2snLCAnLnJ2LW1lZGlhLWFjdGlvbnMgLmpzLWNoYW5nZS1hY3Rpb25bZGF0YS10eXBlPVwicmVmcmVzaFwiXScsIGV2ZW50ID0+ICB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBIZWxwZXJzLnJlc2V0UGFnaW5hdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGVsZV9vcHRpb25zID0gdHlwZW9mIHdpbmRvdy5ydk1lZGlhLiRlbCAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cucnZNZWRpYS4kZWwuZGF0YSgncnYtbWVkaWEnKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVfb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgZWxlX29wdGlvbnMubGVuZ3RoID4gMCAmJiB0eXBlb2YgZWxlX29wdGlvbnNbMF0uc2VsZWN0ZWRfZmlsZV9pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIF9zZWxmLk1lZGlhU2VydmljZS5nZXRNZWRpYSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9zZWxmLk1lZGlhU2VydmljZS5nZXRNZWRpYSh0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAub2ZmKCdjbGljaycsICcucnYtbWVkaWEtaXRlbXMgbGkubm8taXRlbXMnKS5vbignY2xpY2snLCAnLnJ2LW1lZGlhLWl0ZW1zIGxpLm5vLWl0ZW1zJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJCgnLnJ2LW1lZGlhLWhlYWRlciAucnYtbWVkaWEtdG9wLWhlYWRlciAucnYtbWVkaWEtYWN0aW9ucyAuanMtZHJvcHpvbmUtdXBsb2FkJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAub2ZmKCdzdWJtaXQnLCAnLmZvcm0tYWRkLWZvbGRlcicpLm9uKCdzdWJtaXQnLCAnLmZvcm0tYWRkLWZvbGRlcicsIGV2ZW50ID0+ICB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxldCAkaW5wdXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmZpbmQoJ2lucHV0W3R5cGU9dGV4dF0nKTtcclxuICAgICAgICAgICAgbGV0IGZvbGRlck5hbWUgPSAkaW5wdXQudmFsKCk7XHJcbiAgICAgICAgICAgIF9zZWxmLkZvbGRlclNlcnZpY2UuY3JlYXRlKGZvbGRlck5hbWUpO1xyXG4gICAgICAgICAgICAkaW5wdXQudmFsKCcnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vZmYoJ2NsaWNrJywgJy5qcy1jaGFuZ2UtZm9sZGVyJykub24oJ2NsaWNrJywgJy5qcy1jaGFuZ2UtZm9sZGVyJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0IGZvbGRlcklkID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKCdmb2xkZXInKTtcclxuICAgICAgICAgICAgSGVscGVycy5yZXNldFBhZ2luYXRpb24oKTtcclxuICAgICAgICAgICAgX3NlbGYuRm9sZGVyU2VydmljZS5jaGFuZ2VGb2xkZXIoZm9sZGVySWQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vZmYoJ2NsaWNrJywgJy5qcy1maWxlcy1hY3Rpb24nKS5vbignY2xpY2snLCAnLmpzLWZpbGVzLWFjdGlvbicsIGV2ZW50ID0+ICB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIEFjdGlvbnNTZXJ2aWNlLmhhbmRsZUdsb2JhbEFjdGlvbigkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2FjdGlvbicpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBIZWxwZXJzLnJlc2V0UGFnaW5hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgX3NlbGYuTWVkaWFTZXJ2aWNlLmdldE1lZGlhKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIDtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVNb2RhbHMoKSB7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcclxuICAgICAgICAvKlJlbmFtZSBmaWxlcyovXHJcbiAgICAgICAgX3NlbGYuJGJvZHkub24oJ3Nob3cuYnMubW9kYWwnLCAnI21vZGFsX3JlbmFtZV9pdGVtcycsICgpID0+IHtcclxuICAgICAgICAgICAgQWN0aW9uc1NlcnZpY2UucmVuZGVyUmVuYW1lSXRlbXMoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBfc2VsZi4kYm9keS5vZmYoJ3N1Ym1pdCcsICcjbW9kYWxfcmVuYW1lX2l0ZW1zIC5mb3JtLXJlbmFtZScpLm9uKCdzdWJtaXQnLCAnI21vZGFsX3JlbmFtZV9pdGVtcyAuZm9ybS1yZW5hbWUnLCBldmVudCA9PiAge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0ICRmb3JtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgICQoJyNtb2RhbF9yZW5hbWVfaXRlbXMgLmZvcm0tY29udHJvbCcpLmVhY2goKGluZGV4LCBlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0ICRjdXJyZW50ID0gJChlbCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9ICRjdXJyZW50LmNsb3Nlc3QoJy5mb3JtLWdyb3VwJykuZGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5uYW1lID0gJGN1cnJlbnQudmFsKCk7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGRhdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIEFjdGlvbnNTZXJ2aWNlLnByb2Nlc3NBY3Rpb24oe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAkZm9ybS5kYXRhKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBpdGVtc1xyXG4gICAgICAgICAgICB9LCByZXMgPT4gIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGZvcm0uY2xvc2VzdCgnLm1vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5NZWRpYVNlcnZpY2UuZ2V0TWVkaWEodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNtb2RhbF9yZW5hbWVfaXRlbXMgLmZvcm0tZ3JvdXAnKS5lYWNoKChpbmRleCwgZWwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0ICRjdXJyZW50ID0gJChlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmluY2x1ZGVzKHJlcy5kYXRhLCAkY3VycmVudC5kYXRhKCdpZCcpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnQuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnQucmVtb3ZlQ2xhc3MoJ2hhcy1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKkRlbGV0ZSBmaWxlcyovXHJcbiAgICAgICAgX3NlbGYuJGJvZHkub2ZmKCdzdWJtaXQnLCAnLmZvcm0tZGVsZXRlLWl0ZW1zJykub24oJ3N1Ym1pdCcsICcuZm9ybS1kZWxldGUtaXRlbXMnLCBldmVudCA9PiAge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0ICRmb3JtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgIF8uZWFjaChIZWxwZXJzLmdldFNlbGVjdGVkSXRlbXMoKSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogdmFsdWUuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNfZm9sZGVyOiB2YWx1ZS5pc19mb2xkZXIsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIEFjdGlvbnNTZXJ2aWNlLnByb2Nlc3NBY3Rpb24oe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAkZm9ybS5kYXRhKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBpdGVtc1xyXG4gICAgICAgICAgICB9LCByZXMgPT4gIHtcclxuICAgICAgICAgICAgICAgICRmb3JtLmNsb3Nlc3QoJy5tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcy5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLk1lZGlhU2VydmljZS5nZXRNZWRpYSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qRW1wdHkgdHJhc2gqL1xyXG4gICAgICAgIF9zZWxmLiRib2R5Lm9mZignc3VibWl0JywgJyNtb2RhbF9lbXB0eV90cmFzaCAucnYtZm9ybScpLm9uKCdzdWJtaXQnLCAnI21vZGFsX2VtcHR5X3RyYXNoIC5ydi1mb3JtJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0ICRmb3JtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgIEFjdGlvbnNTZXJ2aWNlLnByb2Nlc3NBY3Rpb24oe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAkZm9ybS5kYXRhKCdhY3Rpb24nKVxyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkZm9ybS5jbG9zZXN0KCcubW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgX3NlbGYuTWVkaWFTZXJ2aWNlLmdldE1lZGlhKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKE1lZGlhQ29uZmlnLnJlcXVlc3RfcGFyYW1zLnZpZXdfaW4gPT09ICd0cmFzaCcpIHtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmpzLWluc2VydC10by1lZGl0b3InKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1pbnNlcnQtdG8tZWRpdG9yJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJpbmRJbnRlZ3JhdGVNb2RhbEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrRmlsZVR5cGVTZWxlY3Qoc2VsZWN0ZWRGaWxlcykge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnJ2TWVkaWEuJGVsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBsZXQgZmlyc3RJdGVtID0gXy5maXJzdChzZWxlY3RlZEZpbGVzKTtcclxuICAgICAgICAgICAgbGV0IGVsZV9vcHRpb25zID0gd2luZG93LnJ2TWVkaWEuJGVsLmRhdGEoJ3J2LW1lZGlhJyk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlX29wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBlbGVfb3B0aW9uc1swXSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGVsZV9vcHRpb25zWzBdLmZpbGVfdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZmlyc3RJdGVtICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgJiYgZmlyc3RJdGVtLnR5cGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVsZV9vcHRpb25zWzBdLmZpbGVfdHlwZS5tYXRjaChmaXJzdEl0ZW0udHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlX29wdGlvbnNbMF0uZXh0X2FsbG93ZWQgIT09ICd1bmRlZmluZWQnICYmICQuaXNBcnJheShlbGVfb3B0aW9uc1swXS5leHRfYWxsb3dlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShmaXJzdEl0ZW0ubWltZV90eXBlLCBlbGVfb3B0aW9uc1swXS5leHRfYWxsb3dlZCkgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBiaW5kSW50ZWdyYXRlTW9kYWxFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0ICRtYWluX21vZGFsID0gJCgnI3J2X21lZGlhX21vZGFsJyk7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcclxuICAgICAgICAkbWFpbl9tb2RhbC5vZmYoJ2NsaWNrJywgJy5qcy1pbnNlcnQtdG8tZWRpdG9yJykub24oJ2NsaWNrJywgJy5qcy1pbnNlcnQtdG8tZWRpdG9yJywgZXZlbnQgPT4gIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkRmlsZXMgPSBIZWxwZXJzLmdldFNlbGVjdGVkRmlsZXMoKTtcclxuICAgICAgICAgICAgaWYgKF8uc2l6ZShzZWxlY3RlZEZpbGVzKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5ydk1lZGlhLm9wdGlvbnMub25TZWxlY3RGaWxlcyhzZWxlY3RlZEZpbGVzLCB3aW5kb3cucnZNZWRpYS4kZWwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF9zZWxmLmNoZWNrRmlsZVR5cGVTZWxlY3Qoc2VsZWN0ZWRGaWxlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWFpbl9tb2RhbC5maW5kKCcuY2xvc2UnKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRtYWluX21vZGFsLm9mZignZGJsY2xpY2snLCAnLmpzLW1lZGlhLWxpc3QtdGl0bGUnKS5vbignZGJsY2xpY2snLCAnLmpzLW1lZGlhLWxpc3QtdGl0bGUnLCBldmVudCA9PiAge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoSGVscGVycy5nZXRDb25maWdzKCkucmVxdWVzdF9wYXJhbXMudmlld19pbiAhPT0gJ3RyYXNoJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkRmlsZXMgPSBIZWxwZXJzLmdldFNlbGVjdGVkRmlsZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChfLnNpemUoc2VsZWN0ZWRGaWxlcykgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJ2TWVkaWEub3B0aW9ucy5vblNlbGVjdEZpbGVzKHNlbGVjdGVkRmlsZXMsIHdpbmRvdy5ydk1lZGlhLiRlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9zZWxmLmNoZWNrRmlsZVR5cGVTZWxlY3Qoc2VsZWN0ZWRGaWxlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1haW5fbW9kYWwuZmluZCgnLmNsb3NlJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBBY3Rpb25zU2VydmljZS5oYW5kbGVQcmV2aWV3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0dXBTZWN1cml0eSgpIHtcclxuICAgICAgICAkLmFqYXhTZXR1cCh7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gU2Nyb2xsIGdldCBtb3JlIG1lZGlhXHJcbiAgICBzY3JvbGxHZXRNb3JlKCkge1xyXG4gICAgICAgIGxldCBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgJCgnLnJ2LW1lZGlhLW1haW4gLnJ2LW1lZGlhLWl0ZW1zJykuYmluZCgnRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQuZGV0YWlsID4gMCB8fCBlLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBsb2FkTW9yZTtcclxuICAgICAgICAgICAgICAgIGlmICgkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLm1lZGlhLW1vZGFsJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRNb3JlID0gJChlLmN1cnJlbnRUYXJnZXQpLnNjcm9sbFRvcCgpICsgJChlLmN1cnJlbnRUYXJnZXQpLmlubmVySGVpZ2h0KCkgLyAyID49ICQoZS5jdXJyZW50VGFyZ2V0KVswXS5zY3JvbGxIZWlnaHQgLSA0NTA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRNb3JlID0gJChlLmN1cnJlbnRUYXJnZXQpLnNjcm9sbFRvcCgpICsgJChlLmN1cnJlbnRUYXJnZXQpLmlubmVySGVpZ2h0KCkgPj0gJChlLmN1cnJlbnRUYXJnZXQpWzBdLnNjcm9sbEhlaWdodCAtIDE1MDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobG9hZE1vcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uICE9ICd1bmRlZmluZWQnICYmIFJWX01FRElBX0NPTkZJRy5wYWdpbmF0aW9uLmhhc19tb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLk1lZGlhU2VydmljZS5nZXRNZWRpYShmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcbiAgICB3aW5kb3cucnZNZWRpYSA9IHdpbmRvdy5ydk1lZGlhIHx8IHt9O1xyXG5cclxuICAgIE1lZGlhTWFuYWdlbWVudC5zZXR1cFNlY3VyaXR5KCk7XHJcbiAgICBuZXcgTWVkaWFNYW5hZ2VtZW50KCkuaW5pdCgpO1xyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./platform/core/media/resources/assets/js/media.js\n");

/***/ }),

/***/ 4:
/*!****************************************************************!*\
  !*** multi ./platform/core/media/resources/assets/js/media.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! E:\Jaydeep Mor\Work\Evolution IT Solutions\zhxcore\zhxcore_admin\platform\core\media\resources\assets\js\media.js */"./platform/core/media/resources/assets/js/media.js");


/***/ })

/******/ });